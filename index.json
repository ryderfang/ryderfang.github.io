[{"content":" App å¼€å‘ä¸å¯é¿å…åœ°è¦å’Œå†…å­˜é—®é¢˜æ‰“äº¤é“ï¼ŒOOM (Out Of Memory) ä¹Ÿæ˜¯å¼€å‘è€…éå¸¸å¤´ç–¼çš„é—®é¢˜ã€‚\nä¸ºäº†æ–¹ä¾¿å¤ç°å†…å­˜é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨åˆ†é…ä¸€ä¸ªå¤§å†…å­˜ï¼Œè¿™æ ·åœ¨ App å¯åŠ¨ä¹‹åæ ¹æ®ç”¨æˆ·çš„æ“ä½œè·¯å¾„å°±æœ‰å¯èƒ½å¤ç°è¿™ç±»é—®é¢˜ã€‚\nåœ¨ Swift ä¸­å¦‚ä½•åˆ†é…å¤§å†…å­˜å‘¢ï¼Ÿæˆ‘ä»¬çŸ¥é“ï¼ŒSwift ä¸€èˆ¬æ¥è¯´å˜é‡çš„å†…å­˜åˆ†é…å’Œé”€æ¯éƒ½æ˜¯ç³»ç»Ÿè‡ªåŠ¨ç®¡ç†çš„ (ARC)ï¼Œä½† Swift ä¹Ÿä¸ºæˆ‘ä»¬æä¾›äº†ç›´æ¥è®¿é—®å†…å­˜çš„æ–¹æ³•ï¼Œ ä¹Ÿå°±æ˜¯ Pointer ç±»ã€‚\nåˆ†é…å¤§å†…å­˜ # å›åˆ°å¼€å¤´çš„é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä»£ç ä¸­å®šä¹‰ä¸€ä¸ª Pointer ç±»å‹çš„å˜é‡ï¼Œåˆ†é…ä¸€å—å¤§å†…å­˜è®©å®ƒå¸¸é©»ã€‚\npublic class AppDelegate: NSObject, AppDelegateProtocol { private var p: UnsafeMutablePointer\u0026lt;UInt8\u0026gt;? public override init() { super.init() // ... p = UnsafeMutablePointer.allocate(capacity: Int(1.8 * 1024 * 1024 * 1024)) p?.initialize(repeating: 0, count: Int(1.8 * 1024 * 1024 * 1024)) } } UInt8 æ˜¯å ç”¨ä¸€ä¸ªå­—èŠ‚çš„æ•´å‹æ•°æ®ï¼Œæ‰€ä»¥ä¸Šé¢æˆ‘ä»¬åˆ†é…äº† 1.8G çš„å†…å­˜ï¼\nTip: è¶…è¿‡ 2G å†…å­˜ app å°±å¾ˆå®¹æ˜“è¢«ç³»ç»Ÿæ€æ‰ï¼šTerminated due to memory issue.\næ‰‹åŠ¨å†…å­˜ç®¡ç† # https://medium.com/@shoheiyokoyama/manual-memory-management-in-swift-c31eb20ea8f\n","date":"October 11 2022","permalink":"/posts/2022/swift-manually-alloc-memory/","section":"ç¢è¯­é—²è¨€","summary":"App å¼€å‘ä¸å¯é¿å…åœ°è¦å’Œå†…å­˜é—®é¢˜æ‰“äº¤é“ï¼ŒOOM (Out Of Memory) ä¹Ÿæ˜¯å¼€å‘è€…éå¸¸å¤´ç–¼çš„é—®é¢˜ã€‚","title":"Swift ä¸­æ‰‹åŠ¨ç®¡ç†å†…å­˜"},{"content":"èƒŒæ™¯ # æœ€è¿‘åœ¨å†™ UTï¼Œä½¿ç”¨ SnapshotTesting å¯¹ä¸€äº› UI ç»„ä»¶åšæµ‹è¯•ã€‚ ä¸ºäº†æ–¹ä¾¿æ‰©å±•ï¼Œä½¿ç”¨äº†æ³›å‹(Generics) ã€‚é¦–å…ˆï¼Œæœ‰ä¸€ä¸ªåŸºç±»ï¼Œå¤§æ¦‚æ˜¯è¿™æ ·çš„ï¼š\nclass WidgetsTestCase\u0026lt;ViewClass: ViewClassProtocol\u0026gt;: XCTestCase { var sut: ViewClass! override func setUpWithError() throws { try super.setUpWithError() parseMockData() buildSut() } override func tearDownWithError() throws { sut = nil try super.tearDownWithError() } func mockFileName() -\u0026gt; String { XCTAssertTrue(false, \u0026#34;This function must be overrided.\u0026#34;) return \u0026#34;\u0026#34; } func parseMockData() { let fileName = mockFileName() // ... } func buildSut() { } func testSut() throws { // ... } } ç„¶åå¯¹äºä¸åŒçš„ Widgetsï¼Œä»…æ˜¯ mock æ–‡ä»¶å’Œ test æ–¹æ³•çš„å°‘è®¸åŒºåˆ«ï¼š\nclass MyCellViewTests: WidgetsTestCase\u0026lt;MyCellView\u0026gt; { override func mockFileName() -\u0026gt; String { return \u0026#34;MyCellViewData.json\u0026#34; } override func testSut() throws { try super.testSut() let exp = expectation(description: \u0026#34;wait for image loading\u0026#34;) let result = XCTWaiter.wait(for: [exp], timeout: 2.0) if result == XCTWaiter.Result.timedOut { assertSnapshot(matching: sut, as: .image) } } } ä½†æ˜¯åœ¨æäº¤å®Œä»£ç è·‘ CI æµæ°´çº¿æ—¶å‘ç°ï¼Œæ–°å†™çš„ MyCellViewTests æ–‡ä»¶åªæ˜¯è¢«ç¼–è¯‘ï¼Œä½†å¹¶æ²¡æœ‰è¢«æµ‹è¯•è·‘åˆ°ã€‚\né—®é¢˜åˆ†æ # é¦–å…ˆï¼Œç”±äºæœ¬åœ°ç¯å¢ƒ (Xcode 14.0 \u0026amp; iOS 16.0) å’Œ CI ç¯å¢ƒ (Xcode12.4 \u0026amp; iOS 14.2) å·®è·è¾ƒå¤§ï¼Œ è™½ç„¶æœ¬åœ°è·‘èµ·æ¥æ²¡æœ‰é—®é¢˜ï¼Œä½†ä¸€æ—¶æ— æ³•æ‰¾åˆ°åŸå› åœ¨å“ªã€‚\nå¼€å§‹æ€€ç–‘æ˜¯ throws å¯¼è‡´çš„ï¼Œåˆ é™¤äº†ä»ç„¶æ²¡æœ‰æ•ˆæœã€‚\nè€Œååˆåˆ é™¤äº† overrideï¼Œé—®é¢˜ä¾æ—§ã€‚\næ–°å¢äº†ä¸€ä¸ªç›´æ¥ç»§æ‰¿ XCTestCase çš„ç±»ï¼Œæ­£å¸¸è¢«æµ‹è¯•ã€‚\nåˆ°è¿™é‡Œï¼Œå¼€å§‹æ€€ç–‘è·Ÿæ³›å‹æœ‰ä¸€å®šçš„å…³ç³»ï¼Œç„¶åç”¨ XCTestCase Generics å…³é”®è¯æœç´¢æ—¶ï¼Œå‘ç°äº†å…³é”®çº¿ç´¢ï¼š\nhttps://stackoverflow.com/questions/35273597/is-use-of-generics-valid-in-xctestcase-subclasses\nåŒæ ·çš„å•æµ‹æ¡†æ¶ Quick ä¹Ÿè¢«æè¿‡ç±»ä¼¼çš„ issueï¼š\nhttps://github.com/Quick/Quick/issues/1060\né—®é¢˜åŸå› æœ€ç»ˆæŒ‡å‘æ˜¯ Xcode çš„ bug (https://developer.apple.com/documentation/xcode-release-notes/xcode-12_5-release-notes)ï¼š\nXCTest now automatically includes specialized subclasses of Swift generic test classes when running tests on macOS 11.3, iOS 14.5, tvOS 14.5, watchOS 7.4, or later OS versions. This allows you to use generics to improve reusability of test classes.\nè§£å†³ # æ—¢ç„¶æš‚æ—¶æ— æ³•å‡çº§ CI çš„ Xcode ç‰ˆæœ¬ï¼Œåªèƒ½å…ˆæƒ³åŠæ³•ç»•è¿‡è¿™ä¸ªé—®é¢˜ã€‚\næ–°å¢ä¸€ä¸ªæµ‹è¯•ç±»ï¼Œæ‰‹åŠ¨åˆ›å»ºå¹¶è°ƒç”¨è¿™äº›æ³›å‹ç±»çš„æµ‹è¯•æ–¹æ³•ï¼š\nclass DummyWidgetTests: XCTestCase { override func run() { XCTestSuite(forTestCaseClass: MyCellViewTests.self).run() super.run() } // At least one func is needed for `run` to be called func testDummy() { } } æäº¤ï¼Œè¿™æ¬¡æµ‹è¯•æ–¹æ³•è¢«æ‰§è¡Œåˆ°äº†ï¼ğŸ‰ğŸ‰\nï¼ˆä½†æ˜¯åˆå‡ºç°äº† case å¤±è´¥çš„æƒ…å†µï¼Œç»§ç»­è‹¦é€¼è°ƒè¯•\u0026hellip;\nBe debugging\u0026hellip; ğŸ\n","date":"October 9 2022","permalink":"/posts/2022/swift-xctest-generics-issue/","section":"ç¢è¯­é—²è¨€","summary":"èƒŒæ™¯ # æœ€è¿‘åœ¨å†™ UTï¼Œä½¿ç”¨ SnapshotTesting å¯¹ä¸€äº› UI ç»„ä»¶åšæµ‹è¯•ã€‚ ä¸ºäº†æ–¹ä¾¿æ‰©å±•ï¼Œä½¿ç”¨äº†æ³›å‹(Generics) ã€‚é¦–å…ˆï¼Œæœ‰ä¸€ä¸ªåŸºç±»ï¼Œå¤§æ¦‚æ˜¯è¿™æ ·çš„ï¼š","title":"ä¸€ä¸ª Swift æ³›å‹å¯¼è‡´ XCTestCase å¤±æ•ˆçš„é—®é¢˜"},{"content":"åˆ©ç›Šç›¸å…³ï¼š\nåœ¨çŒ«å‚ã€é¹…å‚å„å‘†è¿‡ä¸¤å¹´ï¼Œåœ¨é¹…æ™‹å‡äº†ä¸¤æ¬¡éƒ½å¤±è´¥çš„èœç‹—ç¨‹åºå‘˜ã€‚\nä¸ç®¡ä½ æ˜¯å†™ C++/Java/OC/Python è¿˜æ˜¯ Haskell/Rust/Scalaï¼Œéƒ½ä¸å¦‚ PPT æœ‰ç”¨ã€‚\næ€»ä¹‹ï¼Œå¤§å‚æƒ³æ™‹å‡ï¼Œä¸€æ–¹é¢è¦é ä¸ªäººçš„å¥‹æ–—ï¼Œä¸»è¦è¿˜æ˜¯è¦çœ‹å†å²çš„è¿›ç¨‹ã€‚\nè¿™å‡ å¹´å®¢æˆ·ç«¯ä¸€è¾¹è¢«å”±è¡°ï¼Œå¦ä¸€è¾¹å°±æ˜¯ç«äº‰ç™½çƒ­åŒ–ã€‚å¯é€ çš„è½®å­ä¹Ÿè¢«é€ å¾—å·®ä¸å¤šäº†ã€‚é‚£ä¹ˆï¼Œé ä»€ä¹ˆæ‰èƒ½æ™‹å‡ï¼Ÿ\næ–¹æ³•è®º (chÄ› dÃ n) # ç”¨é˜¿é‡Œå‘³å„¿æ¥è¯´ï¼ŒP6 -\u0026gt; P7 -\u0026gt; P8 æ˜¯ ç‚¹ -\u0026gt; çº¿ -\u0026gt; é¢çš„å…³ç³»ã€‚ä¹Ÿå°±æ˜¯ P6 è´Ÿè´£éœ€æ±‚ç‚¹ï¼ŒP7 æ‰“é€šä¸šåŠ¡çº¿ï¼ŒP8 æå®šäº§ä¸šé¢ã€‚\næŒ‰é¹…çš„èŒçº§æ¥è¯´ï¼Œå¯¹æ ‡çš„å°±æ˜¯ T8/T9 -\u0026gt; T10/T11 -\u0026gt; T12ã€‚\nä½†æ˜¯ï¼ä¸€èˆ¬æ¥è¯´æ™‹å‡ç­”è¾©åªæœ‰ 30 åˆ†é’Ÿå·¦å³çš„æ—¶å€™å‘è¯„å§”å±•ç¤ºè‡ªå·±ï¼Œæƒ³è®©å¹³æ—¶è·Ÿä½ å®Œå…¨æ— äº¤é›†çš„è¿™äº›è¯„å§”å®¢è§‚è¯„ä»·ä½ ï¼ŒåŸºæœ¬æ˜¯ä¸å¯èƒ½çš„ã€‚\næ‰€ä»¥ï¼ŒåŒ…è£…æ‰æ˜¯æ ¸å¿ƒï¼Œä¸€èˆ¬æ¥è¯´æœ‰è¿™ä¹ˆå‡ æ‹›ï¼š\næ— ä¸­ç”Ÿæœ‰ï¼šå•¥ä¹Ÿæ²¡å¹²ï¼Œè¯´ï¼Œâ€œé€ äº†æ ¸å¼¹â€\nç§»èŠ±æ¥æœ¨ï¼šWork is Fine, Now is Mine\næŒ‡é¹¿ä¸ºé©¬ï¼šè™½ç„¶é€ äº†æŠŠç ´é“å‰‘ï¼Œä½†å®ƒæ˜¯ç”¨å¤©å¤–é™¨çŸ³é€ çš„ï¼Œæ‰€ä»¥å¥½å‰‘\næš—åº¦é™ˆä»“ï¼šè¯„å§”æ˜¯æˆ‘äºŒèˆ…ï¼Œä½ æ‡‚çš„\n\u0026hellip;\nä¸€å›¾èƒœåƒè¨€ # #! pip3 install jieba #! pip3 install wordcloud Python çœŸå¥½ç”¨ï¼Œå˜¿ï¼\n","date":"July 7 2022","permalink":"/posts/2022/promote-dev-words/","section":"ç¢è¯­é—²è¨€","summary":"åˆ©ç›Šç›¸å…³ï¼š","title":"å…³äºå¤§å‚æ™‹å‡çš„é‚£ç‚¹äº‹"},{"content":"ä¹¦æ¥ä¸Šå›ï¼Œäº†è§£äº† å‘ç”Ÿåœ¨ç”¨æˆ·ç‚¹å‡» App Icon ä¹‹å çš„è¿‡ç¨‹ï¼Œå¯ä»¥å¯¹å„ä¸ªé˜¶æ®µåšé’ˆå¯¹æ€§ä¼˜åŒ–ã€‚\nå›é¡¾ä¸€ä¸‹ App å¯åŠ¨çš„è¿‡ç¨‹ï¼š\né€šå¸¸æ¥è¯´ï¼Œæˆ‘ä»¬ä¸»è¦å…³æ³¨ pre-main å’Œ å¯åŠ¨ Tasks ä¸¤ä¸ªé˜¶æ®µã€‚\nå½±å“å› ç´  # ç³»ç»Ÿå±‚ # åœ¨è¿™ä¸ªé˜¶æ®µå½±å“å¯åŠ¨é€Ÿåº¦çš„å› ç´ æœ‰ï¼š\nåŠ¨æ€åº“çš„æ•°é‡\nobjc ç±»å’Œæ–¹æ³•çš„æ•°é‡\n+load æ–¹æ³•çš„æ•°é‡\n__contructor__ æ„é€ å‡½æ•°çš„æ•°é‡\nC++ é™æ€åˆå§‹åŒ–ä»£ç çš„æ•°é‡\nä¸šåŠ¡å±‚ # å¯åŠ¨çš„ Tasks è¦å…·ä½“åˆ†æï¼Œæ¯ä¸ª app æƒ…å†µä¸åŒï¼Œå†·çƒ­å¯åŠ¨ä¹Ÿæœ‰æ‰€æœ‰ä¸åŒã€‚\néœ€è¦å…³æ³¨çš„ç‚¹æœ‰ï¼š\næ¯ä¸ª Task çš„è€—æ—¶\næ ¸å¿ƒ Task çš„æ‰§è¡Œæ—¶åº\nå¼‚æ­¥ Task å ç”¨å†…å­˜/CPU çš„æƒ…å†µ\nå„æ˜¾ç¥é€š # åˆé˜¶ä¼˜åŒ– # å®¹æ˜“æƒ³åˆ°çš„ä¸€äº›ä¼˜åŒ–ç‚¹ï¼š\nåŠ¨æ€åº“åŠ è½½è€—æ—¶ -\u0026gt; è½¬é™æ€åº“\nPage fault è€—æ—¶ -\u0026gt; äºŒè¿›åˆ¶é‡æ’\nrebase/rebindï¼Œoc setup è€—æ—¶ -\u0026gt; å‡å°‘å†—ä½™ä»£ç \n+load è€—æ—¶ -\u0026gt; å‡å°‘ +load ä½¿ç”¨ï¼Œç®€åŒ–å†…éƒ¨é€»è¾‘\nC/C++ æ„é€ å‡½æ•°è€—æ—¶ -\u0026gt; ä¼˜åŒ– __contructor__ ä»£ç \nå¯åŠ¨ Task è€—æ—¶ -\u0026gt; æ‡’åŠ è½½ã€å»¶æ—¶åŠ è½½ã€å¹¶è¡Œæ‰§è¡Œ\næ ¸å¿ƒ Task è€—æ—¶ -\u0026gt; ä¸“é¡¹ä¼˜åŒ–ï¼Œé¢„åŠ è½½\nè¿›é˜¶ä¼˜åŒ– # å›¾ç‰‡åŠ è½½ä¼˜åŒ– ä½¿ç”¨ xcassets ä»£ç  bundleï¼Œå›¾ç‰‡è¯»å–é€Ÿåº¦æå‡ 80 ~ 100 å€ã€‚\nbundle åŠ è½½å›¾ç‰‡ç›¸å¯¹æ…¢çš„åŸå› ä¸»è¦æœ‰ä¸¤ä¸ªï¼š\nè·å– Key Signature æ—¶çš„ä½æ“ä½œ ä¸ºäº†çº¿ç¨‹å®‰å…¨æ‰€åšçš„åŠ é”æ“ä½œ xcassets ç›¸å¯¹æ›´é«˜æ•ˆåœ¨äºï¼š\nUIAssetManager å­˜åœ¨ä¸€ä¸ª NSMapSet ç¼“å­˜ æœªå‘½ä¸­ç¼“å­˜æ—¶ï¼Œä¼šè§£å‹ Assets.car æŸ¥æ‰¾ å†æ‰¾ä¸åˆ°æ‰å» bundle ä¸­æ‰¾ __TEXT__ æ®µ iOS 13 ä¹‹å‰çš„ç³»ç»Ÿä¼šå¯¹ __TEXT__ æ®µåŠ å¯†ï¼Œå¯åŠ¨æ—¶è¿›è¡Œè§£å¯†ï¼Œæ‰€ä»¥è¿™ä¸ªæ®µçš„å¤§å°åœ¨ä¸­ä½ç«¯æœºå™¨ä¸Šä¼šå½±å“å¯åŠ¨é€Ÿåº¦ã€‚\né€šè¿‡ ld -rename_section æŒ‡ä»¤å°† __TEXT__ æ®µé‡å‘½åï¼Œè§„é¿ç³»ç»ŸåŠ å¯†æ“ä½œã€‚\næŠ–éŸ³å°±æ˜¯å°† __TEXT__ é‡å‘½åæˆäº† __BD_TEXT__\nå¯åŠ¨ Tasks æ¸…ç† æ¸…ç† AppDelegate å’Œ Main æ–¹æ³•ä¸­çš„ä»£ç \nå‡å°‘åŒæ­¥æ‰§è¡Œçš„é«˜ä¼˜ä»»åŠ¡ (Main Sync High Priority Tasks)\né€šè¿‡ TaskManager ç®¡ç†æ‰€æœ‰åŒæ­¥ä½ä¼˜å’Œå¼‚æ­¥ä»»åŠ¡ï¼Œå‡å°‘èµ„æºæ¶ˆè€—\nåŠ¨æ€åº“æ‡’åŠ è½½ ä¸€èˆ¬æƒ…å†µä¸‹ dyld ä¼šé€’å½’åˆ†æ app ä¾èµ–çš„æ‰€æœ‰åŠ¨æ€åº“å¹¶è‡ªè¡ŒåŠ è½½ã€‚\né¦–å…ˆæ–­å¼€ç³»ç»Ÿé“¾æ¥ ä½¿ç”¨ CocoaPods çš„å·¥ç¨‹å¯ä»¥åœ¨ Podfile ä¸­ä¿®æ”¹\nnew_xcconfig = new_xcconfig.sub(\u0026#39;-framework \u0026#34;XX\u0026#34;\u0026#39;, \u0026#34;\u0026#34;) æ‰‹åŠ¨åŠ è½½ ä½¿ç”¨ dlopen æˆ–è€… -[NSBundle loadAndReturnError:] æ¥å®ç°ã€‚\nä»…é™äºæ”¾åœ¨ ipa/Frameworks ç›®å½•ä¸‹ä¸ä¸» app åŒç­¾åçš„åŠ¨æ€åº“åŠ è½½ã€‚\nè°ƒç”¨ æƒ³è¦åœ¨åŠ¨æ€åº“åŠ è½½å‰ä½¿ç”¨åŠ¨æ€åº“ä¸­çš„ç±»æ˜¯ä¸è¡Œçš„ã€‚\nå¯¹äº OC æ¥è¯´ï¼Œå¯ä»¥ä½¿ç”¨ NSClassFromString çš„åå°„æ–¹æ³•ï¼Œä½†æ˜¯å¦‚æœè¿™ä¸ªåº“å·²ç»è¢«ä¸šåŠ¡å¹¿æ³›ä½¿ç”¨ï¼Œæ”¹é€ é‡ä¼šæ¯”è¾ƒå¤§ã€‚\nè¿˜æœ‰ä¸€ç§æ¯”è¾ƒ Trick çš„æ–¹æ¡ˆï¼š\nä½¿ç”¨å®å®šä¹‰ #define DyLibClassA ProxyClassB å°†ä¸šåŠ¡è°ƒç”¨ç±»è½¬å‘åˆ°ä»£ç†ç±»ä¸­ï¼Œå®ç°æ‰€æœ‰ DyLibClassA ä¸­çš„æ¥å£å’Œåè®® åè®° # ä¼˜åŒ–ä¹‹è·¯æ— ç©·æ— å°½ï¼Œç‰¹åˆ«æ˜¯åœ¨å›½å†…å·¨å‹ App å¤§è¡Œå…¶é“çš„ä»Šå¤©ï¼Œå¤§å®¶ç»å°½è„‘æ±—æƒ³å‡ºå„ç§å¥‡æŠ€æ·«å·§åªä¸ºé‚£å‡ åƒå­—èŠ‚çš„ä¼˜åŒ–ã€‚\næˆ‘æƒ³è¯´çš„æ˜¯ï¼Œ\næœ€å¤§çš„ä¼˜åŒ–åº”è¯¥æ˜¯ç²¾ç®€æ— æ•ˆçš„ä¸šåŠ¡ä»£ç ï¼Œåˆ é™¤æ— ç”¨çš„åŠŸèƒ½ï¼Œæ‹’ç»åƒåœ¾éœ€æ±‚ã€‚\n","date":"July 4 2022","permalink":"/posts/2022/app-launch-speedup/","section":"ç¢è¯­é—²è¨€","summary":"ä¹¦æ¥ä¸Šå›ï¼Œäº†è§£äº† å‘ç”Ÿåœ¨ç”¨æˆ·ç‚¹å‡» App Icon ä¹‹å çš„è¿‡ç¨‹ï¼Œå¯ä»¥å¯¹å„ä¸ªé˜¶æ®µåšé’ˆå¯¹æ€§ä¼˜åŒ–ã€‚","title":"iOS ä¹‹ App å¯åŠ¨ä¼˜åŒ–"},{"content":"èƒŒæ™¯ # æˆ‘ä»¬æœ‰æ—¶ä¼šé‡åˆ°è¿™ç§éœ€æ±‚ï¼šåœ¨ç¨‹åºå¯åŠ¨æ—¶ç«‹å³éœ€è¦çŸ¥é“æŸäº›æ•°æ®ã€‚\nä¸€ä¸ªä¾‹å­æ˜¯ï¼Œæˆ‘ä»¬åœ¨è§£è€¦æ—¶ä¼šå®šä¹‰ä¸€äº›åè®®ï¼Œç”¨äºæ¨¡å—é—´æ²Ÿé€šï¼Œè¿™äº›åè®®ä¸å®ç°ç±»çš„å…³è”å…³ç³»å°±æ˜¯è¿™æ ·ä¸€ç§æ•°æ®ï¼Œå¦‚æœé€šè¿‡æœ¬åœ°æ–‡ä»¶è¯»å†™å¯èƒ½æ¥ä¸åŠï¼Œå› ä¸ºè¿™ä¸ªåè®®çš„åå°„è°ƒç”¨å¯èƒ½éå¸¸æ—©ã€‚å¦‚æœä¸åŠæ—¶è·å–æ˜ å°„æ•°æ®ï¼Œä¼šå¯¼è‡´è°ƒç”¨å¤±è´¥ã€‚\nåŸç† # ä¹‹å‰åœ¨ app å¯åŠ¨è¿‡ç¨‹ ä¸€æ–‡ä¸­æè¿‡ï¼Œmain å‡½æ•°ä¹‹å‰ç³»ç»Ÿä¼šè®© dyld å»åŠ è½½ app ä¾èµ–çš„å„ç§åŠ¨æ€åº“ï¼Œ è¿™é‡Œç³»ç»Ÿæä¾›äº†ä¸€ä¸ªå›è°ƒæ–¹æ³•ï¼Œå¯ä»¥è®©æˆ‘ä»¬è·çŸ¥è¿™äº›åº“è¢«åŠ è½½è¿›å†…å­˜çš„æ—¶æœºã€‚\nåœ¨ \u0026lt;mach-o/dyld.h\u0026gt; ä¸­\n/* * The following functions allow you to install callbacks which will be called * by dyld whenever an image is loaded or unloaded. During a call to _dyld_register_func_for_add_image() * the callback func is called for every existing image. Later, it is called as each new image * is loaded and bound (but initializers not yet run). The callback registered with * _dyld_register_func_for_remove_image() is called after any terminators in an image are run * and before the image is un-memory-mapped. */ extern void _dyld_register_func_for_add_image(void (*func)(const struct mach_header* mh, intptr_t vmaddr_slide)) __OSX_AVAILABLE_STARTING(__MAC_10_1, __IPHONE_2_0); extern void _dyld_register_func_for_remove_image(void (*func)(const struct mach_header* mh, intptr_t vmaddr_slide)) __OSX_AVAILABLE_STARTING(__MAC_10_1, __IPHONE_2_0); åœ¨è¿™ä¸ªå›è°ƒæ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æ‹¿åˆ° mach_header çš„æŒ‡é’ˆï¼Œå°±å¯ä»¥è¯»å†™ section ä¸­çš„æ•°æ®ï¼Œå…·ä½“å®ç°åœ¨ä¸‹ä¸€èŠ‚ä»‹ç»ã€‚\nè§£å†³äº†è¯»çš„æ—¶æœºé—®é¢˜ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ€ä¹ˆå†™æ•°æ®å‘¢ï¼Ÿ\næˆ‘ä»¬çŸ¥é“é™æ€å˜é‡æ˜¯å­˜å‚¨åœ¨ Mach-O çš„é™æ€å­˜å‚¨åŒºï¼Œæ¯”å¦‚å®šä¹‰ä¸€ä¸ª NSStringï¼š\nstatic NSString * const s_myStr = @\u0026#34;The quick brown fox jumps over the lazy dog\u0026#34;; é€šè¿‡ MachOView å¯ä»¥å‘ç°ï¼Œå…·ä½“æ˜¯å­˜å‚¨åœ¨ section æ®µçš„ __TEXT,__cstring åŒºå—ä¸­ã€‚\nå­˜å‚¨æ•°æ® # æ‰€ä»¥ï¼Œæˆ‘ä»¬æœ‰æ²¡æœ‰åŠæ³•åœ¨ section ä¸­å­˜å‚¨è‡ªå®šä¹‰çš„æ•°æ®å‘¢ï¼Ÿæœ‰ï¼\n__attribute((used, section(\u0026#34;__DATA,_my_pre_data\u0026#34;))) static const char *quote = \u0026#34;Practice makes perfect.\u0026#34;; å£°æ˜è¿™æ ·ä¸€ä¸ªé™æ€å˜é‡ä¹‹åï¼Œä¼šå‘ç° __DATA ä¸­å¤šäº†ä¸€ä¸ªåŒºå—ï¼Œä½†æ˜¯å®šä¹‰çš„å­—ç¬¦ä¸²å¹¶ä¸åœ¨è¿™é‡Œã€‚è¿™é‡Œåªå­˜å‚¨äº†å­—ç¬¦ä¸²çš„åœ°å€ï¼Œæ•°æ®ä»ç„¶å­˜å‚¨åœ¨ __TEXT,__cstring åŒºå—ä¸­ã€‚\nå®ç° # æœ‰äº†ä¸Šè¿°çš„èƒŒæ™¯çŸ¥è¯†ï¼Œæˆ‘ä»¬å°±å¯ä»¥è¯»å†™è‡ªå·±çš„æ•°æ®äº†ã€‚\nå‡å¦‚æˆ‘ä»¬æœ‰è¿™æ ·ä¸€ä¸ªæ•°æ®ç»“æ„ï¼š\ntypedef struct { char *key; char *val; int idx; } my_data_t; é‚£ä¹ˆï¼Œå†™å…¥ section æ®µå°±æ˜¯ï¼š\n__attribute((used, section(\u0026#34;__DATA,_my_pre_data\u0026#34;))) static my_data_t dt1 = { \u0026#34;kkk1\u0026#34;, \u0026#34;vvv1\u0026#34;, 1, }; ä¸ºäº†ä¾¿äºé€šç”¨ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸€ä¸ªå®ï¼Œæ–¹ä¾¿è‡ªåŠ¨åˆ›å»ºè¿™æ ·çš„é™æ€å˜é‡ï¼š\n#define _PRELD_SECNAME \u0026#34;_my_pre_data\u0026#34; #define _STR(name) (#name) #define _PRELD_DATA(_k, _v, _i)\\ __attribute((used, section(\u0026#34;__DATA,\u0026#34; _PRELD_SECNAME))) static my_data_t _dt##_k = \\ {\\ _STR(_k),\\ _STR(_v),\\ _i,\\ };\\ ç”¨èµ·æ¥éå¸¸æ–¹ä¾¿ï¼š\n_PRELD_DATA(kkk, vvv, 1)\nè¯»å–æ•°æ® # å‰é¢è¯´è¿‡ï¼Œæ³¨å†Œ dyld åŠ è½½çš„å›è°ƒå³å¯è¯»å– section ä¸­å­˜å‚¨çš„æ•°æ®ï¼š\n__attribute__((constructor)) void preMainMethod() { _dyld_register_func_for_add_image(dyld_func); } __attribute__((constructor)) ä½¿ç”¨è¿™ç§æè¿°çš„ C æ–¹æ³•å°±å¯ä»¥åœ¨ main ä¹‹å‰æ‰§è¡Œã€‚\né‚£ä¹ˆ dyld_func å¦‚ä½•å®ç°å‘¢ï¼Ÿ\nstatic void dyld_func(const struct mach_header *header, intptr_t slide) { unsigned long size = 0; #if defined(__LP64__) \u0026amp;\u0026amp; __LP64__ const struct mach_header_64 *mhp64 = (const struct mach_header_64 *)header; uintptr_t *memory = (uintptr_t *)getsectiondata(mhp64, SEG_DATA, _PRELD_SECNAME, \u0026amp;size); #else uintptr_t *memory = (uintptr_t *)getsectiondata(header, SEG_DATA, _PRELD_SECNAME, \u0026amp;size); #endif unsigned long n = size / sizeof(my_data_t); my_data_t *data = (my_data_t *)memory; for (int i = 0; i \u0026lt; n; i++) { my_data_t tmp = data[i]; std::cout \u0026lt;\u0026lt; tmp.key \u0026lt;\u0026lt; \u0026#34;: \u0026#34; \u0026lt;\u0026lt; tmp.val \u0026lt;\u0026lt; \u0026#34;(\u0026#34; \u0026lt;\u0026lt; tmp.idx \u0026lt;\u0026lt; \u0026#34;)\u0026#34; \u0026lt;\u0026lt; std::endl; } } è¿™é‡Œå¯èƒ½ä¼šæœ‰ä¸€ä¸ªç–‘é—®ï¼Œæ—¢ç„¶è¿™ä¸ªå›è°ƒæ–¹æ³•æ˜¯æ¯æ¬¡åŠ è½½ image æ—¶éƒ½ä¼šè°ƒç”¨ï¼Œè¿™ä¸ªè¯»å–ä¸æ˜¯ä¼šå¤šæ¬¡æ‰§è¡Œå—ï¼Ÿ\næ˜¯çš„ï¼Œä½†æ˜¯åªæœ‰ image æ˜¯ app æœ¬èº«æ—¶æ‰èƒ½è¯»å–åˆ°æ•°æ®ã€‚å› ä¸ºæˆ‘ä»¬å†™å…¥æ•°æ®çš„ section æ˜¯åœ¨ app æœ¬èº«çš„ Mach-O ä¸­çš„ã€‚\nå‰¯äº§å“ # é‚£ä¹ˆèƒ½ä¸èƒ½è·å–åˆ° app å¯åŠ¨åˆ°åº•åŠ è½½äº†å“ªäº›åº“å‘¢ï¼Ÿ\nåœ¨ #include \u0026lt;dlfcn.h\u0026gt; ä¸­ï¼Œæœ‰è¿™æ ·ä¸€ä¸ªæ•°æ®ç»“æ„ï¼š\n/* * Structure filled in by dladdr(). */ typedef struct dl_info { const char *dli_fname; /* Pathname of shared object */ void *dli_fbase; /* Base address of shared object */ const char *dli_sname; /* Name of nearest symbol */ void *dli_saddr; /* Address of nearest symbol */ } Dl_info; æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ dladdr() è·å–å®ƒï¼š\nDl_info DlInfo; dladdr(header, \u0026amp;DlInfo); const char* image_name = DlInfo.dli_fname; std::cout \u0026lt;\u0026lt; image_name \u0026lt;\u0026lt; std::endl; æå®šï¼\n","date":"June 8 2022","permalink":"/posts/2022/store-data-in-mach-o/","section":"ç¢è¯­é—²è¨€","summary":"èƒŒæ™¯ # æˆ‘ä»¬æœ‰æ—¶ä¼šé‡åˆ°è¿™ç§éœ€æ±‚ï¼šåœ¨ç¨‹åºå¯åŠ¨æ—¶ç«‹å³éœ€è¦çŸ¥é“æŸäº›æ•°æ®ã€‚","title":"åœ¨ Mach-O ä¸­è¯»å†™æ•°æ®"},{"content":"ç»å¸¸é‡åˆ°ä¸€äº›ç¼–ç ã€è°ƒè¯•æˆ–è€…ç”µè„‘æ–¹é¢çš„å°é—®é¢˜ï¼Œè‹¦å¯»è§£ç­”æ— æœåè‡ªå·±æ‰¾å‡ºäº†ç—‡ç»“ã€‚\nè¿™äº›æ–¹æ¡ˆåªæ˜¯å½“æ—¶åœºæ™¯ä¸‹çš„ä¸€ç§å¯èƒ½è§£å†³æ€è·¯ï¼Œç°åœ¨æˆ–è€…ä½ çš„ç¯å¢ƒä¸‹å¹¶ä¸ä¸€å®šé€‚ç”¨ã€‚\nSoï¼Œä»…ä¾›å‚è€ƒ\nè°ƒè¯•é—®é¢˜ # æ›¿æ¢æ²™ç›’ä¸­çš„æ–‡ä»¶ é»˜è®¤æƒ…å†µä¸‹ App æ²™ç›’æ˜¯ä¸å¯è§ï¼Œå¯ä»¥åœ¨ Info.plist æ·»åŠ \nUIFileSharingEnabled = YES (Application supports iTunes file sharing)\nå³å¯åœ¨ Finder ä¸­æ‰¾åˆ° App çš„æ²™ç›’æ–‡ä»¶ã€‚\ncrash ç¬¦å·åŒ– ä½¿ç”¨ symbolicatecrash // æ‰¾åˆ°æœ¬åœ° symbolicatecrash æ‰€åœ¨ä½ç½® find /Applications/Xcode.app -name symbolicatecrash -type f export DEVELOPER_DIR=/Applications/XCode.app/Contents/Developer // æŠŠ symbolicatecrash copy åˆ° crash æ–‡ä»¶åŒä¸€ç›®å½•ä¸‹å†æ‰§è¡Œ ./symbolicatecrash ./*.crash ./*.app.dSYM \u0026gt; symbol.log ä½¿ç”¨ atos æ‰¾åˆ° dSYM ç¬¦å·æ–‡ä»¶\natos -o ./xx.framework.dSYM/Contents/Resources/DWARF/xx -arch arm64 -l 0x10888e8000 0x00000001xxxx 0x00000001yyyy å…¶ä¸­ 0x10888e8000 æ˜¯ xx äºŒè¿›åˆ¶çš„åŸºå€ï¼Œä¹Ÿå°±æ˜¯ç¨‹åºçš„å…¥å£åœ°å€ã€‚ä¸€èˆ¬åœ¨ crash æ—¥å¿—æœ€åã€‚ 0x00000001xxxx, 0x00000001yyyy æ˜¯å †æ ˆä¸­å‡½æ•°çš„åœ°å€ã€‚\nLLDB è°ƒè¯•æŠ€å·§ è¾“å‡ºæ ¼å¼åŒ–å­—ç¬¦ä¸² po [[NSString alloc] initWithFormat:@\u0026#34;$RYDER$ %@\u0026#34;, self.xxStr] po [[NSString alloc] initWithData:[NSJSONSerialization dataWithJSONObject:xxDic options:0 error:0] encoding:NSUTF8StringEncoding] ç¼–ç é—®é¢˜ # ä¸€äº›å¸¸ç”¨çš„ Xcode ç¼–è¯‘é”™è¯¯å…³é”®è¯ åœ¨ç¼–è¯‘æœºåå‡ºå¤§é‡ Xcodebuild ç¼–è¯‘æ—¥å¿—æ—¶æ–¹ä¾¿å¿«é€Ÿå®šä½é”™è¯¯ã€‚\nâŒ error generated. ERROR:Â ERROR:Â BuildÂ failed. clang:Â error: linkerÂ commandÂ failedÂ withÂ exitÂ code pod lint å‘½ä»¤ï¼Œæ·»åŠ ç§æœ‰æº pod spec lint *.podspec --allow-warnings --no-clean --verbose --use-libraries --sources=\u0026#39;xxx/pod_specs.git,yyy/pod_specs.git\u0026#39; UIButton ç‚¹å‡»çŠ¶æ€ å¼€å‘ç¯å¢ƒé—®é¢˜ # æ¸…ç†èµ„æº MBP ä½œä¸ºå¼€å‘æœºï¼Œå¦‚æœä¸€ç›´ä½¿ç”¨ Xcode å¼€å‘ï¼Œä¼šäº§ç”Ÿå¤§é‡ä¸­é—´æ–‡ä»¶ã€‚512G çš„å­˜å‚¨å¾ˆå®¹æ˜“çˆ†æ‰ï¼Œä¸‹é¢æ˜¯ä¸€äº›å¯æ¸…ç†çš„èµ„æºä½ç½®ï¼š\nCocoaPods ç¼“å­˜ /Users/$USER/Library/Caches/CocoaPods/Pods/Release/ /Users/$USER/Library/Caches/CocoaPods/Pods/External/ Xcode ç¼–è¯‘ç¼“å­˜ /Users/$USER/Library/Developer/Xcode/DerivedData å¾®ä¿¡ç¼“å­˜ /Users/$USER/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/$UID/Message/ ä¼ä¸šå¾®ä¿¡ç¼“å­˜ /Users/$USER/Library/Containers/com.tencent.WeWorkMac/Data/Library/Application Support/WXWork/Data/$UID/Cache /Users/$USER/Library/Containers/com.tencent.WeWorkMac/Data/Library/Application Support/WXWork/Data/$UID/Emotion /Users/$USER/Library/Containers/com.tencent.WeWorkMac/Data/Documents/Profiles/$UID/Caches é‚®ç®±ç¼“å­˜ /Users/$USER/Library/Group Containers/UBF8T346G9.Office/Outlook/Outlook 15 Profiles/Main Profile/Data å…¶ä»–é—®é¢˜ # M1 çš„ MacBook Pro çªç„¶ Esc é”®æ— æ•ˆäº†ï¼Ÿ æ‰“å¼€æ´»åŠ¨ç›‘è§†å™¨ï¼Œæ‰¾åˆ° Siri è¿›ç¨‹ï¼Œå¼ºåˆ¶å…³é—­å®ƒï¼ï¼ˆå†ä¹Ÿä¸ç”¨æ¯æ¬¡é‡å¯è§£å†³äº†ï¼‰\ngit æ“ä½œ åˆ é™¤æœ¬åœ°åœ¨è¿œç¨‹å·²ç»è¢«åˆ é™¤çš„åˆ†æ”¯ git branch --merged \u0026gt;/tmp/merged-branches \u0026amp;\u0026amp; \\ vi /tmp/merged-branches \u0026amp;\u0026amp; xargs git branch -d \u0026lt;/tmp/merged-branches git æš‚å­˜åŒºã€å·¥ä½œåŒºæ–‡ä»¶æ¢å¤ æ¨¡æ‹Ÿå™¨ç‚¹å‡»å¼‚å¸¸ ç°è±¡ï¼šæ¨¡æ‹Ÿå™¨ç‚¹å‡»ä½ç½®æ¼‚ç§» è§£å†³ï¼šæ˜¯å¤šç‚¹è§¦æ§å¯¼è‡´ï¼ŒæŒ‰ä½ altï¼ŒæŠŠä¸¤ä¸ªè§¦æ§ç‚¹åˆå¹¶å°±å¯ä»¥äº†\nTo be continued\u0026hellip;\n","date":"June 2 2022","permalink":"/posts/2022/tech-tips/","section":"ç¢è¯­é—²è¨€","summary":"ç»å¸¸é‡åˆ°ä¸€äº›ç¼–ç ã€è°ƒè¯•æˆ–è€…ç”µè„‘æ–¹é¢çš„å°é—®é¢˜ï¼Œè‹¦å¯»è§£ç­”æ— æœåè‡ªå·±æ‰¾å‡ºäº†ç—‡ç»“ã€‚","title":"æ—¥å¸¸å°é—®é¢˜çš„æŠ€æœ¯åæ–¹"},{"content":"æ¦‚å¿µ # ç»„åˆï¼Œå°±æ˜¯åœ¨æ’åˆ—çš„åŸºç¡€ä¸Šï¼Œå»é™¤é¡ºåºçš„å› ç´ ã€‚å¯¹äºåŒä¸€ç»„æ•°ï¼Œåªè®¡æ•° 1ã€‚\n$$ C_n^m = \\frac {P_n^m}{P_m} = \\frac {n!}{m!(n-m)!} = \\frac {n(n-1)(n-2)\u0026hellip;(n-m+1)}{m!} $$\nç»„åˆæ€»æ•°ï¼š\\( \\displaystyle\\sum_{k=0}^nC_n^k = C_n^0 + C_n^1 + \u0026hellip; + C_n^n = 2^n \\)\næ€§è´¨ï¼š\n$$ \\begin{aligned} C_n^m\u0026amp;=C_n^{n-m}\\newline C_{n}^m\u0026amp;=C_{n-1}^m + C_{n-1}^{m-1} \\nonumber \\end{aligned} $$\nä¾‹é¢˜ # æ— é‡å¤ç»„åˆ # 77. Combinations å°±æ˜¯æ±‚æ‰€æœ‰ \\(C_n^k\\) çš„ç»„åˆ\nfunc combine(_ n: Int, _ k: Int) -\u0026gt; [[Int]] { var used = [Bool](repeating: false, count: n) var ans = [[Int]]() func _p(_ index: Int, _ count: Int) { if count == 0 { ans.append(used.enumerated().filter{ $0.element }.map{ $0.offset + 1 }) return } for i in index..\u0026lt;n { used[i] = true _p(i + 1, count - 1) used[i] = false } } _p(0, k) return ans } è¿™é‡Œ used.enumerated().filter{ $0.element }.map{ $0.offset + 1 } æ˜¯è¿‡æ»¤æ‰€æœ‰è¢«æ ‡è®°ä½¿ç”¨çš„èŠ‚ç‚¹ï¼Œå¹¶è¿”å›ä¸‹æ ‡ã€‚\nä¸€ç§ Swiftier çš„å†™æ³•ã€‚\nå½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥ä¸ä½¿ç”¨æ ‡è®°æ•°ç»„ã€‚\nfunc combine(_ n: Int, _ k: Int) -\u0026gt; [[Int]] { var ans = [[Int]]() func _p(_ index: Int, _ res: [Int]) { if res.count == k { ans.append(res) return } for i in index..\u0026lt;n { if n - i \u0026lt; k - res.count { break } var tmp = res tmp.append(i + 1) _p(i + 1, tmp) tmp.removeLast() } } _p(0, []) return ans } ä¸€ä¸ªå°ä¼˜åŒ–ï¼šif n - i \u0026lt; k - res.count { break }ï¼Œè¡¨ç¤ºå³ä½¿å‰©ä½™çš„å…ƒç´ å…¨é€‰ä¹Ÿæ— æ³•è¾¾åˆ° \\(k\\) ä¸ªæ—¶ç›´æ¥è¿”å›ã€‚\nå­é›† # 78. Subsets 90. Subsets II ä¸€ä¸ªé›†åˆçš„æ‰€æœ‰å­é›†ï¼Œä¹Ÿç§°ä¸ºå¹‚é›† (Power Set)ï¼Œå®ƒçš„æ€»æ•°æ˜¯\n$$ C_n^0 + C_n^1 + \u0026hellip; + C_n^n = 2^n $$\nåœ¨å›æº¯çš„æ—¶å€™å»æ‰ k çš„é™åˆ¶å³å¯ï¼š\nfunc subsets(_ nums: [Int]) -\u0026gt; [[Int]] { var ans = [[Int]]() let n = nums.count func _p(_ index: Int, _ res: [Int]) { ans.append(res) for i in index..\u0026lt;n { var tmp = res tmp.append(nums[i]) _p(i + 1, tmp) tmp.removeLast() } } _p(0, []) return ans } è¿˜æœ‰ä¸€ç§å¾ˆç§€çš„å†™æ³•ï¼š\nfunc subsets(_ nums: [Int]) -\u0026gt; [[Int]] { var ans = [[Int]]() ans.append([]) return nums.reduce(into: ans, { r, c in r = r + r.map{ $0 + [c] } }) } æœ‰é‡å¤å­é›† # å¯¹äºæœ‰é‡å¤å…ƒç´ çš„é—®é¢˜ï¼Œæœ€ç®€å•çš„æ–¹æ³•æ˜¯ç”¨ Set å»é‡\nfunc subsetsWithDup(_ nums: [Int]) -\u0026gt; [[Int]] { var ans = Set\u0026lt;[Int]\u0026gt;() ans.insert([]) for num in nums { for item in ans { var tmp = item tmp.append(num) tmp.sort() ans.insert(tmp) } } return Array(ans) } å‚è€ƒä¹‹å‰æ’åˆ—çš„å›æº¯å†™æ³•ï¼š\nfunc subsetsWithDup2(_ nums: [Int]) -\u0026gt; [[Int]] { guard !nums.isEmpty else { return [] } let n = nums.count var ans: [[Int]] = [[]] let a = nums.sorted() func _backTracking(_ index: Int, _ result: inout [Int]) { guard index \u0026lt; n else { return } for i in index..\u0026lt;n { if (i \u0026gt; index \u0026amp;\u0026amp; a[i] == a[i-1]) { continue } result.append(a[i]) ans.append(result) _backTracking(i + 1, \u0026amp;result) result.removeLast() } } var tmp: [Int] = [] _backTracking(0, \u0026amp;tmp) return ans } ä»¥ä¸Šã€‚\n","date":"May 25 2022","permalink":"/leetcode/combinations/","section":"ç®—æ³•ä¸“æ ","summary":"æ¦‚å¿µ # ç»„åˆï¼Œå°±æ˜¯åœ¨æ’åˆ—çš„åŸºç¡€ä¸Šï¼Œå»é™¤é¡ºåºçš„å› ç´ ã€‚å¯¹äºåŒä¸€ç»„æ•°ï¼Œåªè®¡æ•° 1ã€‚","title":"ç»„åˆç®—æ³•"},{"content":" å‰é¢ä»‹ç»äº†å„ç§å…¨æ’åˆ—ç®—æ³•ï¼Œé‚£ä¹ˆæœ‰è¿™æ ·ä¸€äº›é—®é¢˜ï¼š\nç»™å®šä¸€ä¸ªæ’åˆ—ï¼Œæ±‚å®ƒä¹‹å‰æˆ–ä¹‹åçš„ç¬¬ \\(k\\) ä¸ªæ’åˆ— ç»™å®šä¸€ä¸ªæ’åˆ—ï¼Œæ±‚å®ƒçš„åºå· ç»™å®šä¸€ä¸ªåºå·ï¼Œæ±‚æ’åˆ— æˆ‘ä»¬çŸ¥é“ï¼Œå¯¹äº \\(n\\) ä¸ªæ•°ï¼Œæœ‰ \\(n!\\) ç§æ’åˆ—æ–¹å¼ã€‚æ¯ç§ç®—æ³•ç”Ÿæˆçš„æ’åˆ—é¡ºåºæ˜¯ä¸ä¸€æ ·çš„ï¼Œ è¿™ä¸ªåœ¨å‰æ–‡ä¸­æœ‰ä¸€ä¸ªé¢œè‰²å›¾èƒ½ç›´è§‚çœ‹å‡ºæ¥ã€‚\næˆ‘ä»¬å°†è¿™äº›æ’åˆ—ä» \\(0\\) åˆ° \\((n!-1)\\) å³è¾¹æ¯”å®ƒå°çš„æ•°çš„ä¸ªæ•°ã€‚ ç¼–å·ï¼Œè¿™æ ·æ¯ä¸ªæ’åˆ—å°±æœ‰äº†è‡ªå·±çš„åºå·ã€‚1\nå•çº¯ä»åºå·ï¼Œæˆ‘ä»¬æ¯”è¾ƒéš¾ç›´æ¥æ¨å¯¼å‡ºæ’åˆ—æœ¬èº«ï¼Œè¿™æ ·å°±éœ€è¦å¼•å…¥ä¸­ä»‹æ•° çš„æ¦‚å¿µã€‚\nå®šä¹‰ # ä¸­ä»‹æ•°æ˜¯ä¸ºäº†å¿«é€Ÿæ¨å¯¼æŸä¸ªæ’åˆ—çš„ä¸­é—´æ•°ã€‚\nä»¥å­—å…¸åºä¸ºä¾‹ï¼Œ\nå‡è®¾æ’åˆ— \\(\\sigma = (\\sigma_0,\\sigma_1,\u0026hellip;\\sigma_{n-1})\\)ï¼Œå®šä¹‰ä¸­ä»‹æ•°ä¸º \\(L(\\sigma) = (L_0,L_1,\u0026hellip;L_{n-1})\\)ï¼Œå…¶ä¸­ \\(L_i\\) è¡¨ç¤º \\(\\sigma_i\\) å³è¾¹æ¯”å®ƒçš„å°çš„æ•°çš„ä¸ªæ•°ã€‚\nä»¥ \\(\\sigma = (83674521)\\) ä¸ºä¾‹ï¼Œå®ƒçš„ä¸­ä»‹æ•°æ˜¯ \\(L = (7244221)\\)ã€‚ å› ä¸ºæœ€åä¸€ä½çš„å³è¾¹æ²¡æœ‰æ•°å­—ï¼Œé‚£ä¹ˆ \\(L_{n-1}\\) æ€»æ˜¯ 0ï¼Œå¯ä»¥çœç•¥ï¼Œæ‰€ä»¥ä¸­ä»‹æ•°æ¯”åŸæ’åˆ—å°‘ä¸€ä½ã€‚\nä¸­ä»‹æ•°æ˜¯ç‰¹æ®Šè¿›åˆ¶è®¾è®¡ï¼Œæœ€ä½ä½æ˜¯ 1 è¿›åˆ¶ \\((L_{n-1})\\)ï¼Œæ¬¡ä½ä½æ˜¯ 2 è¿›åˆ¶ï¼Œä¾æ¬¡ç±»æ¨ ä¸­ä»‹æ•°çš„è®¡ç®—ï¼š \\(L(\\sigma) = L_{n-2} * 1! + \u0026hellip; + L_0 * (n-1)! = \\displaystyle\\sum_{i=0}^{n-2}L_i * (n-1-i)! \\)\nè¿™ä¸ªåè¿›åˆ¶ç»“æœå°±æ˜¯å­—å…¸åºçš„åºå·\nä¸€ä¸ª \\(n-1\\) ä½çš„ä¸­ä»‹æ•°ï¼Œå¯ä»¥è¡¨ç¤º \\(n!\\) ä¸ªæ•°å­—ï¼Œæ­£å¥½ä¸æ’åˆ—æ•°å¯¹åº” ä¸€ä¸ªä¸­ä»‹æ•°å¯¹åº”ä¸€ä¸ªç‰¹å®šçš„æ’åˆ—ï¼ŒåŒæ ·æ ¹æ®ä¸€ä¸ªæ’åˆ—ä¹Ÿèƒ½æ±‚å‡ºå…¶ä¸­ä»‹æ•° å­—å…¸åºçš„ä¸­ä»‹æ•°ä¹Ÿå« Lehmer Code - è±é»˜ç¼–ç 2\nåº”ç”¨ # 60. Permutation Sequence\n1850. Minimum Adjacent Swaps to Reach the Kth Smallest Number\næœ‰äº†ä¸­ä»‹æ•°çš„å®šä¹‰ï¼Œæˆ‘ä»¬æ¥è§£å†³ä¸¤ä¸ªåŸºæœ¬é—®é¢˜ï¼š\nä¸­ä»‹æ•° \u0026lt;-\u0026gt; åºå· # ä¸­ä»‹æ•° -\u0026gt; åºå· è¿™ä¸ªç›´æ¥ä½¿ç”¨ä¸Šé¢çš„å…¬å¼ \\(\\displaystyle\\sum_{i=0}^{n-2}L_i * (n-1-i)! \\) å³å¯\noverride func code_to_index() { index = 0 var factorial = 1 for i in (0..\u0026lt;sz-1).reversed() { index += L[i] * factorial factorial *= (sz-i) } } åºå· -\u0026gt; ä¸­ä»‹æ•° æˆ‘ä»¬è§‚å¯Ÿä¸€ä¸‹æ±‚å’Œå…¬å¼ï¼š\n\\(L(\\sigma) = L_{n-2} * 1! + \u0026hellip; + L_0 * (n-1)! = L_{n-2} + L_{n-3} * 2 + L_{n-4} * 3 * 2 + \u0026hellip; + L_0 * (n-1) * (n-2) * \u0026hellip; * 2\\)\né¦–å…ˆ \\(L_{n-2}\\) æ˜¯æ•´ä¸ªå’Œé™¤ \\(2\\) çš„ä½™æ•°ï¼Œç„¶å \\(L_{n-3}\\) æ˜¯é™¤ \\(2\\) çš„å•†ï¼Œå†é™¤ \\(3\\) çš„ä½™æ•°ï¼Œä¾æ¬¡ç±»æ¨ã€‚\noverride func index_to_code() { var tmp = index for i in (0..\u0026lt;sz-1).reversed() { L[i] = tmp % (sz - i) tmp /= (sz - i) } } ä¸­ä»‹æ•° \u0026lt;-\u0026gt; æ’åˆ— # æ’åˆ— -\u0026gt; ä¸­ä»‹æ•° è¿™ä¸ªæ¯”è¾ƒç®€å•ï¼ŒæŒ‰ç…§å®šä¹‰æ±‚è§£å³å¯ã€‚\noverride func order_to_code() { for i in 0..\u0026lt;sz-1 { var cnt = 0 for j in i+1..\u0026lt;sz { if nums[j] \u0026lt; nums[i] { cnt += 1 } } L[i] = cnt } } ä¸­ä»‹æ•° -\u0026gt; æ’åˆ— ä» \\(L_0\\) å¼€å§‹ï¼Œå®ƒè¡¨ç¤ºæ’åˆ—çš„ç¬¬ä¸€ä½å³è¾¹æ¯”å®ƒçš„å°çš„æ•°çš„ä¸ªæ•°ï¼Œå¾ˆæ˜æ˜¾æ’åˆ—ç¬¬ä¸€ä½å°±æ˜¯ \\(L_0 + 1\\)ï¼Œä½†æ˜¯åˆ°ç¬¬äºŒä½çš„æ—¶å€™ï¼Œ å¯èƒ½ä¸æ˜¯ \\(L_1 + 1\\)ï¼Œå› ä¸ºå¦‚æœ \\(L_0 + 1\\) å¦‚æœæ¯”å®ƒå°ï¼Œå°±åº”è¯¥æ˜¯ \\(L_1 + 2\\)ã€‚\nè¿™æ ·è¯´å¯èƒ½ä¸å¤ªå®¹æ˜“ç†è§£ï¼Œè¿˜æ˜¯ä»¥ \\(\\sigma = (83674521)\\) ä¸ºä¾‹ï¼Œå¦‚æœä¸­ä»‹æ•°æ˜¯ \\(L = (7244221)\\)ï¼Œ ç¬¬ä¸€ä½æ˜¯ \\(7 + 1 = 8\\) ï¼Œç¬¬äºŒä½æ˜¯ \\(2 + 1 = 3\\)ï¼Œåˆ°ç¬¬ä¸‰ä½æ—¶ï¼Œç”±äºå‰é¢å‡ºç°äº† \\(3\\)ï¼Œæ¯” \\(4 + 1 = 5\\) è¦å°ï¼Œ é‚£ä¹ˆè®¡æ•°å°±åº”è¯¥ \\(+1\\)ï¼Œæ‰€ä»¥ç¬¬ä¸‰ä½æ˜¯ \\(6\\)ã€‚\noverride func code_to_order() { nums = L.map({ $0 + 1 }) for i in stride(from: sz-1, to: 0, by: -1) { for j in stride(from: i - 1, to: -1, by: -1) { if (nums[j] \u0026lt;= nums[i]) { nums[i] += 1 } } } } è§£å†³äº†è¿™ä¸¤ä¸ªäº’ç›¸è½¬æ¢çš„é—®é¢˜ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä»¥ ä¸­ä»‹æ•° ä¸ºæ¡¥æ¢ï¼Œè§£å†³ æ’åˆ— ä¸ åºå· é—´çš„è½¬æ¢ã€‚ è¿™ä¹Ÿæ˜¯ ä¸­ä»‹æ•° è¿™ä¸ªè¯çš„æœ¬æ¥æ„ä¹‰ã€‚\né‚£ä¹ˆï¼Œè¿™ä¸ª Hard é—®é¢˜ 60. Permutation Sequence å°±å¯ä»¥å˜æˆï¼š\nindex_to_code() code_to_order() ä¸åŒç®—æ³•çš„ä¸­ä»‹æ•° # ä¸åŒçš„ç®—æ³•ä¸­çš„ä¸­ä»‹æ•°å®šä¹‰æ˜¯ä¸ä¸€æ ·çš„ï¼Œä¸‹é¢å†è¯´æ˜ä¸€ä¸‹å¦å¤–å‡ ç§å¸¸è§æ’åˆ—ç®—æ³•çš„ ä¸­ä»‹æ•° å®šä¹‰ã€‚\nå‡è®¾æ’åˆ— \\(\\sigma = (\\sigma_0,\\sigma_1,\u0026hellip;\\sigma_{n-1})\\)\nä¸ºäº†æ–¹ä¾¿åšåŠ æ³•ï¼Œæˆ‘ä»¬æŠŠä¸­ä»‹æ•°çš„æœ€ä½ä½æ”¾åœ¨ \\(L_0\\)ï¼Œè¿™æ ·ä¸ä¸€èˆ¬è¡¨ç¤ºå‡ºæ¥çš„æ˜¯ç›¸åçš„ã€‚\nä»¥ \\((83674521)\\) ä¸ºä¾‹ï¼Œé€’å¢ä¸­ä»‹æ•°æ˜¯ \\((7442221)\\)ï¼Œå­˜å‚¨åœ¨æ•°æ®ç»„ä¸­æ˜¯ \\([1, 2, 2, 2, 4, 4, 7]\\)ã€‚\né€’å¢è¿›ä½æ³• # å®šä¹‰ \\(L(\\sigma) = (L_1,L_2,..L_{n-1})\\)ï¼Œå…¶ä¸­ \\(L_i\\) è¡¨ç¤º \\((i+1)\\) å³è¾¹æ¯”å®ƒå°çš„æ•°çš„ä¸ªæ•°ã€‚\nç”±äº \\(L_0 = 0\\)ï¼Œæ‰€ä»¥è¿™ä¸€ä½é€šå¸¸è¢«å¿½ç•¥ã€‚\né‚£ä¹ˆï¼Œå®ƒçš„èŒƒå›´å°±æ˜¯ \\((0,0,..,0) \\thicksim (1,2,3,..{n-1})\\)ï¼Œæ³¨æ„ \\(L_i\\) æ˜¯ \\(i+1\\) è¿›åˆ¶æ•°ã€‚\né€’å‡è¿›ä½æ³• # å®šä¹‰ \\(L(\\sigma) = (L_0,L_1,..L_{n-2})\\)ï¼Œå…¶ä¸­ \\(L_i\\) è¡¨ç¤º \\((n-i)\\) å³è¾¹æ¯”å®ƒå°çš„æ•°çš„ä¸ªæ•°ã€‚\nç”±äº \\(L_{n-1} = 0\\)ï¼Œæ‰€ä»¥è¿™ä¸€ä½ä¹Ÿæ˜¯è¢«å¿½ç•¥çš„ã€‚\né‚£ä¹ˆï¼Œå®ƒçš„èŒƒå›´å°±æ˜¯ \\((0,0,..,0) \\thicksim ({n-1},{n-2},..1)\\)ï¼Œæ³¨æ„ \\(L_i\\) æ˜¯ \\(n-i\\) è¿›åˆ¶æ•°ã€‚\nå¯ä»¥çœ‹å‡ºæ¥ï¼Œé€’å¢å’Œé€’å‡è¿›ä½æ³•çš„ä¸­ä»‹æ•°çš„ä½æ•°éƒ½æ˜¯ \\(n-1\\) ä¸ªã€‚\né‚»ä½å¯¹æ¢æ³• # å®šä¹‰ \\(L(\\sigma) = (L_0,L_1,..L_{n-2})\\)ï¼Œå…¶ä¸­ \\(L_i\\) è¡¨ç¤º \\((n-i)\\) çš„ æ–¹å‘çš„åæ–¹å‘ ä¸Šæ¯”å®ƒå°çš„æ•°çš„ä¸ªæ•°ã€‚å…¶ä¸­ \\(L_{n-1} = 0\\)ï¼Œè¿™ä¸€ä½ä¹Ÿæ˜¯è¢«å¿½ç•¥çš„ã€‚\né‚»ä½äº¤æ¢æ³•çš„ä¸­ä»‹æ•°æ˜¯æ¯”è¾ƒéš¾ç†è§£çš„ã€‚æœ‰å‡ ä¸ªé‡è¦çš„æ¦‚å¿µ3 4ï¼š\né€†åºï¼šå¯¹äºä¸€ä¸ªåºåˆ—ä¸­çš„ä¸¤ä¸ªå…ƒç´  \\(\\sigma_i, \\sigma_j\\)ï¼Œå¦‚æœ \\(i \u0026lt; j\\) çš„åŒæ—¶ï¼Œ\\(\\sigma_i \u0026gt; \\sigma_j\\)ï¼Œåˆ™ç§° \\((i, j)\\) æ˜¯ä¸€ä¸ªé€†åºã€‚ é€†åºæ•°ï¼šä¸€ä¸ªåºåˆ—ä¸­ä»»æ„ä¸¤ä¸ªå…ƒç´ ä¸¤ä¸¤ç»„åˆï¼Œå®ƒä»¬æ˜¯é€†åºçš„çš„ä¸ªæ•°ç§°ä¸ºé€†åºæ•°ã€‚ é€†åºæ•°ä¸ºå¶æ•°çš„æ’åˆ—ç§°ä¸ºå¶æ’åˆ—ï¼Œåä¹‹ä¸ºå¥‡æ’åˆ—ã€‚ è¿™æ ·ï¼Œåˆå§‹çš„é€’å¢æ’åˆ—ï¼Œé€†åºæ•°ä¸º \\(0\\)ï¼Œæ˜¯å¶æ’åˆ—ã€‚\nå¦å¤–ä¸€ä¸ªæ¦‚å¿µæ˜¯ æ–¹å‘ï¼Œä¸‹é¢æ˜¯å‡ æ¡è§„åˆ™ï¼š\næ’åˆ—ä¸­ä¸€ä¸ªæ•°çš„æ–¹å‘ç”±æ¯”å®ƒå°çš„æ•°çš„æ„æˆçš„åºåˆ—çš„é€†åºæ•°å†³å®šï¼Œé€†åºæ•°ä¸ºå¶æ•°æ—¶ï¼Œå‘å·¦ï¼›å¦åˆ™å‘å³ã€‚ é€†åºæ•°çš„å¥‡å¶æ€§ä¸å®ƒçš„ä¸­ä»‹æ•°å¯¹åº”çš„åºå·çš„å¥‡å¶æ€§ä¸€è‡´ã€‚ ç”±äºä¸­ä»‹æ•°æ˜¯æœ€å¤§æ•°åˆ°æœ€å°æ•°æ’åˆ—çš„ï¼Œé‚£ä¹ˆæ¯”å®ƒå°çš„æ•°ç»„æˆæ’åˆ—çš„ä¸­ä»‹æ•°ï¼Œå°±æ˜¯å½“å‰ä½åé¢çš„ä¸­ä»‹æ•°ã€‚ å®Œæ•´çš„å®ç°ä»£ç åœ¨ Gist ä¸Š\nå±•å¼€æŸ¥çœ‹ ç»ƒä¹  # æ±‚ä¸åŒçš„æ’åˆ—ç®—æ³•ä¸­ 83674521 ä¹‹å‰ç¬¬ 2015 ä¸ªæ’åˆ—ã€‚5\nè¿™ä¸ªé—®é¢˜çš„æ±‚è§£æ­¥éª¤æ˜¯ï¼š\nåŸæ’åˆ— -\u0026gt; åŸä¸­ä»‹æ•° -\u0026gt; åºå· -\u0026gt; å‡å» 2015 -\u0026gt; æ–°åºå· -\u0026gt; æ–°ä¸­ä»‹æ•° -\u0026gt; æ–°æ’åˆ—\nè¿˜æœ‰ä¸€ç§æ–¹å¼æ˜¯ï¼š\nåŸæ’åˆ— -\u0026gt; åŸä¸­ä»‹æ•° -\u0026gt; å‡å» 2015 çš„ä¸­ä»‹æ•° -\u0026gt; æ–°ä¸­ä»‹æ•° -\u0026gt; æ–°æ’åˆ—\nåä¸€ç§æ–¹å¼ï¼Œéœ€è¦è®¡ç®— 2015 åœ¨ä¸åŒç®—æ³•ä¸­çš„ä¸­ä»‹æ•°ï¼ŒåŒæ—¶å‡æ³•ä¹Ÿæ˜¯åœ¨ç‰¹æ®Šè¿›åˆ¶ä¸‹æ±‚è§£ï¼Œä¼šæ¯”è¾ƒéº»çƒ¦ã€‚ æ‰€ä»¥ï¼ŒæŠŠä¸­ä»‹æ•°è½¬æˆåè¿›åˆ¶çš„åºå·ï¼Œç›´æ¥è®¡ç®—ä¼šæ¯”è¾ƒæ–¹ä¾¿ä¸€ç‚¹ã€‚\né€šè¿‡è®¡ç®—ï¼Œæˆ‘ä»¬å¾—å‡ºå››ç§ä¸åŒç®—æ³•çš„ç»“æœï¼š\nç®—æ³• åŸæ’åˆ— åŸä¸­ä»‹æ•° åŸåºå· æ–°åºå· æ–°ä¸­ä»‹æ•° æ–°æ’åˆ— å­—å…¸åº 83674521 72442210 37313 35298 70003000 81237456 é€’å¢è¿›ä½æ³• 83674521 7442221 38705 36690 7153300 86451273 é€’å‡è¿›ä½æ³• 83674521 1222447 37895 35880 1211450 37624518 é‚»ä½äº¤æ¢æ³• 83674521 1012120 22584 20569 1001121 48673251 https://en.wikipedia.org/wiki/Permutation#Numbering_permutations\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttps://en.wikipedia.org/wiki/Lehmer_code\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttps://blog.csdn.net/you1314520me/article/details/8943129\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttps://www.cnblogs.com/tianshuai11/archive/2012/04/28/2477157.html\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nå…¨æ’åˆ—ç”Ÿæˆç®—æ³• - ç»´åŸºç™¾ç§‘\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"May 25 2022","permalink":"/leetcode/lehmer_code/","section":"ç®—æ³•ä¸“æ ","summary":"å‰é¢ä»‹ç»äº†å„ç§å…¨æ’åˆ—ç®—æ³•ï¼Œé‚£ä¹ˆæœ‰è¿™æ ·ä¸€äº›é—®é¢˜ï¼š","title":"ä¸­ä»‹æ•°"},{"content":" A permutation is an act of arranging the objects or numbers in order. Combinations are the way of selecting the objects or numbers from a group of objects or collection, in such a way that the order of the objects does not matter.\næ’åˆ—ç»„åˆæ˜¯ç»„åˆ/ç¦»æ•£æ•°å­¦ä¸­çš„åŸºç¡€å’Œé‡è¦çš„æ¦‚å¿µã€‚\n$$ P_n^m = A_n^m = n(n-1)(n-2)\u0026hellip;(n-m+1) = \\frac {n!}{(n-m)!} $$\nå½“ \\(n = m\\) æ—¶ï¼Œä¹Ÿå°±æ˜¯å…¨æ’åˆ—ï¼š\n\\(P_n = n(n-1)(n-2)\u0026hellip;3 \\times 2 \\times 1 = n!\\)\né»˜è®¤æ˜¯ä¸æ”¾å›æ’åˆ—ï¼Œå¦‚æœæ˜¯é‡å¤æ’åˆ—ï¼Œé‚£ä¹ˆæ’åˆ—æ•°å°±æ˜¯ \\(n^m\\)\nå“ˆå“ˆï¼Œè·‘åäº†ï¼Œè¿™ç¯‡ä¸æ˜¯è¦æ¼”ç¤º KaTex çš„ç”¨æ³• ï¼ˆè™½ç„¶ç¡®å®æŒºæœ‰æ„æ€çš„ ğŸ˜¹ï¼‰\nåº”ç”¨ # 46. Permutations 31. Next Permutation 47. Permutations II 60. Permutation Sequence æ’åˆ—ç®—æ³• # æˆ‘ä»¬çŸ¥é“æ’åˆ—æ•°æ˜¯é˜¶ä¹˜çº§å¢é•¿ï¼Œ10ä¸ªæ•°çš„æ’åˆ—å°±è¾¾åˆ°äº† \\(10! = 3628800\\)ï¼Œç™¾ä¸‡çº§çš„è§„æ¨¡ã€‚\næ‰€ä»¥ï¼Œå³ä½¿æˆ‘ä»¬ O(1) ç”Ÿæˆä¸€ä¸ªæ’åˆ—ï¼Œé‚£ç”Ÿæˆå…¨æ’åˆ—çš„ç®—æ³•å¤æ‚åº¦ä¹Ÿæ˜¯ O(n!)ï¼Œéå¸¸ææ€–ã€‚\nåœ¨ wiki1 ä¸Šæœ‰ä¸€ä¸ªæœ‰æ„æ€çš„å›¾ï¼Œè¡¨ç¤ºäº†ä¹ç§ç®—æ³•ï¼Œç”Ÿæˆå…¨æ’åˆ—çš„é¡ºåºã€‚\nOrdering of all permutations of length \\({\\displaystyle n=4}\\) generated by different algorithms. The permutations are color-coded, where 1[â¤ï¸], 2[ğŸ’›], 3[ğŸ’š], 4[ğŸ’™]\nè¿™ä¹ç§ç®—æ³•åˆ†åˆ«æ˜¯ï¼š\nå­—å…¸åº é‚»ä½å¯¹æ¢æ³• Heap ç®—æ³• Ehrlich\u0026rsquo;s star-transposition algorithm Zaks\u0026rsquo; prefix reversal algorithm Sawada-Williams\u0026rsquo; algorithm Corbett\u0026rsquo;s algorithm Single-track ordering Single-track Gray code ä¸‹é¢æ˜¯å‚è€ƒäº†ä¸€äº›ç½‘ç«™2ï¼Œç”¨ Swift å®ç°å¸¸è§çš„å…¨æ’åˆ—ç”Ÿæˆç®—æ³•ã€‚\nå›æº¯æ³• # ä¸»è¦æ€è·¯ï¼šäº¤æ¢ã€æ’åˆ—ã€æ¢å¤\nfunc permute1(_ nums: [Int]) -\u0026gt; [[Int]] { TICK() var ans = [[Int]]() func _p(_ a: [Int], _ l: Int, _ r: Int) { var tmp = a if l == r { ans.append(a) return } for i in l...r { tmp.swapAt(l, i) _p(tmp, l + 1, r) tmp.swapAt(i, l) } } _p(nums, 0, nums.count - 1) TOCK() return ans } æ’å…¥æ³• # ä¸»è¦æ€è·¯ï¼šå¯¹äº n çš„å…¨æ’åˆ—ï¼Œå°†ç¬¬ n+1 ä¸ªæ•°ï¼Œæ’å…¥åˆ° (0\u0026hellip;n) è¿™ n+1 ä¸ªä½ç½®å°±å¯ä»¥å¾—åˆ° n+1 çš„å…¨æ’åˆ—ã€‚\nfunc permute2(_ nums: [Int]) -\u0026gt; [[Int]] { TICK() let ans : [[Int]] = nums.reduce([[]], { partialResult, a in var nextResult = [[Int]]() for lastArray in partialResult { let sz = lastArray.count // å°† a æ’å…¥åˆ° n-1 æ’åˆ—ä¸­çš„ sz ä¸ªä½ç½® for i in (0...sz) { // ArraySlice\u0026lt;Int\u0026gt; ç±»å‹ let temp = lastArray[0..\u0026lt;i] + [a] + lastArray[i..\u0026lt;sz] nextResult.append(Array(temp)) } } return nextResult }) TOCK() return ans } reduce æ˜¯ä¸ªæŒºæœ‰æ„æ€çš„æ–¹æ³•ï¼Œæœ‰ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ˜¯åˆå§‹å€¼ï¼Œä¸€ä¸ªæ˜¯é—­åŒ…ï¼Œé—­åŒ…æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œä¸€æ˜¯ä¸Šä¸€æ­¥çš„ç»“æœï¼Œå¦ä¸€ä¸ªæ˜¯åºåˆ—ä¸­çš„å€¼ã€‚\nä¸Šé¢çš„ä»£ç ç­‰ä»·äºï¼š\nvar ans : [[Int]] = [[]] for i in 0..\u0026lt;nums.count { var nextResult = [[Int]]() for (_, item) in ans.enumerated() { let sz = item.count // å°† a æ’å…¥åˆ° n-1 æ’åˆ—ä¸­çš„ sz ä¸ªä½ç½® for k in (0...sz) { // ArraySlice\u0026lt;Int\u0026gt; ç±»å‹ let temp = item[0..\u0026lt;k] + [nums[i]] + item[k..\u0026lt;sz] nextResult.append(Array(temp)) } } ans = nextResult } å­—å…¸åº # é¦–æ¬¡å®šä¹‰å…¨å‡åºä¸ºæœ€å°çš„åºåˆ—ï¼Œå…¨é™åºä¸ºæœ€å¤§çš„åºåˆ—ã€‚\né—®é¢˜å˜æˆä»æœ€å°é€ä¸€ç”Ÿæˆä¸‹ä¸€ä¸ªæ’åˆ—ï¼Œç”Ÿæˆä¸‹ä¸€ä¸ªæ’åˆ—(nextPermutation) çš„ç®—æ³•æœ‰å››æ­¥ï¼š\nä»åå‘å‰æ‰¾åˆ°ç¬¬ä¸€ä¸ªé€†åºçš„ä½ç½® \\(j\\), å³ \\(p_j \u0026lt; p_{j+1} \u0026gt;= p_{j+2}\\) é‡æ–°ä»åå‘å‰æ‰¾åˆ°ç¬¬ä¸€ä¸ªæ¯” \\(p_j\\) å¤§çš„æ•° \\(p_k\\)ï¼Œç”±äº \\([j+1, n)\\) æ˜¯é™åºçš„ (ç¬¬ä¸€æ­¥å†³å®š)ï¼Œ \\(k\\) å¿…ç„¶ä¹Ÿæ˜¯æ»¡è¶³è¿™ä¸ªæ¡ä»¶çš„æœ€å°çš„æ•°ï¼Œå³ \\(P_k = \\min\\{P_i | P_i \u0026gt; P_j, i \u0026gt; j\\}\\) äº¤æ¢ \\(j\\) å’Œ \\(k\\) ä½ç½®çš„æ•° å°† \\([j+1, n)\\) åè½¬ (é™åºå˜å‡åºï¼Œå…¶å®å°±æ˜¯é‡æ’åº) func permute3(_ nums: [Int]) -\u0026gt; [[Int]] { TICK() let nextPermutation : ([Int]) -\u0026gt; [Int]? = { array in var result = array let sz = array.count var j = -1 // æ‰¾åˆ°ç¬¬ä¸€ä¸ªæ¯”åé¢æ•°å°çš„æ•° for i in (0..\u0026lt;sz-1).reversed() { if result[i] \u0026lt; result[i+1] { j = i; break; } } // æ‰¾ä¸åˆ°è¯´æ˜å·²ç»æ˜¯å…¨é€†åºï¼Œå³æœ€åä¸€ä¸ªæ’åˆ— if (j == -1) { return nil } var k = -1 // æ‰¾åˆ° [j+1, sz) ä¸­æ¯” j å¤§çš„æ•°ä¸­æœ€å°çš„ä¸€ä¸ª k // ç¬¬ä¸€ä¸ªå°±æ˜¯æœ€å°çš„ï¼Œå› ä¸º [j+1, sz) æ˜¯é€’å‡çš„ for i in (j+1..\u0026lt;sz).reversed() { if result[i] \u0026gt; result[j] { k = i break } } // äº¤æ¢ j - k result.swapAt(j, k) // [j+1, sz) result = Array(result[0...j] + result[j+1..\u0026lt;sz].reversed()) return result } var ans = [[Int]]() ans.append(nums.sorted()) while let next = nextPermutation(ans.last!) { ans.append(next) } TOCK() return ans } é€’å½’æ³• âœ¨ # ä¸»è¦æ€è·¯æ˜¯ï¼Œæšä¸¾åŸæ•°ç»„æ‰€æœ‰ä½ç½®ï¼Œå°†ä½ç½®ä¸Šçš„æ•°ç§»åˆ°ç»“æœæ•°ç»„ä¸­ï¼Œç›´åˆ°åŸæ•°ç»„æ¸…ç©ºã€‚\nfunc permute4(_ nums: [Int]) -\u0026gt; [[Int]] { TICK() var ans = [[Int]]() func _p(_ a: [Int], _ result: [Int]) { let sz = a.count if sz == 0 { ans.append(result) return } for i in 0..\u0026lt;sz { let rest = Array(a[0..\u0026lt;i] + a[i+1..\u0026lt;sz]) _p(rest, result + [a[i]]) } } _p(nums, []) TOCK() return ans } é‚»ä½å¯¹æ¢æ³•3 # ä¹Ÿå°±æ˜¯ Steinhausâ€“Johnsonâ€“Trotter ç®—æ³•ã€‚\né¦–å…ˆï¼Œå®šä¹‰å‡åºæ˜¯æ­£æ–¹å‘ï¼Œè€Œå¯¹äº \\(a[i] \u0026gt; a[j], i \u0026lt; j\\)ï¼Œå°±æ˜¯ä¸€ä¸ªé€†åºå¯¹ã€‚\nåˆå§‹åŒ–ä¸€ä¸ªæ–¹å‘æ•°ç»„ï¼Œé»˜è®¤å…¨ 0ï¼Œè¡¨ç¤ºå‘å·¦äº¤æ¢ï¼Œå¦‚æœå˜æˆ 1ï¼Œå°±æ˜¯å‘å³äº¤æ¢ ç¡®è®¤ä¸€ä¸ªå…ƒç´ æ˜¯å¦èƒ½äº¤æ¢ï¼ˆæ´»åŠ¨çŠ¶æ€ï¼‰ï¼šåœ¨å®ƒçš„æ–¹å‘ä¸Šï¼Œå®ƒçš„é‚»ä½æ¯”è‡ªå·±å°ã€‚ ç®—æ³•æ­¥éª¤å°±æ˜¯ï¼š\nåˆå§‹åŒ–æ–¹å‘æ•°ç»„ï¼Œå…¨éƒ¨å‘å·¦äº¤æ¢ æ‰¾åˆ°æ‰€æœ‰å¤„äºæ´»åŠ¨çŠ¶æ€å…ƒç´ ä¸­æœ€å¤§çš„ä¸€ä¸ª å°†å®ƒä¸é‚»ä½äº¤æ¢ å°†æ‰€æœ‰å¤§äºä¸Šé¢è¿™ä¸ªå…ƒç´ ï¼ˆéæ´»åŠ¨çŠ¶æ€ï¼‰çš„å…¶ä»–å…ƒç´ æ–¹å‘åè½¬ è·³è½¬ 2ï¼Œç›´è‡³æ‰¾ä¸åˆ°è¿™æ ·çš„å…ƒç´  func permute5(_ nums: [Int]) -\u0026gt; [[Int]] { TICK() var a = nums let sz = a.count var ans = [[Int]]() // -1 means left, 1 means right var directions = [Int](repeating: -1, count: sz) func _movable() -\u0026gt; Int? { var max = 1 var pos = -1 for i in 0..\u0026lt;sz { if a[i] \u0026lt; max { continue } if (directions[i] \u0026gt; 0 \u0026amp;\u0026amp; i \u0026lt; sz - 1 \u0026amp;\u0026amp; a[i] \u0026gt; a[i+1]) || (directions[i] \u0026lt; 0 \u0026amp;\u0026amp; i \u0026gt; 0 \u0026amp;\u0026amp; a[i] \u0026gt; a[i-1]) { max = a[i] pos = i } } if (pos \u0026gt;= 0) { return pos } return nil } ans.append(a) while let max_i = _movable() { let max_v = a[max_i] a.swapAt(max_i, max_i + directions[max_i]) // æ³¨æ„ï¼šæ–¹å‘ä¹Ÿè¦è·Ÿç€äº¤æ¢ directions.swapAt(max_i, max_i + directions[max_i]) ans.append(a) for i in 0..\u0026lt;sz { if (a[i] \u0026gt; max_v) { directions[i] = -directions[i] } } } TOCK() return ans } ç›¸æ¯”å­—å…¸åºæ¥è¯´ï¼Œé‚»ä½äº¤æ¢åœ¨äº¤æ¢è¿™ä¸€æ­¥æ›´å¿«ï¼Œä½†æ˜¯æŸ¥æ‰¾æœ€å¤§å¯ç§»åŠ¨å…ƒç´ å’Œä¿®æ”¹æ–¹å‘æ—¶ï¼Œéœ€è¦éå†ã€‚æ•´ä½“æ¥è¯´ï¼Œæ—¶é—´å·®ä¸å¤šã€‚\nHeap ç®—æ³•4 # func _permute6(_ nums: [Int]) -\u0026gt; [[Int]] { TICK() var ans = [[Int]]() func _heap(k: Int, a: inout [Int]) { if k == 1 { ans.append(a) return } // Generate permutations with k-th unaltered // Initially k = length(A) _heap(k: k-1, a: \u0026amp;a) // Generate permutations for k-th swapped with each k-1 initial for i in 0..\u0026lt;k-1 { // Swap choice dependent on parity of k (even or odd) if k % 2 == 0 { a.swapAt(i, k-1) } else { a.swapAt(0, k-1) } _heap(k: k-1, a: \u0026amp;a) } } var a = nums _heap(k: a.count, a: \u0026amp;a) TOCK() return ans } é€’å¢è¿›ä½æ³• # func permute7(_ nums: [Int]) -\u0026gt; [[Int]] { TICK() var ans = [[Int]]() let sz = nums.count var inc = [Int](repeating: 0, count: sz) // inc[i] è¡¨ç¤º (i+1) å³è¾¹æ¯”å®ƒçš„å°çš„æ•°çš„ä¸ªæ•°ï¼Œæ˜¯ (i+1) è¿›åˆ¶æ•° // inc[0] æ€»æ˜¯ 0 func _outInc() -\u0026gt; String { let rev : [String] = inc[1...].reversed().map({ String($0) }) return rev.joined() } // æœ€ä½ä½æ˜¯ 2 è¿›åˆ¶ï¼Œé€’å¢æ—¶è¿›ä½å¤š func _increace() -\u0026gt; Bool { var i = 1 var carry = 1 while i \u0026lt; sz { if carry == 0 { break } let sum = inc[i] + carry inc[i] = sum % (i + 1) carry = sum / (i + 1) i += 1 } // å¦‚æœè¿˜æœ‰è¿›ä½ï¼Œè¯´æ˜å·²ç»åˆ°äº†æœ€å¤§çš„æ’åˆ— return (carry == 0) } func _next() -\u0026gt; Bool { // æ ¹æ®å½“å‰ä¸­ä»‹æ•°æ±‚æ’åˆ— var p = [Int](repeating: 0, count: sz) for i in (0..\u0026lt;sz).reversed() { var count = 0 var j = sz - 1 // inc[i] + 1 çš„ç©ºä½ï¼Œæ”¾ sz - i while j \u0026gt;= 0 { if p[j] == 0 { count += 1 } if (count \u0026gt; inc[i]) { break } j -= 1 } // p[j] = i + 1 p[j] = nums[i] } ans.append(p) //print(_outInc()) // ä¸­ä»‹æ•° + 1 return _increace() } while _next() { } TOCK() return ans } é€’å‡è¿›ä½æ³• # func permute8(_ nums: [Int]) -\u0026gt; [[Int]] { TICK() var ans = [[Int]]() let sz = nums.count var inc = [Int](repeating: 0, count: sz) // inc[i] è¡¨ç¤º (n-i) å³è¾¹æ¯”å®ƒçš„å°çš„æ•°çš„ä¸ªæ•°ï¼Œæ˜¯ (n-i) è¿›åˆ¶æ•° // inc[sz-1] æ€»æ˜¯ 0 func _outInc() -\u0026gt; String { let rev : [String] = inc[0..\u0026lt;sz-1].reversed().map({ String($0) }) return rev.joined() } // æœ€ä½ä½æ˜¯ n è¿›åˆ¶ï¼Œé€’å¢æ—¶è¿›ä½å°‘ func _increace() -\u0026gt; Bool { var i = 0 var carry = 1 while i \u0026lt; sz - 1 { if carry == 0 { break } let sum = inc[i] + carry inc[i] = sum % (sz - i) carry = sum / (sz - i) i += 1 } // å¦‚æœè¿˜æœ‰è¿›ä½ï¼Œè¯´æ˜å·²ç»åˆ°äº†æœ€å¤§çš„æ’åˆ— return (carry == 0) } func _next() -\u0026gt; Bool { // æ ¹æ®å½“å‰ä¸­ä»‹æ•°æ±‚æ’åˆ— var p = [Int](repeating: 0, count: sz) for i in 0..\u0026lt;sz { var count = 0 var j = sz - 1 // inc[i] + 1 çš„ç©ºä½ï¼Œæ”¾ sz - i while j \u0026gt;= 0 { if p[j] == 0 { count += 1 } if (count \u0026gt; inc[i]) { break } j -= 1 } // p[j] = sz - i p[j] = nums[sz - i - 1] } ans.append(p) //print(_outInc()) // ä¸­ä»‹æ•° + 1 return _increace() } while _next() { } TOCK() return ans } å¯ä»¥çœ‹å‡ºæ¥ï¼Œé€’å‡è¿›ä½åˆ¶å’Œé€’å¢è¿›ä½åˆ¶æ³•éå¸¸ç±»ä¼¼ã€‚åŒºåˆ«ä»…åœ¨äºï¼š\nä¸­ä»‹æ•°çš„æœ€ä½ä½ï¼Œé€’å‡æ³•æ˜¯ \\(n\\) è¿›åˆ¶æ•°ï¼Œè€Œé€’å¢æ³•æ˜¯ \\(2\\) è¿›åˆ¶ï¼Œè¿™æ ·åœ¨è¿­ä»£æ—¶ï¼Œé€’å¢æ³•éœ€è¦è¿›ä½çš„æ¬¡æ•°æ›´å¤šã€‚ å¿«é€Ÿæ’åˆ— # QuickPerm ç®—æ³•5ã€‚\nfunc permute9(_ nums: [Int]) -\u0026gt; [[Int]] { TICK() var ans = [[Int]]() var a = nums // init: [0,0,0...0] var p = [Int](repeating: 0, count: a.count) ans.append(a) var i = 1 var j : Int while i \u0026lt; a.count { if (p[i] \u0026lt; i) { // if i is odd, j = p[i]; else 0 j = i % 2 * p[i] // swap(a[i], a[j]) (a[i], a[j]) = (a[j], a[i]) ans.append(a) p[i] += 1 i = 1 } else { p[i] = 0 i += 1 } } TOCK() return ans } å¼€å§‹æˆ‘æ²¡å¤ªç†è§£è¿™ä¸ªç®—æ³•çš„é€»è¾‘ï¼Œåæ¥çœ‹åˆ°äº† Heap ç®—æ³•çš„ éé€’å½’å®ç°ã€‚\nä¸èƒ½è¯´æ¯”è¾ƒç›¸ä¼¼å§ï¼Œåªèƒ½è¯´ä¸€æ¨¡ä¸€æ ·ã€‚å”¯ä¸€çš„åŒºåˆ«æ˜¯è¿™ä¸ªç®—æ³•æ”¹è¿›äº†èµ·å§‹ç‚¹ä» i = 0 å˜æˆäº† i = 1ï¼Œå› ä¸º i = 0 è¿›å…¥å¾ªç¯åä»€ä¹ˆä¹Ÿæ²¡æœ‰å˜åŒ–å°±è¿›å…¥äº† i = 1 çš„çŠ¶æ€ã€‚ä½†æ˜¯è¿™ä¸€ç‚¹ä¼˜åŒ–ï¼Œåœ¨æ•°æ®é‡å·¨å¤§çš„æƒ…å†µä¸‹ï¼Œæ˜¯è´¨çš„æå‡ï¼\nå¦å¤–ï¼Œåœ¨å®ƒçš„å®˜ç½‘ä¸Šï¼Œè¿™ä¸€å®ç°è¢«ç§°ä¸º Countingï¼Œè¿˜æœ‰å¦ä¸€ç§å®ç°å« Countdownï¼ŒåŒºåˆ«å°±åœ¨äº \\(P[]\\) æ•°ç»„çš„åˆå§‹åŒ–å’Œä¿®æ”¹æ–¹å¼ï¼Œä¸€ä¸ªé€’å¢ã€ä¸€ä¸ªé€’å‡ã€‚\nè€—æ—¶ç»Ÿè®¡ âŒ› # ä»¥ä¸‹æ˜¯é€šè¿‡ TICK/TOCK å®ç”Ÿæˆçš„å„ä¸ªç®—æ³•çš„æ‰§è¡Œæ—¶é—´ ï¼ˆä»¥ 10 ä¸ªæ•°æ’åˆ—ä¸ºä¾‹ï¼‰\nç®—æ³• æ—¶é—´ å›æº¯æ³• 4.97 s æ’å…¥æ³• 4.58 s å­—å…¸åº 8.24 s é€’å½’æ³• 11.49 s é‚»ä½å¯¹æ¢æ³• 28.37 s Heap ç®—æ³• 2.57 s é€’å¢è¿›ä½æ³• 16.70 s é€’å‡å¯¹æ¢æ³• 19.67 s å¿«é€Ÿæ’åˆ—ç®—æ³• 0.78 s ä¸æ„§æ˜¯ å¿«é€Ÿæ’åˆ— ç®—æ³•ï¼\nç»Ÿè®¡å® var g_start_time = NSDate() public func TICK() { g_start_time = NSDate() } public func TOCK(function: String = #function) { print(String(format: \u0026#34;[%@] cost: %.2lf s\u0026#34;, function, -g_start_time.timeIntervalSinceNow)) } æœ€ä½³å®è·µ ğŸš€ # ä¸Šé¢è®²äº†éå¸¸å¤šçš„ç®—æ³•ï¼Œä½†æ˜¯æœ‰äº›éš¾ä»¥ç†è§£ï¼Œæˆ‘è§‰å¾—å¯¹äºåŒç±»ç®—æ³•ï¼Œåªéœ€è®°ä½æœ€å®¹æ˜“ç†è§£çš„é€»è¾‘å³å¯ã€‚\nfunc permute(_ nums: [Int]) -\u0026gt; [[Int]] { guard !nums.isEmpty else { return [] } var ans = [[Int]]() var a = nums let n = nums.count func _p(_ index: Int) { if index == n { ans.append(a) return } for i in index..\u0026lt;n { a.swapAt(index, i) _p(index + 1) a.swapAt(i, index) } } _p(0) return ans } å…³äºå»é‡ # å¯¹äºæœ‰é‡å¤å…ƒç´ çš„æ’åˆ—6ï¼š\n47. Permutations II æœ€å®¹æ˜“æƒ³åˆ°çš„æ˜¯ï¼Œä¸ç®¡é‡å¤å…ƒç´ ï¼Œå…ˆæ±‚å‡ºæ‰€æœ‰æ’åˆ—ã€‚ç„¶åå†å»é‡ã€‚\næˆ‘ä»¬åœ¨ä¸Šé¢çš„æœ€ä½³å®è·µä¸Šç¨åŠ æ”¹åŠ¨ï¼š\nfunc permuteUnique(_ nums: [Int]) -\u0026gt; [[Int]] { guard !nums.isEmpty else { return [] } var ans = Set\u0026lt;[Int]\u0026gt;() var a = nums let n = nums.count func _p(_ index: Int) { if index == n { ans.insert(a) return } for i in index..\u0026lt;n { a.swapAt(index, i) _p(index + 1) a.swapAt(i, index) } } _p(0) return Array(ans) } ä¹Ÿè¿˜è¡Œï¼Œå°±æ˜¯ä¾èµ– Set çš„æ€§è´¨ï¼Œæœ‰ç‚¹è€—æ—¶ã€‚é‚£ä¹ˆæ€ä¹ˆåœ¨æ±‚æ’åˆ—è¿‡ç¨‹ä¸­ç›´æ¥å¿½ç•¥é‡å¤é¡¹å‘¢ï¼Ÿ\nfunc permuteUnique2(_ nums: [Int]) -\u0026gt; [[Int]] { guard !nums.isEmpty else { return [] } var ans = [[Int]]() var a = nums let n = nums.count func _p(_ index: Int) { if index == n { ans.append(a) return } var used = Set\u0026lt;Int\u0026gt;() for i in index..\u0026lt;n { if used.contains(a[i]) { continue } used.insert(a[i]) a.swapAt(index, i) _p(index + 1) a.swapAt(index, i) } } _p(0) return ans } å¯¹äºé‡å¤çš„å…ƒç´ åªé€‰æ‹©ä¸€æ¬¡ï¼\nCheers! ğŸ‰\nhttps://en.wikipedia.org/wiki/Permutation#Algorithms_to_generate_permutations\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttps://www.baeldung.com/cs/array-generate-all-permutations\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nSteinhausâ€“Johnsonâ€“Trotter algorithm\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttps://en.wikipedia.org/wiki/Heap%27s_algorithm\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttps://www.quickperm.org/quickperm.php\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttps://segmentfault.com/a/1190000040142137\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"May 21 2022","permalink":"/leetcode/permutations/","section":"ç®—æ³•ä¸“æ ","summary":"A permutation is an act of arranging the objects or numbers in order.","title":"å…¨æ’åˆ—ç®—æ³•"},{"content":"æœ¬æ¥åšå®¢ä¸æƒ³å†™éæŠ€æœ¯çš„ä¸œè¥¿ï¼Œä½†æ˜¯å§ï¼Œè¿™ä¸€ä¸ªæœˆå¤ªè¿‡é­”å¹»ï¼Œä¸åä¸å¿«ã€‚\nå› ä¸ºä¸Šæµ·ç–«æƒ…åŸå› ï¼Œåœ¨å®¶å·²ç»å°æ§æ•´ä¸¤æœˆ 2022.3.18 - 2022.5.17 äº†ï¼Œå…³äºç–«æƒ…ï¼Œæ²¡ä»€ä¹ˆè¦è¯´çš„ä¹Ÿä¸æƒ³åå˜ˆä»€ä¹ˆã€‚ï¼ˆç‰©èµ„å……è¶³ï¼Œæ„Ÿæ© ğŸ™ï¼‰\nè¯´å›é¢è¯•ï¼Œä» 4 æœˆåº•å¼€å§‹é¢è¯•ï¼Œç›®å‰åŠä¸ªå¤šæœˆï¼Œç»“æœæ˜¯ï¼Œä¸€ä¸ª offer ä¹Ÿæ²¡æœ‰æ”¶åˆ°ã€‚\nåå‡ æ¬¡è‡ªæˆ‘ä»‹ç»ï¼Œäººå·²ç»éº»äº†ã€‚ä¸€æ–¹é¢äººèœï¼Œä¸€æ–¹é¢å½¢åŠ¿å¯èƒ½ç¡®å®æ¯”æƒ³è±¡ä¸­æ›´åŠ ä¸¥å³»ã€‚\nåå˜ˆå‡ ä¸ªé¢è¯•å°æ’æ›²ï¼Œçº¯å®‰æ…°è‡ªå·±å§ã€‚\næŸå…¬å¸ç»ˆé¢ï¼Œä¸­é—´ç™½å¤´å‘çš„â€œå¤§ä½¬â€ï¼šâ€œä½ å¹´çºªä¹ŸæŒºå¤§äº†å•Šâ€ã€‚ï¼ˆæœ¬äºº 91ï¼‰\næŸå…¬å¸ä¸€é¢ï¼Œâ€œä½ æ˜¯è®¡ç®—æœºä¸“ä¸šæ¯•ä¸šçš„å“ˆâ€ï¼Œâ€œè¯´ä¸€ä¸‹ä½ å¯¹å›¾çµæœºçš„ç†è§£â€\næŸå…¬å¸ä¸€é¢å®Œï¼Œä»¥ä¸º GG äº†ï¼ŒåŠä¸ªæœˆåæ”¶åˆ° HR ç”µè¯ï¼Œè¯´ï¼šâ€œä¸å¥½æ„æ€ï¼ŒæŠŠä½ å¿˜äº†ï¼Œèƒ½çº¦ä¸ªæ—¶é—´äºŒé¢å—â€\næŸå¤–ä¼ï¼Œä¸€ä¸ªå°æ—¶ä¸€é“ Trie æ ‘é¢˜ï¼Œæ²¡æœ‰æƒ³åˆ°ï¼ˆå½“æ—¶ä½¿ç”¨äº†å¤šçº§ dictionaryï¼‰ã€‚é¢è¯•ç»“è®ºï¼šæ•°æ®ç»“æ„ã€å˜é‡å‘½åã€è‹±æ–‡ï¼Œéƒ½ä¸è¡Œã€‚ï¼ˆè¯´çš„å¥½ï¼ŒğŸ˜¢ï¼‰\nä½¿ç”¨ OC è£¸å†™ç®—æ³•ï¼Œæ²¡æœ‰ API æç¤ºã€‚\næŸæŸå¤–ä¼ï¼Œä¸€ä¸ªå°æ—¶ä¸€é“ B+ æ ‘ï¼Œæ²¡æœ‰åšå‡ºæ¥ã€‚ï¼ˆè¡Œå§ï¼Œæˆ‘æ²¡æœ‰ B shuï¼‰\næŸäº¤å‹ appï¼Œ\nä½ ä»¬çš„å·¥ä½œæ—¶é—´ï¼Ÿ æœ 9 æ™š 10ï¼ŒåŠ ç­æœ‰é¥­è¡¥å’Œæ‰“è½¦ã€‚ é‚£æŒºæ™šçš„ã€‚ ä¸ç®—æ™šï¼Œå¤–é¢æ¯”æˆ‘ä»¬æ™šçš„å…¬å¸å¤šäº†å»äº†ã€‚ æŸäº›çŒå¤´ï¼Œè¿å²—ä½éƒ½æä¸æ¸…ï¼Œå‘è¿‡æ¥ä¸€ä¸ªå‡ åé¡µçš„ jd æ–‡æ¡£ï¼Œè®©è‡ªå·±æ‰¾ä¸ªå²—ä½æŠ•é€’ã€‚\næŸ HRï¼Œé¢è¯•å‰å¤©å¤©å‚¬ï¼Œé¢è¯•å®Œé—®è¿›åº¦ï¼Œå„ç§æ²¡æœ‰å›å¤ã€‚\næŸèŠ‚ HRï¼Œä¸‰å¤©ä¸¤å¤´æå‡ºæ¥é­å°¸ä¸€æ³¢ã€‚\nå†™åœ¨æœ€å # ä¸‹é¢æ˜¯ä¸€äº›é¢è¯•é«˜é¢‘é—®é¢˜çš„å†…å¿ƒç­”æ¡ˆï¼š\nè‡ªæˆ‘ä»‹ç»ä¸€ä¸‹ï¼Ÿ ç®€å†ä¸Šæ²¡æœ‰å—ï¼Ÿä¸è¯†å­—ï¼Ÿ\nä¸ºä»€ä¹ˆæƒ³è¦æ¢å·¥ä½œï¼Ÿ é©¬è€å¸ˆè¯´è¿‡ï¼Œç¦»èŒå°±ä¸¤ä¸ªåŸå› ã€‚æˆ‘è§‰å¾—ä¸¤è€…éƒ½æœ‰ã€‚\nè¯´ä¸€ä¸‹ä½ é¡¹ç›®ä¸­é‡åˆ°çš„éš¾ç‚¹ï¼Œä½ æ˜¯æ€ä¹ˆè§£å†³çš„ã€‚ æ²¡æœ‰é‡åˆ°è¿‡ä»€ä¹ˆéš¾ç‚¹ï¼Œæˆ‘çš„å·¥ä½œå°å­¦ç”Ÿéƒ½èƒ½åšã€‚\nç±»ä¼¼å¾ªç¯ 10ä¸‡æ¬¡ï¼Œä¼šä¸ä¼š crash ä¹‹ç±»çš„ä»£ç ã€‚ ä¼šä¸ä¼š crash æˆ‘è·‘ä¸€ä¸‹å°±çŸ¥é“ï¼Œä½†æ˜¯å†™è¿™ç§ä»£ç çš„äººå»ºè®®å¼€é™¤ã€‚\nè¯´ä¸€ä¸‹å†…å­˜ä¼˜åŒ–ã€‚ å»ºè®®ä½ç«¯æœºç”¨æˆ·æ¢æ‰‹æœºã€‚å‚è€ƒï¼šOOM é—®é¢˜è§£å†³æ–¹æ¡ˆ\nä½ æœ‰ä»€ä¹ˆè¦é—®çš„å—ï¼Ÿ æ²¡æœ‰ï¼Œæˆ‘çš„é—®é¢˜ä½ è§£ç­”ä¸äº†ã€‚ï¼ˆé—®ä½ å¯¹ä¿„ä¹Œå±€åŠ¿çš„çœ‹æ³•ï¼Ÿ\n","date":"May 17 2022","permalink":"/posts/2022/about-interview/","section":"ç¢è¯­é—²è¨€","summary":"æœ¬æ¥åšå®¢ä¸æƒ³å†™éæŠ€æœ¯çš„ä¸œè¥¿ï¼Œä½†æ˜¯å§ï¼Œè¿™ä¸€ä¸ªæœˆå¤ªè¿‡é­”å¹»ï¼Œä¸åä¸å¿«ã€‚","title":"æœ€è¿‘ä¸€ä¸ªæœˆçš„é¢è¯•æ€»ç»“"},{"content":"è€æ˜¯è¢«é—®è¿™ç§é—®é¢˜ï¼Œå¸¸è§çš„å†…å­˜ä¼˜åŒ–æ–¹æ³•æ— éï¼š\nå‡å°‘å›¾ç‰‡ç­‰åŠ è½½åˆ°å†…å­˜ä¸­çš„èµ„æºå¤§å° åŠæ—¶æ¸…ç†å†…å­˜èµ„æº åˆ©ç”¨ç£ç›˜ç¼“å­˜ é¿å…å†…å­˜æ³„éœ² ä½†æ˜¯ï¼\næœ€å¥½çš„åšæ³•åº”è¯¥æ˜¯ï¼š\nå»ºè®®ç”¨æˆ·æ¢æ‰‹æœºï¼Œè·³è½¬ç”µå•†å¹³å°ï¼Œè¿˜èƒ½èµšä¸€æ³¢å¹¿å‘Šè´¹ã€‚\n","date":"May 6 2022","permalink":"/posts/2022/oom-crash/","section":"ç¢è¯­é—²è¨€","summary":"è€æ˜¯è¢«é—®è¿™ç§é—®é¢˜ï¼Œå¸¸è§çš„å†…å­˜ä¼˜åŒ–æ–¹æ³•æ— éï¼š","title":"å…³äº OOM ç±» crash çš„è§£å†³æ–¹æ³•"},{"content":"åœ¨ åœ¨ ObjC ä¸­å¦‚ä½•å®šä¹‰ Block ä¸­æ€»ç»“äº† OC ä¸­ block çš„è¯­æ³•ã€‚\nä¸çŸ¥é“ Swift æœ‰æ²¡æœ‰ç±»ä¼¼ fuckingblocksyntax.com çš„ç½‘ç«™ï¼Œåæ­£æˆ‘è¿™ç¯‡æ˜¯å« fucking-closures-syntax ğŸ˜¬\nä½¿ç”¨æ–¹æ³• # { (parameters) -\u0026gt; returnType in statements } å±€éƒ¨å˜é‡ # è¯­æ³•å®šä¹‰ var closureName : (parameters) -\u0026gt; returnType = { (parameters) -\u0026gt; returnType in // statements } ä¾‹å¦‚ï¼š\nlet handler : (Float) -\u0026gt; Void = { (_ arg: Float) -\u0026gt; Void in print(arg) } // è¿™é‡Œå‚æ•°ç±»å‹å¯ä»¥çœç•¥ let handler : (Float) -\u0026gt; Void = { arg in print(arg) } // å¦‚æœé—­åŒ…å†…åªæœ‰ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œreturn ä¹Ÿå¯ä»¥çœç•¥ var completion : ((Float) -\u0026gt; Int)? = { Int($0) * 2 } å±æ€§ # è¯­æ³•å®šä¹‰ var closureName : (parameters) -\u0026gt; returnType ä¾‹å¦‚ï¼š\nvar defaultHandler : () -\u0026gt; Void = { print(\u0026#34;Hello Closures.\u0026#34;) } æˆ‘ä»¬æœ‰æ—¶å€™éœ€è¦å®šä¹‰ä¸€ä¸ªå¯èƒ½ä¸ºç©ºçš„é—­åŒ…ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨å¯é€‰å€¼ã€‚\nvar handler : ((Float) -\u0026gt; Void)? // åœ¨ä½¿ç”¨æ—¶æ›´å®‰å…¨ï¼Œä¸éœ€è¦é¢å¤–åˆ¤ç©º self.handler?(2.0) æ–¹æ³•å‚æ•° # func methodA(closure: () -\u0026gt; Void) { closure() } func methodB(closure: (_ a : Float) -\u0026gt; Void) { closure(3.0) } func methodC(closure: (_ a : Float) -\u0026gt; Void, arg: Int) { closure(3.0) } å‡½æ•°è°ƒç”¨ # å¯¹äºä¸Šè¿°å‚æ•°æ˜¯é—­åŒ…çš„æ–¹æ³•ï¼Œè°ƒç”¨æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å¿½ç•¥ä¸€äº›ç»†èŠ‚ã€‚\nå¦‚é—­åŒ…æ˜¯å‡½æ•°æœ€åä¸€ä¸ªå‚æ•°ï¼Œå¯ä»¥ç›´æ¥å¿½ç•¥å®å‚æ ‡ç­¾ å¯ä»¥ç”¨ $0 $1 ä»£æ›¿é—­åŒ…çš„å®å‚ï¼Œé¿å…å†™ arg in å¯¹äºæ“ä½œç±»é—­åŒ…ï¼Œç”šè‡³å¯ä»¥çœç•¥åˆ°åªä¿ç•™æ“ä½œç¬¦ self.methodA { print(2.0) } self.methodB { print($0) } self.methodC(closure: { a in print(a) }, arg: 0) typealias # typealias CompletionHandler = ((Float) -\u0026gt; Int)? ","date":"May 2 2022","permalink":"/posts/2022/fucking-closures-syntax/","section":"ç¢è¯­é—²è¨€","summary":"åœ¨ åœ¨ ObjC ä¸­å¦‚ä½•å®šä¹‰ Block ä¸­æ€»ç»“äº† OC ä¸­ block çš„è¯­æ³•ã€‚","title":"åœ¨ Swift ä¸­å¦‚ä½•å®šä¹‰ Closures"},{"content":" ç†Ÿæ‚‰ä¸€é—¨è¯­è¨€ï¼Œå¯ä»¥ä»ç†Ÿæ‚‰å®ƒçš„å…³é”®å­—å…¥æ‰‹ã€‚\næœ¬æ–‡åˆ—ä¸¾ä¸€ä¸‹ Swift åŒºåˆ« OC çš„ä¸€äº›ç‰¹æœ‰å…³é”®å­—å§ã€‚è¿™é‡Œä»…åˆ—ä¸¾å¸¸ç”¨çš„ï¼Œå®Œæ•´çš„å…³é”®è¯åˆ—è¡¨å¯ä»¥å‚è€ƒï¼šSwift è¯­è¨€å‚è€ƒ/å…³é”®å­—å’Œæ ‡ç‚¹ç¬¦å·\n@autoclosure # Closures are self-contained blocks of functionality that can be passed around and used in your code. Closures in Swift are similar to blocks in C and Objective-C and to lambdas in other programming languages.\nâ€”â€” Swift å®˜æ–¹æ•™ç¨‹\nè‡ªåŠ¨é—­åŒ…ï¼Œä¹Ÿæ˜¯ä¸€ç§é—­åŒ…ã€‚\nè‡ªåŠ¨å°±æ˜¯çœç•¥äº† {}ï¼Œç³»ç»Ÿè‡ªåŠ¨å°†ä¸€ä¸ªè¡¨è¾¾å¼è½¬æ¢æˆé—­åŒ…ã€‚æœ‰ä¸ªå‰ææ˜¯è¿™ä¸ªé—­åŒ…ä¸èƒ½æœ‰å‚æ•°ã€‚å¦åˆ™ä¼šæ”¶åˆ°ç¼–è¯‘é”™è¯¯ï¼š\nArgument type of @autoclosure parameter must be \u0026lsquo;()\u0026rsquo;\nprivate func _autoclosure(_ bar: @autoclosure () -\u0026gt; Bool) { if bar() { print(#function) } } é—­åŒ…æ˜¯ä¸ªå€¼å¾—è®¨è®ºçš„è¯é¢˜ï¼Œæœ‰æœºä¼šå•ç‹¬å†™ä¸€ç¯‡æ–‡ç« ã€‚\n@escaping # é€ƒæº¢é—­åŒ…ï¼Œæ˜¯æŒ‡é—­åŒ…çš„ç”Ÿå‘½å‘¨æœŸè¢«å»¶é•¿ã€‚æ­£å¸¸æƒ…å†µä¸‹åœ¨é—­åŒ…ä½œä¸ºå‡½æ•°å‚æ•°æ—¶ï¼Œå‡½æ•°æ‰§è¡Œå®Œï¼Œé—­åŒ…å°±è¢«é‡Šæ”¾äº†ã€‚\nä½†æ˜¯ï¼Œå¦‚æœé—­åŒ…è¢«ç¼“å­˜æˆ–å»¶è¿Ÿæ‰§è¡Œï¼Œç”Ÿå‘½å‘¨æœŸè¢«å»¶é•¿åˆ°å‡½æ•°æ‰§è¡Œä¹‹åã€‚å°±éœ€è¦æ˜¾ç¤ºæŒ‡æ˜ @escapingï¼Œå¦åˆ™ä¼šç¼–è¯‘æŠ¥é”™ã€‚\nå› ä¸º Swift 3 ä»¥åï¼Œé—­åŒ…é»˜è®¤éƒ½æ˜¯ nonescape çš„ã€‚\nEscaping closure captures non-escaping parameter \u0026lsquo;bar\u0026rsquo;\nprivate func _escapingclosure(_ arg1: Int, _ arg2: Int, _ bar: @escaping (_ a: Int, _ b: Int) -\u0026gt; Int) { let concurrentQueue = DispatchQueue(label: \u0026#34;com.ryder.concurrent.queue1\u0026#34;, attributes: .concurrent) concurrentQueue.asyncAfter(wallDeadline: .now() + 1.5) { print(bar(arg1, arg2)) } } @convention # ä¹Ÿæ˜¯ç”¨äºä¿®é¥°é—­åŒ…çš„\n@convention(c) ä¿®é¥°çš„é—­åŒ…ä¼šè¿”å› C ç±»å‹çš„å‡½æ•°æŒ‡é’ˆï¼Œç”¨äºä¼ ç»™å‚æ•°æ˜¯å‡½æ•°æŒ‡é’ˆçš„ C æ–¹æ³•ã€‚\n@convention(block) ä¿®å¤çš„é—­åŒ…ä¼šè¿”å› blockï¼Œç”¨äºä¼ ç»™å‚æ•°æ˜¯ block çš„ OC æ–¹æ³•ã€‚\ndefer # defer åé¢æ¥ä¸€ä¸ªé—­åŒ…ï¼Œè¡¨ç¤ºæ¨è¿Ÿè¿™ä¸ªé—­åŒ…æ‰§è¡Œåˆ° defer è¯­å¥çš„ä½œç”¨åŸŸä¹‹åã€‚\nprivate func _defer() { var num = 1 defer { print(\u0026#34;Defer: \\(num)\u0026#34;) } num += 1 print(\u0026#34;Number: \\(num)\u0026#34;) } // Number: 2 // Defer: 2 defer å†…çš„é—­åŒ…ä¸ä¼šæŒæœ‰å¤–éƒ¨å€¼ã€‚\nMore: å–µæ€»é‡åˆ°çš„ defer æ­»é”é—®é¢˜\ndeinit # deinit { print(String(format: \u0026#34;%@ dealloced.\u0026#34;, String(describing: self))) } ææ„æ–¹æ³•ã€‚\nextension # æ‰©å±•ï¼Œç±»ä¼¼äº OC çš„ categoryã€‚\næ‰©å±•çš„ä½œç”¨ä¸»è¦æœ‰ï¼š\næ·»åŠ è®¡ç®—å®ä¾‹å±æ€§å’Œè®¡ç®—ç±»å‹å±æ€§ å®šä¹‰å®ä¾‹æ–¹æ³•å’Œç±»å‹æ–¹æ³• æä¾›æ–°åˆå§‹åŒ–å™¨ å®šä¹‰ä¸‹æ ‡ å®šä¹‰å’Œä½¿ç”¨æ–°å†…åµŒç±»å‹ ä½¿ç°æœ‰çš„ç±»å‹éµå¾ªæŸåè®® ç±»å‹æ–¹æ³•çš„å®šä¹‰ï¼Œæ‰€æœ‰ç±»å‹éƒ½å¯ä»¥æœ‰ç±»å‹æ–¹æ³•ï¼Œä¸é™äº class/struct/enumã€‚éƒ½å¯ä»¥ä½¿ç”¨ static funcï¼Œ è€Œåœ¨ class ä¸­è¿˜å¯ä»¥ä½¿ç”¨ class funcã€‚\næ³¨æ„ï¼šæ‰©å±•ä¸èƒ½ç›´æ¥å®šä¹‰å­˜å‚¨ç±»å±æ€§ï¼Œä¹Ÿå°±æ˜¯ä¸èƒ½æœ‰å±æ€§çš„å®ä¾‹ã€‚ä¹Ÿæ²¡æœ‰ OC çš„å…³è”å¯¹è±¡å¯ä»¥ä½¿ç”¨ ï¼ˆå½“ç„¶æˆ‘ä»¬å¯ä»¥æ¡¥æ¥ä¸€ä¸ª OC å®ç°ï¼‰ã€‚\né‚£ä¹ˆæ€ä¹ˆåŠå‘¢ï¼Ÿæœ‰ä¸ªå–å·§çš„åŠæ³•æ˜¯å®šä¹‰ä¸€ä¸ªç±»å˜é‡ã€‚\nextension MyOCFunction { private static var _temp = 0 var fact: Int { get { return MyOCFunction._temp } set { MyOCFunction._temp = newValue } } } fallthrough # è´¯ç©¿ã€‚Swift ä¸­çš„ case é»˜è®¤æ˜¯éè´¯ç©¿çš„ï¼Œä¹Ÿå°±æ˜¯ case æ‰§è¡Œå®Œä¹‹åè‡ªåŠ¨é€€å‡ºï¼Œæ‰€ä»¥ä¹Ÿå°±ä¸éœ€è¦ break äº†ã€‚\nä½†æ˜¯ï¼Œå¦‚æœä½ å¸Œæœ›åƒå…¶ä»–è¯­è¨€ä¸€æ ·ï¼Œå¤šä¸ª case æ‰§è¡Œä¸€æ®µé€»è¾‘ï¼Œåˆ™å¯ä»¥åœ¨ case åä½¿ç”¨ fallthrough\nfileprivate # Swift å…±æœ‰äº”ç§è®¿é—®æ§åˆ¶å…³é”®å­—ï¼Œä»é«˜åˆ°ä½ï¼š\nopen, å¯ä»¥è¢«æœ¬æ¨¡å—å’Œå¤–éƒ¨æ¨¡å—ä»»æ„è®¿é—® public, ä¸ open å”¯ä¸€çš„åŒºåˆ«æ˜¯ä¸èƒ½è¢«å¤–éƒ¨æ¨¡å—ç»§æ‰¿å’Œé‡å†™ (can\u0026rsquo;t subclass or override outside the module) internal, é»˜è®¤ çš„çº§åˆ«ï¼Œæœ¬æ¨¡å—å†…ä»»æ„è®¿é—®ï¼Œä¸èƒ½è¢«å¤–éƒ¨è®¿é—® fileprivate, å½“å‰æ–‡ä»¶å¯è§ private, å®ä½“ä½œç”¨åŸŸå¯è§ï¼Œå¯¹äºå±æ€§æ¥è¯´ï¼Œä»…å½“å‰ç±»å’Œå®ƒçš„ externsion å¯è§ è¿™å‡ ä¸ªå…³é”®å­—å¯ä»¥ç”¨äºä¿®é¥°å®ä½“ï¼Œå¦‚å±æ€§ã€åŸºæœ¬ç±»å‹ã€å‡½æ•°ç­‰ã€‚\nfinal # final ä¿®é¥°ç±»ï¼Œè¡¨ç¤ºè¿™ä¸ªç±»ä¸å¯¹è¢«ç»§æ‰¿ ï¼ˆä¸èƒ½ä¿®é¥° struct/enumï¼Œå› ä¸ºå®ƒä»¬æœ¬æ¥å°±ä¸ä¼šè¢«ç»§æ‰¿ï¼‰ final ä¿®é¥°ç±»ä¸­çš„å±æ€§ã€æ–¹æ³•ï¼Œè¡¨ç¤ºä¸èƒ½è¢«å­ç±»é‡å†™ æ˜¾ç„¶ï¼Œfinal å’Œ open å…³é”®å­—æ˜¯äº’æ–¥çš„ guard # guard å®ˆå«ï¼Œç”¨äºæ ¡éªŒæŸä¸ªæ¡ä»¶ï¼Œå¹¶é€€å‡ºå½“å‰ä½œç”¨åŸŸã€‚\nåœ¨ guard..else å—ä¸­å¿…é¡»ä½¿ç”¨ return/throw æ˜¾å¼é€€å‡ºã€‚\nlet temp = 0 guard temp != 0 else { print(\u0026#34;zero checked.\u0026#34;) return } inout # inout ç”¨äºåœ¨å‡½æ•°å†…ä¿®æ”¹å€¼ç±»å‹æ•°æ®ã€‚åœ¨è°ƒç”¨æ—¶ï¼Œéœ€è¦åœ¨å‚æ•°å‰åŠ  \u0026amp;\nvar num = 1 self._inout(num: \u0026amp;num) private func _inout(num: inout Int) { num *= 2 } inout çš„å·¥ä½œæ–¹å¼æ˜¯è¿™æ ·çš„ï¼ˆcopy-in-copy-outï¼‰ï¼š\nå‡½æ•°è°ƒç”¨æ—¶ï¼Œå‚æ•°çš„å€¼è¢«æ‹·è´ã€‚ å‡½æ•°ä½“å†…éƒ¨ï¼Œæ‹·è´åçš„å€¼è¢«ä¿®æ”¹ã€‚ å‡½æ•°è¿”å›åï¼Œæ‹·è´åçš„å€¼è¢«èµ‹å€¼ç»™åŸå‚æ•°ã€‚ let/var # let - constant ä¿®é¥°å¸¸é‡ï¼Œä»…å¯èµ‹å€¼ä¸€æ¬¡ var - variable ä¿®é¥°å˜é‡ï¼Œå¯ä»¥è¢«æ”¹å˜\nä¸ç®¡æ˜¯å¸¸é‡è¿˜æ˜¯å˜é‡ï¼Œå®šä¹‰éƒ½éµå¾ªæ ‡è¯†ç¬¦çš„ å®šä¹‰æ ‡å‡†ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å„ç§ Unicode å­—ç¬¦åŒ…æ‹¬ emoji æ¥å®šä¹‰åç§°ã€‚\nprivate func _var() { var ğŸ¶ğŸ® = \u0026#34;dogcow\u0026#34;; ğŸ¶ğŸ® = \u0026#34;cowdog\u0026#34; print(ğŸ¶ğŸ®) let ğŸ’© = \u0026#34;shit\u0026#34; print(ğŸ’©) } lazy # lazy ç”¨åœ¨å±æ€§ä¸­ï¼Œè¡¨ç¤ºè¿™ä¸ªå±æ€§åªæœ‰åœ¨è¢«è®¿é—®åˆ°æ‰ä¼šæ‰§è¡Œåˆå§‹åŒ–ã€‚ä¹Ÿå°±æ˜¯æ‰€è°“çš„â€œæ‡’åŠ è½½â€ï¼Œé¿å…çš„æ— æ•ˆçš„å†…å­˜å ç”¨ã€‚\nå¦ä¸€ç§ç”¨æ³•ï¼Œåœ¨åºåˆ—ï¼Œå¦‚ Array çš„è®¡ç®—æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ lazy åªè®¡ç®—å…³å¿ƒçš„å€¼ï¼Œå¦‚ï¼š\n// åªè¾“å‡ºä¸¤æ¬¡ `Calculating..` private func _lazy () { let array = Array(0..\u0026lt;100) let incArray = array.lazy.map{(item) -\u0026gt; Int in print(\u0026#34;Calculating..\u0026#34;) return item + 1 } print(incArray[0], incArray[8]) } å¦‚æœæ²¡æœ‰ lazyï¼Œé‚£ä¹ˆ map ä¼šè¢«è°ƒç”¨ 100 æ¬¡ã€‚\nref: https://swift.gg/2016/03/25/being-lazy/\nmutating # å¯¹äº struct/enum å€¼ç±»å‹å¯¹è±¡æ¥è¯´ï¼Œä½¿ç”¨ mutating ä¿®é¥°çš„æ–¹æ³•æ‰èƒ½ä¿®æ”¹å®ƒä»¬çš„å±æ€§ã€‚\nstruct Meeting { var name : String var date : Date? init() { self.name = \u0026#34;\u0026#34; self.date = Date() } mutating func cancel() { self.date = nil } } Optional # å¯é€‰ç±»å‹ã€‚\nè¿™æ˜¯ Swift åŒºåˆ« OC çš„ä¸€ä¸ªä¸»è¦ç‰¹å¾ã€‚\nprefix/infix/postfix # ç”¨äºä¿®é¥°è‡ªå®šä¹‰æ“ä½œç¬¦çš„ï¼Œprefix è¡¨ç¤ºæ“ä½œç¬¦åœ¨å˜é‡å‰ï¼ŒåŒç† infix å’Œ postfix åˆ†åˆ«æ˜¯ä¸­ç¼€è¡¨è¾¾å¼å’Œåç¼€è¡¨è¾¾å¼ã€‚\nè‡ªå®šä¹‰æ“ä½œç¬¦æ–¹æ³•ï¼Œå¿…é¡»æ˜¯ static çš„ã€‚\nextension Vector2D { static prefix func +++ (vector: inout Vector2D) -\u0026gt; Vector2D { vector += vector return vector } } struct/class # ç»“æ„ä½“ä¸ç±»çš„åŒºåˆ«ï¼Œåœ¨ ä¹‹å‰ å·²ç»ä»‹ç»è¿‡ï¼Œä¸å†èµ˜è¿°ã€‚\ntuple # å…ƒç»„ï¼Œé€šè¿‡åœ†æ‹¬å·å’Œåˆ†å·ï¼Œå°†ä¸åŒçš„ç±»å‹ç»„æˆåœ¨ä¸€èµ·ï¼Œå½¢æˆä¸€ä¸ªæ–°çš„ç±»å‹ã€‚tuple ç”šè‡³å¯ä»¥åµŒå¥—åŒ…å«åˆ«çš„ tupleã€‚\nA tuple type is a comma-separated list of zero or more types, enclosed in parentheses.\né€šå¸¸ç”¨äºå‡½æ•°è¿”å›å€¼ã€‚\nä¸€ä¸ªæœ‰è¶£çš„äº‹å®ï¼š\nVoid æ˜¯ () çš„ typealiasï¼Œå…¶å®å°±æ˜¯ä¸€ä¸ªç©ºçš„ tuple\ntypealias # Swift ä¸­æ›¿ä»£ typedef çš„å…³é”®å­—ã€‚\n","date":"April 26 2022","permalink":"/posts/2022/keywords-in-swift/","section":"ç¢è¯­é—²è¨€","summary":"ç†Ÿæ‚‰ä¸€é—¨è¯­è¨€ï¼Œå¯ä»¥ä»ç†Ÿæ‚‰å®ƒçš„å…³é”®å­—å…¥æ‰‹ã€‚","title":"Swift ä¸­çš„å…³é”®å­—"},{"content":" æˆ‘æ˜¯ä¸‡ä¸‡æ²¡æƒ³åˆ°ï¼Œç°åœ¨å®¢æˆ·ç«¯é¢è¯•å·åˆ°è¦é—® âŒœå›¾çµæœºâŒŸ äº†ã€‚\nâ€”â€” æŸå…¬å¸ä¸€é¢åæœ‰æ„Ÿ\nå¤§æ¸…åºŸé™¤å…«è‚¡å·²ç» 120 å¹´äº†ï¼Œä½†æˆ‘ä»¬é€‰æ‹”åˆ¶åº¦å¹¶æ²¡æœ‰æ˜æ˜¾çš„æ”¹å˜ã€‚ä¸ç®¡æ˜¯é¢è¯•è¿˜æ˜¯æ™‹å‡ï¼Œæ— ä¸å……æ–¥ç€å…«è‚¡å¥—è·¯ã€‚\nâ€œç ´é¢˜â€œç»“æŸï¼Œé—²è¯å°‘è¯´ã€‚\nä¸‰å¤§æ¶æ„ä¸­å…¬å…±çš„ View å’Œ Model å¾ˆå¥½ç†è§£ï¼š\nViewï¼Œä¹Ÿå°±æ˜¯ UIï¼Œæ˜¯ç”¨æˆ·çœ‹åˆ°çš„ç•Œé¢ï¼Œæ˜¯ Model çš„å¤–åœ¨è¡¨ç°\nModelï¼ŒData Logicï¼Œæ˜¯æ•°æ®çš„é›†åˆ\nMVC # Controller æ˜¯ä»€ä¹ˆï¼Ÿç±»ä¼¼ä¸€ä¸ªä¸­æ¢çš„æ¦‚å¿µï¼Œæ§åˆ¶ç€æ•°æ®å¦‚ä½•è¢«å±•ç¤ºå‡ºæ¥ã€‚ ç±»å‹ 1 # MVC æ¶æ„æœ‰å¾ˆå¤šè®¾è®¡ã€‚æœ€æ—©çš„ç‰ˆæœ¬æ˜¯è¿™æ ·çš„ï¼š\nç”¨æˆ·é€šè¿‡æ“ä½œ View æ¥å®Œæˆç³»ç»Ÿæ›´æ–°ï¼Œæ•´ä¸ªæ§åˆ¶æµæ˜¯å•å‘çš„ã€‚\nå½“ç„¶è¿˜æœ‰ä¸€ç§ï¼Œç”¨æˆ·åªé€šè¿‡ Controller æ¥æ“ä½œï¼Œè¿™åœ¨ Wikipedia ä¸­å¯ä»¥çœ‹åˆ°ã€‚\nç±»å‹ 2 # å¦‚æœ View å’Œ Controller éƒ½æ¥æ”¶ç”¨æˆ·æŒ‡ä»¤çš„è¯ï¼Œå°±ä¼šå˜åŒ–æˆè¿™æ ·ï¼š\nController å¯ä»¥ç›´æ¥æ¥æ”¶ç”¨æˆ·æŒ‡ä»¤ï¼Œå¦‚é€šè¿‡ scheme/url è¿›å…¥æŸä¸ªé¡µé¢ï¼Œè€Œä¸æ˜¯é€šè¿‡ç›´æ¥æ“ä½œ Viewã€‚è¿™æ—¶ï¼ŒController å“åº”çš„æ–¹æ³•ï¼Œ å¯èƒ½æ˜¯ Update/Manipulate(æ“çºµ) Modelï¼Œä¹Ÿå¯èƒ½æ˜¯æ›´æ–° Viewã€‚\nç”¨æˆ·ç›´æ¥æ“ä½œ Viewï¼Œè¿™é‡Œ View å¦‚æœæƒ³è¦å˜æ›´ Modelï¼Œåªèƒ½é€šè¿‡ Controller ä¸­è½¬ã€‚\næœ‰æ—¶ï¼ŒModel çš„å˜æ›´ä¼šç›´æ¥é€šçŸ¥ View ï¼ˆé€šè¿‡è§‚å¯Ÿè€…çš„æ–¹å¼ï¼‰ã€‚\nè¿™ä¸ªå®ç°ï¼Œä¹Ÿå°±æ˜¯é˜®ä¸€å³°åœ¨åšå®¢1ä¸­æåˆ°çš„ Backbone.js çš„æ¶æ„æ–¹å¼ã€‚\nç±»å‹ 3 # åœ¨ iOS å¼€å‘ä¸­ï¼ŒMVC è¢«è‹¹æœæ¼”å˜æˆäº†å¦‚ä¸‹æ–¹å¼ï¼š\nè§£é™¤äº† Model -\u0026gt; View ä¹‹é—´çš„è€¦åˆã€‚\nMVP # åœ¨ä¸Šè¿°ç±»å‹ 3 çš„ MVC æ¨¡å‹ä¸­ï¼Œå°† Controller æ›¿æ¢æˆ Presenterï¼Œå°±æ˜¯ MVP æ¨¡å‹ã€‚\nä¹Ÿå°±æ˜¯è¯´ï¼ŒPresenter ä½œä¸º View/Model çš„ä¸­æ¢ï¼Œæ‰¿è½½äº†æ‰€æœ‰æ˜¾ç¤ºç›¸å…³çš„é€»è¾‘2ã€‚ åœ¨ MVP æ¶æ„ä¸‹åŸå…ˆçš„ UIViewController å…¶å®å˜æˆäº† View çš„ä¸€éƒ¨åˆ†ã€‚\nMVVM3 # åŒºåˆ«ä¸ MVP çš„æ˜¾è‘—ç‰¹å¾å°±æ˜¯ View \u0026lt;-\u0026gt; Model ä¹‹é—´ä½¿ç”¨äº†æ•°æ®ç»‘å®š (Data-binding) æŠ€æœ¯ã€‚ä½¿ä¸¤è€…åœ¨æ¾è€¦åˆçš„åŒæ—¶ï¼Œä¹Ÿèƒ½åŠæ—¶æ„ŸçŸ¥å¯¹æ–¹çš„å˜åŒ–ã€‚ Data Binding åœ¨å‰ç«¯æ¡†æ¶ä¸­æ¯”è¾ƒå¸¸è§ï¼Œæ¯”å¦‚ Vue ä¸­ï¼šhttps://v1.vuejs.org/guide/syntax.html\n\u0026lt;span\u0026gt;Message: {{ msg }}\u0026lt;/span\u0026gt; åœ¨ iOS ä¸­ï¼Œè¦å®ç°åŒå‘ç»‘å®šï¼Œå¯ä»¥ä½¿ç”¨ RAC æ¡†æ¶ ReactiveCocoa\nSwftUI ä¸­çš„ @Binding ä¹Ÿå¯ä»¥å®ç°ç±»ä¼¼çš„åŠŸèƒ½ã€‚ï¼ˆæˆ–è®¸ä¸æ˜¯ï¼Ÿè¿™é‡Œå¾…å­¦ä¹ ï¼‰\nhttps://www.ruanyifeng.com/blog/2015/02/mvcmvp_mvvm.html\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttps://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93presenter\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttps://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93viewmodel\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"April 25 2022","permalink":"/posts/2022/mvc-mvp-mvvm.md/","section":"ç¢è¯­é—²è¨€","summary":"æˆ‘æ˜¯ä¸‡ä¸‡æ²¡æƒ³åˆ°ï¼Œç°åœ¨å®¢æˆ·ç«¯é¢è¯•å·åˆ°è¦é—® âŒœå›¾çµæœºâŒŸ äº†ã€‚","title":"é¢è¯•å…«è‚¡ä¹‹ MVC/MVP/MVVM"},{"content":" å¾ˆå¤šå¹´å‰ï¼Œæˆ‘åœ¨æœ¬ç§‘æ—¶ï¼Œå­¦ä¹ æ•°æ®ç»“æ„ç”¨çš„æ•™ç§‘ä¹¦ä¸Šé¢è¿™æœ¬ ã€Šæ•°æ®ç»“æ„æ•™ç¨‹ã€‹ï¼ˆè”¡å­ç»ã€æ–½ä¼¯ä¹ ç¼–è‘—ï¼‰ã€‚ åœ¨å®¶ç¿»äº†ä¸‹ï¼Œå‘ç°å·²ç»æ‰¾ä¸åˆ°äº†ã€‚ä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™é—å¤±äº†ï¼Œå› ä¸ºæˆ‘ä¸€èˆ¬ä¸ä¼šä¸¢å¼ƒä¹¦ç±ï¼Œå°¤å…¶æ˜¯ä¸“ä¸šä¹¦ã€‚\nå†™è¿™ç¯‡çš„ç›®çš„æ˜¯å¸®è‡ªå·±å›å¿†ä¸€ä¸‹ï¼Œæœ‰äº›æ•°æ®ç»“æ„å’Œç®—æ³•çš„å†…å®¹éƒ½å·²ç»è¢«å¿˜è®°äº†ã€‚ æ¯”å¦‚ Trie æ ‘ã€B æ ‘ç­‰ç»“æ„ï¼ŒFloyd ç®—æ³•æœ¬è´¨æ˜¯ä¸ª DPï¼Œè¿˜æœ‰ KMP ç®—æ³•ï¼Œå¸¸çœ‹å¸¸å¿˜ã€‚\næ•°æ®ç»“æ„è¿™é—¨è¯¾çš„æ•™ç§‘ä¹¦äº”èŠ±å…«é—¨ï¼Œå°¤å…¶ä»¥ä¸¥è”šæ•çš„é‚£ç‰ˆæœ€ä¸ºå‡ºåã€‚ç›®å‰çœ‹ç½‘ä¸Šå¥½è¯„æœ€é«˜çš„æ˜¯æ¸…åå¤§å­¦çš„é‚“ä¿Šè¾‰æ•™æˆçš„ ã€Šæ•°æ®ç»“æ„ï¼ˆC++ è¯­è¨€ç‰ˆï¼‰ã€‹ã€‚æœ¬æ–‡å‚è€ƒï¼š\nhttps://cloud.tsinghua.edu.cn/d/76cbab99574046698804/files/?p=%2Fdsacpp-3rd-edn.pdf\nè™½ç„¶æœ‰ç”µå­ç‰ˆï¼Œç­‰ç–«æƒ…ç»“æŸè¿˜æ˜¯ä¼šä¹°æœ¬å®ä½“ä¹¦æ”¯æŒä¸‹è€å¸ˆã€‚\n2022/05/27 ä¹°åˆ°äº†ï¼JD ä¸‹å•å 4 å¤©æ”¶åˆ°ï¼Œè¯´æ˜ä¸Šæµ·çš„ç–«æƒ…å¿«ç»“æŸäº†ã€‚åŠ æ²¹å§ï¼\nè¿™æœ¬ä¹¦æœ‰è‡ªå·±çš„å®˜ç½‘ï¼šhttps://dsa.cs.tsinghua.edu.cn/~deng/ds/dsacpp/index.htm\nI. æ•°æ®ç»“æ„ # é˜Ÿåˆ—ã€é“¾è¡¨ã€æ ˆè¿™äº›åŸºç¡€çš„ç»“æ„æŒ‰ä¸‹ä¸æï¼Œä¸»è¦çœ‹çœ‹æœ‰å“ªäº›å¹³æ—¶ç”¨å¾—å¾ˆå°‘å®¹æ˜“å¿½ç•¥çš„ç±»å‹ã€‚\nä¼˜å…ˆé˜Ÿåˆ— # äºŒå‰æ ‘çš„éå† # Huffman ç¼–ç  # é‚»æ¥çŸ©é˜µ # é‚»æ¥è¡¨ # II. ç®—æ³• # æ•£åˆ— hash # å­—ç¬¦ä¸² # BMP # BM # Karp-Rabin ç®—æ³• # äºŒå‰æ ‘/å¹³è¡¡æ ‘ # äºŒå‰æœç´¢æ ‘ï¼Œåˆå«äºŒå‰æŸ¥æ‰¾æ ‘ (Binary Search Tree)ï¼Œç®€ç§° BSTã€‚\nå¹³è¡¡äºŒå‰æ ‘ï¼Œä¹Ÿå°±æ˜¯å¹³è¡¡æ ‘ (self-Balancing Binary Bearch Tree)ï¼Œç®€ç§° BBSTã€‚\nå¹³è¡¡æ ‘æœ‰éå¸¸å¤šçš„ ç§ç±»\nå¸¸è§çš„æœ‰ï¼š\nAVL æ ‘ # ä¼¸å±•æ ‘ # B æ ‘ # çº¢é»‘æ ‘ # k-d æ ‘ # å›¾è®º # BFS # DFS # æœ€çŸ­è·¯ # ","date":"April 22 2022","permalink":"/leetcode/base/algo-in-data-structure/","section":"ç®—æ³•ä¸“æ ","summary":"å¾ˆå¤šå¹´å‰ï¼Œæˆ‘åœ¨æœ¬ç§‘æ—¶ï¼Œå­¦ä¹ æ•°æ®ç»“æ„ç”¨çš„æ•™ç§‘ä¹¦ä¸Šé¢è¿™æœ¬ ã€Šæ•°æ®ç»“æ„æ•™ç¨‹ã€‹ï¼ˆè”¡å­ç»ã€æ–½ä¼¯ä¹ ç¼–è‘—ï¼‰ã€‚ åœ¨å®¶ç¿»äº†ä¸‹ï¼Œå‘ç°å·²ç»æ‰¾ä¸åˆ°äº†ã€‚ä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™é—å¤±äº†ï¼Œå› ä¸ºæˆ‘ä¸€èˆ¬ä¸ä¼šä¸¢å¼ƒä¹¦ç±ï¼Œå°¤å…¶æ˜¯ä¸“ä¸šä¹¦ã€‚","title":"é‡æ‹¾æ•°æ®ç»“æ„ä¸­çš„ç®—æ³•"},{"content":" å‚è€ƒï¼šswift.bootcss.com åŸºæœ¬è¯­æ³• # åˆ†å· # åˆ†å·åœ¨ Swift ä¸­ä¸æ˜¯å¿…é¡»çš„ï¼Œå½“ç„¶åœ¨ä¸€è¡Œä¸­å¤šä¸ªè¯­å¥é—´è¿˜æ˜¯éœ€è¦çš„ã€‚ è¶Šçœ‹è¶Šè§‰å¾—åƒ Python :)\nç©ºæ ¼ # Swift å¯¹äºç©ºæ ¼æœ‰ç€ä¸€å®šçš„çº¦æŸï¼Œç›¸å¯¹ OC æ¥è¯´æ›´ä¸¥æ ¼ï¼Œä½†åˆæ²¡æœ‰ Python é‚£ä¹ˆç²¾ç¡® ï¼ˆä¸éœ€è¦æ¸¸æ ‡å¡å°º ğŸ¤¡ï¼‰ // \u0026#39;=\u0026#39; must have consistent whitespace on both sides var a= 1 + 2 // \u0026#39;+\u0026#39; is not a postfix unary operator var a = 1+ 2 // Consecutive statements on a line must be separated by \u0026#39;;\u0026#39; var a = 1 +2 // ok var a = 1 + 2 // ok, not recommand var a = 1+2 switch # Swift ä¸­çš„ switch æ”¯æŒä»»æ„ç±»å‹ï¼Œè€Œ OC åªæ”¯æŒæ•´å‹åŠèƒ½è½¬æ¢æˆæ•´å‹çš„ç±»å‹ã€‚\nåœ¨ Swift ä¸­ break å¹¶ä¸æ˜¯å¿…é¡»çš„ã€‚æŸä¸ª case åŒ¹é…æˆåŠŸåï¼Œä¼šåœ¨æ‰§è¡Œå®Œä»£ç åè‡ªåŠ¨è·³å‡ºï¼›è€Œ OC ä»¥åŠ C/C++ ä¼šç»§ç»­åŒ¹é…ï¼Œ â€”â€” è¿™ç§æ–¹å¼å«åš è´¯ç©¿ã€‚åœ¨ Swift ä¸­å¯ä»¥ä½¿ç”¨ fallthrough å…³é”®è¯ä»¥æ”¯æŒè¿™ç§ç‰¹æ€§ã€‚\nSwift ä¸­çš„ switch æ”¯æŒ where è¯­å¥ä»¥æ·»åŠ é¢å¤–çš„æ¡ä»¶ã€‚\nå‡½æ•°åµŒå¥— # Swift æ”¯æŒåœ¨å‡½æ•°å†…éƒ¨å®šä¹‰å‡½æ•°ã€‚ func testVariable () { var a : String? = \u0026#34;1\u0026#34; func _inerfunc() { print(\u0026#34;hello\u0026#34;, a ?? \u0026#34;2\u0026#34;) } _inerfunc() } ç»§æ‰¿ # Swift ç»§æ‰¿è‡ªçˆ¶ç±»çš„æ–¹æ³•ï¼Œé‡å†™æ—¶ï¼Œéœ€è¦åŠ  override å…³é”®å­—ã€‚OC ä¸éœ€è¦ã€‚ åŒºé—´è¿ç®—ç¬¦ # åœ¨ Swift ä¸­ [a, b] çš„åŒºé—´å¯ä»¥ç”¨ a...b\n[a, b) å¯ä»¥è¡¨ç¤ºæˆ a..\u0026lt;b\nè¿˜æœ‰ [a...] å’Œ [..\u0026lt;b] ç­‰\nç±»å‹ # Swift æ˜¯ä¸€ä¸ªç±»å‹å®‰å…¨ (type safe) çš„è¯­è¨€ã€‚\ntypealias ç±»å‹åˆ«å # è¿™ä¸ªåœ¨ OC ä¸­å¯ä»¥ä½¿ç”¨ typedef å®ç°ã€‚ éšå¼è½¬æ¢ # Swift æœ‰ä¸¥æ ¼ç±»å‹å®šä¹‰ï¼Œä¸èƒ½éšå¼è½¬æ¢ã€‚ æ¯”å¦‚ if è¯­å¥ä¸­çš„æ¡ä»¶ï¼Œåœ¨ OC ä¸­å¯ä»¥ä½¿ç”¨æ•´æ•°ï¼Œä½†åœ¨ Swift ä¸­åªèƒ½æ˜¯ Bool å‹ã€‚\nlet a = 1 // Type \u0026#39;Int\u0026#39; cannot be used as a boolean; test for \u0026#39;!= 0\u0026#39; instead if (a) { } Optional å¯é€‰å€¼ # è¿™æ˜¯ OC æ²¡æœ‰çš„ç‰¹æ€§ï¼Œé¿å…äº†å¾ˆå¤šåˆ¤ç©ºçš„é€»è¾‘ä»£ç ã€‚åœ¨é“¾å¼è°ƒç”¨æ—¶ï¼Œä¹Ÿæ›´æ–¹ä¾¿ã€‚ é—­åŒ…ä¸ block # Swift ä¸­çš„é—­åŒ…ä¸ OC ä¸­çš„ block ç±»ä¼¼ï¼Œéƒ½æ˜¯å°†ä¸€æ®µä»£ç å°è£…èµ·æ¥ï¼Œç”¨äºå‚æ•°ã€è¿”å›å€¼ç­‰ï¼Œä¹Ÿéƒ½å¯ä»¥æ•è·å¤–éƒ¨å˜é‡ã€‚\nä½†ä¹Ÿæœ‰ä¸åŒä¹‹å¤„ï¼š\næœ¬è´¨ä¸åŒï¼Œé—­åŒ…æœ¬è´¨æ˜¯ä¸ªå‡½æ•°ï¼Œä½† block æ˜¯ä¸€ä¸ªç»“æ„ä½“ã€‚\né—­åŒ…å†™èµ·æ¥æ›´ç®€æ´ã€æ›´çµæ´»ã€‚æœ‰å¤šç§ç±»å‹ï¼šè‡ªåŠ¨é—­åŒ…ã€å°¾éšé—­åŒ…ã€é€ƒé€¸é—­åŒ… \u0026amp; éé€ƒé€¸é—­åŒ…ç­‰ã€‚\nenum æšä¸¾ # Swift ä¸­çš„ enum å¯ä»¥åŒ…å«æ–¹æ³•ï¼Œè€Œ OC ä¸è¡Œ Tuple å…ƒç»„ # è¿™æ˜¯ OC æ²¡æœ‰çš„ç±»å‹ï¼Œç”¨äºè¿”å›ä¸€ç»„æ•°æ®ï¼Œå¦‚ (404, \u0026ldquo;Not Found\u0026rdquo;) nil # Swift ä¸­çš„ nil è¡¨ç¤ºå¯é€‰å€¼ç±»å‹çš„å€¼ä¸ºç©ºï¼Œä¸èƒ½ç”¨äºç¡®å®šçš„ç±»å‹ã€‚è€Œ OC ä¸­ï¼Œå®ƒæ˜¯ä¸€ä¸ªç©ºæŒ‡é’ˆçš„æ¦‚å¿µï¼Œåªèƒ½å¯¹äºå¯¹è±¡ã€‚\nå¯é€‰å€¼å¯ä»¥æ˜¯æ•´å‹ï¼Œå¦‚ var a : Int? = nil\n?? ç©ºåˆ # æ˜¯å¯¹ä¸€ä¸ªå¯é€‰ç±»å‹è§£æï¼Œç±»å‹äº OC ä¸­çš„ a ?: b // if a == nil, return b a ?? b // is equal to a == nil ? a! : b é«˜çº§ç‰¹æ€§ # å‡½æ•° # Swift ä¸­çš„å‡½æ•°ï¼Œå¯ä»¥ä¸æŒ‡æ˜è¿”å›å€¼ï¼Œé»˜è®¤è¿”å›çš„æ˜¯ () â€”â€” ç©ºå…ƒç»„ã€‚è€Œä¸æ˜¯ Void\nSwift å¯ä»¥ç»™å‡½æ•°å‚æ•°è®¾ç½®æ ‡ç­¾ï¼ˆåˆ«åï¼‰ï¼Œ_ è¡¨ç¤ºä¸éœ€è¦æ ‡ç­¾ã€‚\nå•è¡Œè¡¨è¾¾å¼çš„å‡½æ•°ï¼Œå¯ä»¥ç›´æ¥çœç•¥ returnï¼›å¸¸ç”¨äº get æ–¹æ³•ã€‚\né»˜è®¤å‡½æ•°å‚æ•°æ˜¯ä¸èƒ½ä¿®æ”¹çš„ï¼Œéœ€è¦ä½¿ç”¨ inout æ ‡æ˜éœ€è¦ä¿®æ”¹çš„å‚æ•°ã€‚\nç»“æ„ä½“ä¸ç±» # struct åœ¨ OC ä¸­å¹¶ä¸æ˜¯ä¸€ç­‰å…¬æ°‘ï¼Œä½†åœ¨ Swift ä¸­ï¼Œæ˜¯ä¸ class åŒç­‰åœ°ä½çš„å¯¹è±¡å°è£…ã€‚\nSwift ä¸­çš„ struct ä¸ class æ¯”è¾ƒï¼š\nstruct æ˜¯å€¼ç±»å‹ï¼Œè€Œ class æ˜¯å¼•ç”¨ç±»å‹ (å€¼ç±»å‹å­˜å‚¨å˜é‡æœ¬èº«ï¼Œå¼•ç”¨ç±»å‹å­˜å‚¨å†…å­˜åœ°å€) struct ä¸æ”¯æŒç»§æ‰¿ï¼Œè€Œ class å¯ä»¥ struct ä¼šç»™æˆå‘˜å˜é‡é»˜è®¤å€¼ï¼Œè€Œ class å¿…é¡»è‡ªè¡Œåˆå§‹åŒ– struct ä¸éœ€è¦å¼•ç”¨è®¡æ•°ï¼Œæ‰€ä»¥æ²¡æœ‰ deinit æ–¹æ³• ä½¿ç”¨ letå£°æ˜çš„å®ä¾‹ï¼Œclass å¯ä»¥ä¿®æ”¹å®ƒçš„å±æ€§ï¼Œè€Œ struct ä¸è¡Œ (éœ€è¦å€ŸåŠ© mutating æ–¹æ³•) struct ä¸æ”¯æŒç±»å‹è½¬æ¢ (typecasting) ref: Choosing Between Structures and Classes\nå€¼ç±»å‹ä¸å¼•ç”¨ç±»å‹ # å€¼ç±»å‹ è¢«èµ‹å€¼ç»™å¦ä¸€ä¸ªå˜é‡æ—¶ï¼Œä¼šè¿›è¡Œ copy æ“ä½œï¼Œä»¥ç¡®ä¿æ–°å˜é‡çš„ä¿®æ”¹ä¸ä¼šå½±å“åŸæ¥çš„å˜é‡å€¼ã€‚ è€Œ å¼•ç”¨ç±»å‹ çš„èµ‹å€¼æ˜¯ä¸€æ¬¡æŒ‡é’ˆèµ‹å€¼ï¼Œæ–°æ—§å˜é‡æŒ‡å‘åŒä¸€å—å†…å­˜ã€‚\nString, Array, Dictionary éƒ½æ˜¯ struct\nSwift ä¸­ enum, struct æ˜¯å€¼ç±»å‹ï¼Œclass æ˜¯å¼•ç”¨ç±»å‹ã€‚\nOC ä¸­ä»…æœ‰åŸºæœ¬æ•°æ®ç±»å‹ã€åŸºç¡€ struct æ˜¯å€¼ç±»å‹ã€‚\nå±æ€§åŒ…è£…å™¨ # Swift ä¸­çš„æ–°ç‰¹æ€§ï¼Œå…³é”®è¯ @propertyWrapper ç”¨äºå°†æŸä¸ªå±æ€§çš„å®é™…å€¼éšè—èµ·æ¥ï¼Œå¯¹å¤–æš´éœ²å°è£…è¿‡çš„å€¼ã€‚\nç±»æ–¹æ³• # static å’Œ class åœ¨ func å‰éƒ½è¡¨ç¤ºç±»å‹æ–¹æ³•ï¼Œåè€…è¡¨ç¤ºå¯è¢«å­ç±»ç»§æ‰¿\nSwift ä¸­å¯ä»¥ä¸ºç±»ã€ç»“æ„ä½“å’Œæšä¸¾å®šä¹‰ç±»å‹æ–¹æ³•\nextension æ‰©å±• # Swift ä¸­çš„æ‰©å±•ä¸ OC ä¸­çš„ category ç±»ä¼¼ï¼Œä¹Ÿæœ‰ä¸€äº›ä¸åŒ\næ‰©å±•æ˜¯æ²¡æœ‰åå­—çš„ æ‰©å±•å¯ä»¥æ·»åŠ å±æ€§ æ‰©å±•ä¸èƒ½é‡å†™å·²æœ‰æ–¹æ³•ï¼Œä½†åˆ†ç±»å¯ä»¥ï¼ˆè¦†ç›–ï¼‰ æ‰©å±•ä¸­çš„åŠŸèƒ½ï¼Œå¯è¢«æ‰©å±•å®šä¹‰ä¹‹å‰çš„å®ä¾‹ä½¿ç”¨ï¼›ä½†åˆ†ç±»æ–¹æ³•å¿…é¡»è¢« import åæ‰å¯è§ protocol åè®® # Swift ä¸­çš„åè®®æ”¯æŒæŒ‡å®šå±æ€§ Swift ä¸­çš„åè®®å¯ä»¥æŒ‡å®šåˆå§‹åŒ–æ–¹æ³•ï¼Œå®ç°æ—¶éœ€è¦ä½¿ç”¨ required å…³é”®å­— Swift ä¸­çš„åè®®å¯ä»¥ç»„åˆï¼Œä½¿ç”¨ ProtocolA \u0026amp; ProtocolB å˜æˆä¸€ä¸ªæ–°çš„åè®®ç±»å‹ Swift ä¸­çš„åè®®ï¼Œå¯ä»¥æä¾›é»˜è®¤å®ç° æ³›å‹ # ç±»ä¼¼ C++ ä¸­çš„æ¨¡æ¿è¯­æ³•ç‰¹æ€§ï¼ŒOC ä¸­æ²¡æœ‰ã€‚ actor ç±»å‹ # Swift ä¸­æ–°å¢çš„ç±»å‹ To be continued\u0026hellip;\n","date":"April 10 2022","permalink":"/posts/2022/swift-vs-oc/","section":"ç¢è¯­é—²è¨€","summary":"å‚è€ƒï¼šswift.","title":"Swift ä¸ OC æœ‰å“ªäº›ä¸åŒ"},{"content":"æœ€è¿‘å¤§æå‡åŒ…è¿åŠ¨ï¼Œä»Šå¤©ä»åŒäº‹é‚£äº†è§£åˆ°ä¸€ä¸ªç¥å¥‡çš„å‡åŒ…ç­–ç•¥ï¼š\næŠŠ @protocol æ¢æˆ NSProtocolFromString ! è¿™æ˜¯ä¸ºå•¥å‘¢ï¼Ÿ\nåšä¸ªå®éªŒ # æ·»åŠ ä¸€ä¸ª @protocol è°ƒç”¨ï¼š\nå¯ä»¥çœ‹åˆ°ç”Ÿæˆçš„ lib ä¸­ __DATA,__objc_const æ®µä¸­å°‘äº†å¤šä¸ª protocol ç›¸å…³çš„ç¬¦å·ã€‚\næ”¹æˆ NSProtocolFromStringï¼Œä¹Ÿä¸ä¼šç”Ÿæˆç¬¦å·ï¼š\nä¸ºå•¥å‘¢ # æˆ‘ä»¬åç¼–è¯‘ä¸€ä¸‹ æ–‡ä»¶ï¼š\nclang -rewrite-objc BGStaticLib.m åœ¨åç¼–è¯‘åçš„ BGStaticLib.cpp ä¸­å¯ä»¥çœ‹å‡ºï¼š\næ–°å¢çš„å‡ ä¸ªç¬¦å·ï¼Œè¢«æŒ‡å®šæ”¾åˆ°äº† __DATA æ®µï¼Œæ­£æ˜¯ç”¨ MachOView çœ‹åˆ°æ–°å¢çš„é‚£å‡ ä¸ªç¬¦å·ï¼š\n_OBJC_PROTOCOL_INSTANCE_METHODS_NSObject __attribute__ ((used, section (\u0026#34;__DATA,__objc_const\u0026#34;))) _OBJC_PROTOCOL_OPT_INSTANCE_METHODS_NSObject __attribute__ ((used, section (\u0026#34;__DATA,__objc_const\u0026#34;))) _OBJC_PROTOCOL_PROPERTIES_NSObject __attribute__ ((used, section (\u0026#34;__DATA,__objc_const\u0026#34;))) _OBJC_PROTOCOL_REFS_BGProtocol __attribute__ ((used, section (\u0026#34;__DATA,__objc_const\u0026#34;))) èƒ½å‡å¤šå°‘ # æ¯”è¾ƒäº†ä¸‹ä¿®æ”¹å‰åçš„ lib æ–‡ä»¶ï¼Œsize xx.a\n// ä¿®æ”¹å‰ __TEXT\t__DATA\t__OBJC\tothers\tdec\thex 703\t1256\t0\t6519\t8478\t211e\txx/libBGStaticLib.a(BGStaticLib.o) // ä¿®æ”¹å __TEXT\t__DATA\t__OBJC\tothers\tdec\thex 204\t320\t0\t6531\t7055\t1b8f\txx/libBGStaticLib.a(BGStaticLib.o) __TEXT å’Œ __DATA æ®µå…±å‡å°‘äº† 499 + 936 = 1435ï¼Œå…± 1.4 KBã€‚\né€šè¿‡ stat xx.a å‘½ä»¤è·å–æ•´ä¸ª lib å­—èŠ‚æ•°å‘ç°ï¼š\nå…±å‡å°‘äº† 15504 - 11168 = 4336ï¼Œå…± 4.3 KBã€‚\nç§¯å°æˆå¤š # çœ‹èµ·æ¥å•ä¸ªæ–‡ä»¶å¹¶ä¸å¤šï¼Œä½†å®é™…ä¸Šåœ¨å·¨å‹ app ä¸­ï¼Œä½¿ç”¨ protocol ä½œä¸º bridge è·¨å·¥ç¨‹è°ƒç”¨å…¶ä»–æ¨¡å—çš„æ–¹æ³•éå¸¸å¤šã€‚\nè¿™æ¬¡å‡åŒ…è¿‡ç¨‹ä¸­ï¼ŒæŸæ¨¡å—ç»è¿‡è¿™æ ·æ”¹å†™ä¹‹åï¼Œå‡å°‘äº† 10M çš„åŒ…ä½“ç§¯ã€‚ğŸ¤©\n","date":"April 8 2022","permalink":"/posts/2022/reduce-pkg-size-1/","section":"ç¢è¯­é—²è¨€","summary":"æœ€è¿‘å¤§æå‡åŒ…è¿åŠ¨ï¼Œä»Šå¤©ä»åŒäº‹é‚£äº†è§£åˆ°ä¸€ä¸ªç¥å¥‡çš„å‡åŒ…ç­–ç•¥ï¼š","title":"ä¸€ä¸ªç¥å¥‡çš„å‡åŒ…æ–¹æ³•"},{"content":" æŸ¥äº†ä¸‹è®¢å•ï¼Œè¿™æœ¬ä¹¦ä¹°äº† 4 å¹´å¤šï¼Œè¿˜æ²¡çœ‹å®Œï¼\næ‰€è°“ flagï¼Œæ°¸è¿œä¹Ÿå®Œä¸æˆ ğŸ˜¢\næ¯•å…¶åŠŸäºä¸€å½¹ï¼Œè¿™æ¬¡å¿«é€Ÿå•ƒå®Œè¿™æœ¬ä¹¦ï¼Œå¸æ”¶ä¸€äº›æœ€ä½³å®è·µã€‚\nè¿™æœ¬ä¹¦å®Œæ•´çš„ä¹¦åæ˜¯ ã€ŠEffective Objective-C 2.0ï¼šç¼–å†™é«˜è´¨é‡ iOS ä¸ OS X ä»£ç çš„ 52 ä¸ªæœ‰æ•ˆæ–¹æ³•ã€‹ï¼Œç¬¬ä¸€ç‰ˆå†™ä½œäº 2014 å¹´ï¼Œ2017 å¹´é‡å°ï¼Œè·ä»Šå·²ç»æ¯”è¾ƒé•¿çš„æ—¶é—´äº†ï¼Œé‚£ä¹ˆï¼Œ\nè¿™ 52 æ¡è§„åˆ™æ˜¯ä¸æ˜¯éƒ½è¿˜é€‚ç”¨å‘¢ï¼Ÿ\nå¸¦ç€è¿™ä¸ªç–‘é—®ï¼Œå¿«é€Ÿè¿‡ä¸€éï¼\nåŸºç¡€æ¦‚å¿µ # 1. èµ·æº # OC æ˜¯ C çš„è¶…é›†ï¼Œæ˜¯ C + Objectã€‚\nOC çš„æ¶ˆæ¯å‘é€æœºåˆ¶ä¸å…¶ä»–è¯­è¨€çš„å‡½æ•°è°ƒç”¨çš„åŒºåˆ«æ˜¯ï¼š\nå‰è€…ç”±è¿è¡Œæ—¶å†³å®šï¼Œåè€…ç”±ç¼–è¯‘å™¨å†³å®šã€‚\n2. å‡å°‘å¤´æ–‡ä»¶å¼•ç”¨ # è¿™ä¸ªåº”è¯¥æ‰€æœ‰è¯­è¨€ (ä¸¥è°¨ç‚¹ï¼Œå¤§éƒ¨åˆ†) éƒ½é€šç”¨å§ï¼Œå‡å°‘æ¨¡å—é—´è€¦åˆï¼Œé¿å…è¿‡å¤šå¼•ç”¨ã€‚\n3. å­—é¢é‡è¯­æ³•ç³–ä¸ä¸‹æ ‡æ“ä½œ # NSString, NSArray, NSNumber, NSDictionary ä½¿ç”¨ @\u0026quot;\u0026quot;, @[], @(), @{} è¯­æ³•åˆ›å»ºã€‚\néœ€è¦æ³¨æ„çš„æ˜¯å¦‚æœæœ‰ç©ºå¯¹è±¡ï¼Œå­—é¢é‡ä¼šæŠ›å¼‚å¸¸è€Œ crashï¼Œä½†æ˜¯ arrayWithObjects: ä¼šæˆªæ–­åˆ—è¡¨ï¼Œåªå– nil å‰çš„å…ƒç´ ã€‚\nè€Œå¯¹äº NSArry å’Œ NSDictionary æ¥è¯´ï¼Œä¸‹æ ‡æ“ä½œæ¯” objectAtIndex: å’Œ objectForKey: è¦æ–¹ä¾¿ä¸€ç‚¹ï¼Œ ä½†æ˜¯è¶Šç•Œä¸€æ ·ä¼šæŠ›å¼‚å¸¸ã€‚\n4. ç”¨ const å¸¸é‡ä»£æ›¿ #define # // xx.m --\u0026gt; å°½é‡ä¸è¦å®šä¹‰åœ¨ .h ä¸­ï¼Œå¦‚æœæ˜¯ç»™åˆ«äººä½¿ç”¨ï¼Œéœ€è¦ extern static const NSTimeInterval kAnimationDuration = 0.3 // xx.h extern NSString *const XXStringConst; // xx.m NSString *const XXStringConst = @\u0026#34;VALUE\u0026#34; const å¸¸é‡å¸¦æœ‰ç±»å‹ä¿¡æ¯ï¼Œä¼šè¢«ç¼–è¯‘å™¨æ£€æŸ¥ï¼›#define æ˜¯å•çº¯çš„å­—ç¬¦ä¸²æ›¿æ¢ï¼Œæ²¡æœ‰ä»»ä½•æ ¡éªŒã€‚ extern const å¸¸é‡åªèƒ½è¢«å®šä¹‰ä¸€æ¬¡ (å¯å¤šæ¬¡å£°æ˜)ï¼Œè€Œ #define æ²¡æœ‰é™åˆ¶ï¼Œå®¹æ˜“äº§ç”Ÿè¦†ç›–é—®é¢˜ã€‚ tip: static const å®šä¹‰åœ¨ .m æ–‡ä»¶ä¸­ï¼Œä¸ä¼šå‡ºç°åœ¨å…¨å±€ç¬¦å·è¡¨ä¸­ã€‚ 5. ä½¿ç”¨æšä¸¾ # typedef NS_ENUM(NSInteger, XXState) { XXState1, XXState2, XXState3, }; typedef NS_OPTIONS(NSInteger, XXOPT) { XXOPT1 = 1 \u0026lt;\u0026lt; 0, XXOPT2 = 1 \u0026lt;\u0026lt; 1, XXOPT3 = 1 \u0026lt;\u0026lt; 2, }; switch ä¸­çš„æšä¸¾ï¼Œä¸è¦å®ç° default åˆ†æ”¯ï¼Œé¿å…æ–°åŠ å…¥æšä¸¾å€¼æ—¶æ¼æ‰åˆ†æ”¯å®ç°ã€‚\nå¯¹è±¡ã€æ¶ˆæ¯ä¸è¿è¡Œæ—¶ # 6. å±æ€§ # atomic æ˜¯åŸå­æ€§çš„ï¼Œä½†å¹¶ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚\nå¦‚æœåœ¨ä¸€ä¸ªçº¿ç¨‹å¤šæ¬¡è¯»å–æŸä¸ªå±æ€§çš„æ—¶å€™ï¼Œæœ‰å¦ä¸€ä¸ªçº¿ç¨‹åœ¨å†™ï¼Œå³ä½¿å£°æ˜ä¸º atomicï¼Œä¹Ÿä¼šè¯»å–åˆ°ä¸åŒçš„å€¼ã€‚\niOS ä¸­ä½¿ç”¨åŒæ­¥é”å¼€é”€è¾ƒå¤§ï¼Œä¸€èˆ¬ä¸ä½¿ç”¨ atomic\n7. åœ¨å¯¹è±¡ä¸­å°½é‡ç›´æ¥è®¿é—®å®ä¾‹å˜é‡ # åœ¨è¯»å–æ—¶ï¼Œä½¿ç”¨ _val è€Œä¸æ˜¯ self.val\nåœ¨è®¾ç½®æ—¶ï¼Œä½¿ç”¨ self.val = xx\nä¸è¦åœ¨ init å’Œ dealloc ä¸­ä½¿ç”¨ self.valï¼\nå¦‚æœå­ç±»é‡å†™äº†æŸä¸ªå±æ€§çš„ set æ–¹æ³•ï¼Œ\nåœ¨ init ä¸­ï¼Œçˆ¶ç±»å¦‚æœè°ƒç”¨ setï¼Œå…¶å®æ˜¯è°ƒç”¨çš„å­ç±»å®ç°ï¼Œå¯èƒ½ä¼šå‡ºç°ä¸æƒ³è¦çš„ç»“æœ åœ¨ dealloc ä¸­ï¼Œå­ç±»å…ˆé‡Šæ”¾äº†å®ä¾‹ï¼Œçˆ¶ç±»å†å»è°ƒç”¨ set æ–¹æ³•ï¼Œä¼šå¯¼è‡´ crash 8. å¯¹è±¡ç›¸ç­‰æ€§ # ==ï¼š æ˜¯åœ°å€æ¯”è¾ƒ isEqual:ï¼š é»˜è®¤ä¹Ÿæ˜¯æ¯”è¾ƒæŒ‡é’ˆï¼Œå¯ä»¥è¢«é‡å†™ã€‚å¯¹äº NSStringï¼Œç­‰æ•ˆäº isEqualToString: hashï¼šå¦‚æœå¯¹è±¡ç›¸ç­‰ï¼Œåˆ™ hash å¿…é¡»ç›¸ç­‰ï¼›åä¹‹ï¼Œä¸ä¸€å®šæˆç«‹ 9. ç±»æ— # class clusterï¼Œçœ‹èµ·æ¥ç±»ä¼¼äºå·¥å‚æ¨¡å¼ã€‚\nç³»ç»Ÿåº“çš„é›†åˆç±»ï¼Œå¦‚ NSArrayã€NSDictionary éƒ½æ˜¯ç±»æ—çš„æŠ½è±¡åŸºç±»ã€‚\n10. å…³è”å¯¹è±¡ # éå¿…è¦ä¸è¦ç”¨ã€‚\n11. æ¶ˆæ¯å‘é€ # objc_msgSend æ˜¯ä¸€ä¸ªé‡è¦çš„æ¦‚å¿µã€‚\nobjc_msgSend åœ¨è°ƒç”¨æ–¹æ³•æ—¶ï¼Œç”šè‡³ä½¿ç”¨äº† \u0026ldquo;å°¾é€’å½’\u0026rdquo; ä¼˜åŒ–ã€‚\n12. æ¶ˆæ¯è½¬å‘ # message forwarding ä¹Ÿæ˜¯ä¸€ä¸ªé‡è¦çš„æ¦‚å¿µã€‚ä¸‰æ­¥èµ°ï¼š\n+ (BOOL)resolveInstanceMethod:(SEL)selï¼Œå¯ç”¨äºåŠ¨æ€æ·»åŠ å®ç°\n- (id)forwardingTargetForSelector:(SEL)aSelectorï¼Œè½¬å‘ç»™å…¶ä»–å¯¹è±¡\n- (void)forwardInvocation:(NSInvocation *)anInvocationï¼Œå®Œæ•´çš„æ¶ˆæ¯è½¬å‘\nç¬¬ä¸‰æ­¥ï¼Œéœ€è¦é…åˆ\n- (NSMethodSignature *)methodSignatureForSelector:(SEL)aSelector\nä½¿ç”¨ã€‚\n13. é»‘é­”æ³• # Method Swizzling ä¹Ÿæ˜¯ä¸€ä¸ªé‡è¦çš„æ¦‚å¿µã€‚\nä¸è¦æ»¥ç”¨ï¼Œéš¾ä»¥è°ƒè¯•\n14. ç±»å¯¹è±¡ # å‚è€ƒï¼š[Runtime] Class, Object ä¸ isa\næ¥å£ä¸ api # 15. ä½¿ç”¨å‰ç¼€å‘½å # ç”±äºæ²¡æœ‰åå­—ç©ºé—´ (namespace) æœºåˆ¶ï¼Œåªèƒ½é€šè¿‡åŠ å‰ç¼€çš„æ–¹å¼é¿å…ç¬¦å·å†²çªã€‚\nç‰¹åˆ«æ³¨æ„ï¼Œè¦åœ¨åˆ†ç±»æ–¹æ³•åå‰åŠ å‰ç¼€\n16. ä½¿ç”¨æŒ‡å®šåˆå§‹åŒ–æ–¹æ³• # æŒ‡å®šåˆå§‹åŒ–æ–¹æ³• (designated initializer, NS_DESIGNATED_INITIALIZER) å¿…é¡»è°ƒç”¨çˆ¶ç±»çš„æŒ‡å®šåˆå§‹åŒ–æ–¹æ³• æœ¬ç±»çš„å…¶ä»–åˆå§‹åŒ–æ–¹æ³• (ä¾¿æ·åˆå§‹åŒ–æ–¹æ³•ï¼Œconvenience initializer) å¿…é¡»è°ƒç”¨æœ¬ç±»æŒ‡å®šåˆå§‹åŒ–æ–¹æ³•ï¼Œä¸èƒ½è°ƒç”¨çˆ¶ç±»çš„ å¦‚æœå­ç±»æœ‰æŒ‡å®šåˆå§‹åŒ–æ–¹æ³•ï¼Œåˆ™å¿…é¡»å®ç°æ‰€æœ‰çˆ¶ç±»çš„æŒ‡å®šåˆå§‹åŒ–æ–¹æ³• 17. å®ç° description æ–¹æ³• # æˆ–è€… debugDescription æ–¹æ³•ï¼Œç”¨äºè°ƒè¯•è¾“å‡ºæ—¥å¿—ã€‚\n18. å°½é‡ä½¿ç”¨ä¸å¯å˜å¯¹è±¡ # immutable ä¹Ÿæ˜¯ä¸ªé‡è¦çš„æ¦‚å¿µã€‚\nå¯¹å¤–çš„å®¹å™¨å±æ€§å°½é‡åªè¯»ï¼Œå¹¶æä¾›è¯»å†™æ¥å£ã€‚\n19. å‘½å # å‰ç¼€ + é©¼å³°å¼ï¼Œå°½å¯èƒ½ä¸€çœ¼çœ‹æ‡‚ä½œç”¨çš„å‘½åã€‚\n20. ç§æœ‰æ–¹æ³•åŠ å‰ç¼€ ï¸â“ # ä½œè€…å»ºè®®ç§æœ‰æ–¹æ³•ä½¿ç”¨ p_ ä½œä¸ºå‰ç¼€ï¼Œè¿™ç‚¹ä¸ªäººè§‰å¾—å­˜ç–‘ã€‚\nå®é™…å¼€å‘ä¸­ï¼Œæ²¡æœ‰å¿…è¦åŒºåˆ† public å’Œ private æ–¹æ³•ã€‚ä¸åœ¨å¤´æ–‡ä»¶ä¸­çš„æ–¹æ³•å³ä¸º privateï¼Œ æ˜¾ç„¶ä½¿ç”¨è€…æœ‰å¾ˆå¤šåŠæ³•å¯ä»¥ç»•è¿‡è¿™ä¸ªé™åˆ¶ã€‚ä½†è¿™ä¸é‡è¦ã€‚\nè¿™é‡Œä½œè€…æäº†ä¸€ç‚¹å¾ˆé‡è¦ï¼Œä¸è¦ä½¿ç”¨ _ å•ä¸‹åˆ’çº¿ä½œä¸ºå‰ç¼€ï¼Œå› ä¸ºç³»ç»Ÿåº“ä¹Ÿè¿™æ ·å‘½åï¼Œå®¹æ˜“æ— æ„ä¸­é‡è½½ã€‚\n21. å¤„ç†å¼‚å¸¸ # å°‘ç”¨å¼‚å¸¸ï¼Œé™¤éå¿…é¡» crash çš„åœºæ™¯ã€‚ä¸€èˆ¬é”™è¯¯ä½¿ç”¨ NSError æ›¿ä»£ã€‚\nè¿™é‡Œæˆ‘è¦è¯´ä¸€å¥ï¼Œæœ‰äº›äººå–œæ¬¢ NSAssert æ»¥ç”¨ï¼ŒçœŸæ˜¯éå¸¸å½±å“è°ƒè¯•ï¼ğŸ˜’\n22. ç†è§£ NSCopying # immutable ä¸ mutable ä¸ æ·±æµ…æ‹·è´ çš„æ¦‚å¿µä¸è¦æ··æ·†ã€‚\ncopy -\u0026gt; immutable mutableCopy -\u0026gt; mutable [NSArray copy] -\u0026gt; æµ…æ‹·è´ï¼Œå³ä¸åŸæ•°ç»„æŒ‡é’ˆç›¸åŒ [NSArray mutableCopy], [NSMutableArray copy], [NSMutableArray mutableCopy] éƒ½æ˜¯æ·±æ‹·è´ï¼Œä¼šç”Ÿæˆæ–°çš„åœ°å€ã€‚ å¯¹äºé›†åˆç±»æˆå‘˜æ¥è¯´ï¼Œé»˜è®¤éƒ½æ²¡æœ‰æ‰§è¡Œ copy æ“ä½œã€‚\nå¯ä»¥ä½¿ç”¨ -initWithXX:copyItems:YES æ–¹æ³•æ‰§è¡Œé€ä¸ª copyã€‚\nåè®®ä¸åˆ†ç±» # 23. å§”æ‰˜ delegate # Cocoa æ¡†æ¶å¤§é‡ä½¿ç”¨ï¼Œçº¦å®šä¿—æˆçš„è®¾è®¡æ¨¡å¼ã€‚\n24. åˆ†ç±» # å°†ä¸€ä¸ªå¤§ç±»ï¼ŒæŒ‰åŠŸèƒ½æ‹†æˆå¤šä¸ªåˆ†ç±»ï¼Œæ˜¯ä¸€ç§ä»£ç ä¼˜åŒ–çš„æ–¹æ³•ã€‚\n25. åˆ†ç±»åå’Œæ–¹æ³• # åœ¨ä¸ºç³»ç»Ÿæˆ–ç¬¬ä¸‰æ–¹ç±»æ·»åŠ åˆ†ç±»æ—¶ï¼Œè¦åŠ ä¸Šè‡ªå·±ç‰¹æœ‰çš„åå­—å‰ç¼€ã€‚\nä¸ #15 ç±»ä¼¼ã€‚\n26. åˆ†ç±»ä¸­ä¸è¦å®šä¹‰å±æ€§ # ä¸€èˆ¬ä¹Ÿå®šä¹‰ä¸äº†ã€‚é™¤éä½¿ç”¨å…³è”å¯¹è±¡ã€‚\n27. åŒ¿åç±» # class-continuation\nå¯ä»¥ç”¨æ¥\néšè—ç§æœ‰å˜é‡ éšè—ç§æœ‰æ–¹æ³• éšè—ç§æœ‰åè®® 28. ç”¨åè®®æä¾›åŒ¿åå¯¹è±¡ # æŒ‡ id\u0026lt;XXProtocol\u0026gt; delegate è¿™ç§å½¢å¼\nå†…å­˜ç®¡ç† # å†…å­˜ç®¡ç†å¯¹äº OC æ¥è¯´å¾ˆé‡è¦ã€‚ 29. å¼•ç”¨è®¡æ•° # å¯¹è±¡é—´å¼•ç”¨æ„æˆä¸€é¢—æ ‘ï¼Œæ ¹ç»“ç‚¹æ˜¯ NSApplication/UIApplicationã€‚\nautorelease å¯ä»¥å»¶é•¿å˜é‡çš„ç”Ÿå‘½æœŸï¼Œé€šå¸¸ç”¨äºæ–¹æ³•è¿”å›ã€‚(MRC)\n30. ä½¿ç”¨ ARC # ARC å¾ˆå¥½ç”¨ã€‚ä½†éœ€è¦æ³¨æ„ï¼š\nå¿…è¦çš„æ—¶å€™éœ€è¦å€Ÿç”¨ autoreleasePool ç®¡ç† CoreFoundation å¯¹è±¡ä¸å½’ ARC ç®¡ï¼Œéœ€è¦è‡ªè¡Œè°ƒç”¨ CFRelease 31. dealloc æ–¹æ³• # MRC ä¸­ dealloc æœ€åéœ€è¦æ‰‹åŠ¨è°ƒç”¨ [super dealloc]ï¼ŒARC ä¸­ä¸å†éœ€è¦\nä¸è¦åœ¨ dealloc ä¸­è°ƒç”¨å¼‚æ­¥æ“ä½œ ä¸è¦åœ¨ dealloc ä¸­è°ƒç”¨å±æ€§çš„è¯»å†™æ“ä½œ åœ¨å¯¹è±¡å¤„äº deallocating state æ—¶ï¼Œä¸è¦åšä¿®æ”¹å¯¹è±¡å†…å®¹çš„äº‹æƒ…ã€‚\n32. å¼‚å¸¸ä¸å†…å­˜ç®¡ç† # try å—ä¸­åˆ›å»ºçš„å¯¹è±¡éœ€è¦åœ¨ @finally ä¸­é‡Šæ”¾ã€‚ARC ä¸‹éœ€è¦å¼€å¯ -fobjc-arc-exceptions ç¼–è¯‘æ ‡å¿—æ‰å¯ä»¥æ­£ç¡®é‡Šæ”¾ã€‚\n33. å¼±å¼•ç”¨ # weak ä¹Ÿæ˜¯ä¸€ä¸ªé‡è¦çš„æ¦‚å¿µã€‚\nä¸ unsafe_unretained åŒºåˆ«åœ¨äºï¼Œweak ä¼šè¿›è¡Œ autonillingã€‚\n34. @autoreleasepool çš„ä½¿ç”¨ # autorelasePool ä¹Ÿæ˜¯ä¸€ä¸ªé‡è¦çš„æ¦‚å¿µã€‚\né™ä½å†…å­˜å³°å€¼ (high-memeory waterline)\n35. åƒµå°¸å¯¹è±¡ # Zombie Object\nXcode ä¸­æœ‰ä¸€ä¸ªå¼€å…³å¯ä»¥æ‰“å¼€ Enable Zombie Objects = YESã€‚\nè¿™æ ·ç³»ç»Ÿä¼šæ›¿æ¢ NSObject çš„ dealloc å®ç°ã€‚åœ¨åŸç±»çš„ dealloc ä¸­ï¼Œé€šè¿‡ objc_setClassï¼Œç”Ÿæˆä¸€ä¸ª _NSZombie_XXCls ç±»æ›¿æ¢åŸç±»ï¼Œ åœ¨åç»­å†å‘åŸç±»å‘é€æ¶ˆæ¯æ—¶ï¼Œå°±ä¼šè¢«è½¬å‘åˆ°åƒµå°¸ç±»ä¸­ï¼Œç„¶åè¾“å‡ºå·²ç»è¢«é‡Šæ”¾çš„ç±»åå’Œé”™è¯¯ä¿¡æ¯ã€‚\n*** -[XXCls method]: message send to deallocated instance 0x7xxxx 36. ä¸è¦ä½¿ç”¨ retainCount # ARC ä¸‹å¯ç”¨ï¼ŒMRC ä¸‹ä¸å‡†ç¡®ã€‚æ‰€ä»¥æ˜¯æ— ç”¨çš„ å­˜åœ¨è‡ªåŠ¨é‡Šæ”¾æ± ï¼Œå»¶è¿Ÿé‡Šæ”¾ï¼Œæ‰€ä»¥è¿™ä¸ªå€¼ä¹Ÿä¸å‡† ç³»ç»Ÿä¼˜åŒ–é‡Šæ”¾è¡Œä¸ºï¼Œå¯èƒ½å¯¹è±¡å¼•ç”¨è®¡æ•°ä¸ä¼šä¸º 0 block ä¸ GCD # ä¸­æ–‡ç‰ˆè¯‘ä¸º â€œå—ä¸å¤§ä¸­æ¢æ´¾å‘â€ï¼Œæ— åŠ›åå˜ˆã€‚\nè¿™ä¸¤è€…éƒ½éå¸¸é‡è¦ã€‚ 37. ç†è§£å— block # block ä¹Ÿæ˜¯å¯¹è±¡ï¼Œæœ‰è‡ªå·±çš„å¼•ç”¨è®¡æ•°å’Œç”Ÿå‘½å‘¨æœŸç®¡ç† block æ˜¯ä¸€ç§ä»£æ›¿å‡½æ•°æŒ‡é’ˆçš„è¯­æ³•ç»“æ„ï¼Œæ ¸å¿ƒåŠŸèƒ½åœ¨ void (*)(void *,) invoke å‡½æ•°æŒ‡é’ˆ æ•è·çš„å˜é‡åœ¨ block ä½“å†…ï¼Œinvoke å°† block æœ¬èº«ä¼ å…¥ä»¥ä¾¿äºè¯»å–åˆ°æ•è·çš„å˜é‡ æœ‰æ ˆ blockã€å † block å’Œ å…¨å±€ blockï¼Œå¯ä»¥é€šè¿‡å®ƒçš„ Isa æŒ‡é’ˆåŒºåˆ« 38. ä½¿ç”¨ typedef é‡å‘½å block # å¸¸ç”¨çš„åšæ³•\n39. ä½¿ç”¨ handler å—é™ä½ä»£ç åˆ†æ•£ç¨‹åº¦ # å°±æ˜¯å°† block ä½œä¸ºå‚æ•°ä¼ å…¥ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ delegate è¿™ä¸ªå®Œå…¨å–å†³äºå®é™…æƒ…å†µï¼Œå¦‚æœå›è°ƒè¿‡å¤šï¼Œè¿˜æ˜¯ delegate æ›´å¥½ä¸€ç‚¹ã€‚\nAPI è®¾è®¡å¸¸ç”¨åŒä¸€ä¸ª block è¿”å›ç»“æœå’Œé”™è¯¯\nNSNotificationCenter çš„è®¾è®¡å€¼å¾—å­¦ä¹ ï¼Œåº”è¯¥ç”±è°ƒç”¨è€…å†³å®šå›è°ƒçš„çº¿ç¨‹\n40. block ä¸ å¾ªç¯å¼•ç”¨ # retain cycle æ˜¯ä¸ªä½¿ç”¨ block æ—¶å¸¸è§çš„é—®é¢˜\næŸä¸ªç±» retain çš„ block å†…éƒ¨å¦‚æœæ•è·äº†ç±»æœ¬èº«ï¼Œå°±ä¼šå‡ºç°å¾ªç¯å¼•ç”¨ã€‚æ­¤æ—¶éœ€è¦åŠæ—¶é‡Šæ”¾ blockã€‚\n41. ç”¨é˜Ÿåˆ—ä»£æ›¿é” # ä½¿ç”¨ä¸²è¡Œé˜Ÿåˆ—ä»£æ›¿ @synchronized(self) ä¸²è¡Œé˜Ÿåˆ—ï¼Œè¯»åŒæ­¥ dispatch_syncï¼›å†™å¼‚æ­¥ dispatch_asyncï¼Œæ‰§è¡Œé€Ÿåº¦å¿«ï¼Œä½†æ€§èƒ½ä¼šæ¯”åŒæ­¥æ…¢ï¼Œå› ä¸ºéœ€è¦ copy block å¹¶å‘é˜Ÿåˆ—ï¼Œè¯»åŒæ­¥ï¼Œå†™å¼‚æ­¥ï¼Œæ­¤æ—¶é¿å…ç«äº‰éœ€è¦ç”¨ dispatch_barrier_asyncï¼Œæ …æ  åˆ°åº•ä»€ä¹ˆæ˜¯çº¿ç¨‹å®‰å…¨ï¼Œå¾ˆéš¾æœ‰ä¸ªå‡†ç¡®çš„å®šä¹‰ã€‚é”æœºåˆ¶èƒ½ä¿è¯ä¸€å®šç¨‹åº¦çš„ thread safetyï¼Œä½†ä¸ç»å¯¹ã€‚\nä¸¤æ¬¡è¯»ä¹‹é—´ï¼Œæœ‰å†™æ“ä½œã€‚è¿™ä¸¤æ¬¡è¯»çš„ç»“æœå°±å¯èƒ½ä¸ä¸€æ ·ã€‚è¿™æ ·ç®—ä¸ç®—çº¿ç¨‹ä¸å®‰å…¨ï¼Ÿ\n42. ç”¨ GCD æ›¿ä»£ performSelector # performSelector æ— æ³•è®©ç¼–è¯‘å™¨å†³å®šæ˜¯å¦é‡Šæ”¾è¿”å›å¯¹è±¡ï¼Œå®¹æ˜“å†…å­˜æ³„éœ² ä½¿ç”¨ dispatch_after ä»£ç  performSelector:withObject:afterDelay: 43. GCD ä¸ NSOperationQueue # NSOperationQueue åº•å±‚ä¹Ÿæ˜¯ GCD å®ç°çš„ã€‚ä½†æ˜¯ç›¸å¯¹æ¥è¯´ï¼Œæœ‰ä¸€äº›ä¼˜ç‚¹ï¼š\næ›´æ–¹ä¾¿å–æ¶ˆ å¯ä»¥æŒ‡å®šä¾èµ–å…³ç³» å¯ä»¥ç”¨ KVO äº†è§£è¿è¡ŒçŠ¶æ€ æŒ‡å®šæ“ä½œçš„ä¼˜å…ˆçº§ ä»£ç å¯å¤ç”¨ 44. dispatch_group # æŒæ¡å‡ ä¸ªæ–¹æ³•çš„ä½¿ç”¨\ndispatch_group_async(dispatch_group_t group, dispatch_queue_t queue, dispatch_block_t block); // æˆå¯¹å‡ºç° dispatch_group_enter(dispatch_group_t group); dispatch_group_leave(dispatch_group_t group); // é˜»å¡ç­‰ç»“æŸæˆ–è¶…æ—¶ dispatch_group_wait(dispatch_group_t group, dispatch_time_t timeout); // ä¸é˜»å¡ç­‰ç»“æŸ dispatch_group_notify(dispatch_group_t group, dispatch_queue_t queue, dispatch_block_t block); // å¾ªç¯æ‰§è¡Œå¤šæ¬¡ dispatch_apply(size_t interations, dispatch_queue_t queue, void (^block)(size_t)); 45. dispatch_once # dispatch_one æ€§èƒ½æ˜¯ @synchronized çš„ä¸¤å€ä»¥ä¸Š\n46. ä¸è¦ä½¿ç”¨ dispatch_get_current_queue # API_DEPRECATED(\u0026#34;unsupported interface\u0026#34;, macos(10.6,10.9), ios(4.0,6.0)) DISPATCH_EXPORT DISPATCH_PURE DISPATCH_WARN_RESULT DISPATCH_NOTHROW dispatch_queue_t dispatch_get_current_queue(void); è¿™ä¸ª API å·²ç»è¢«å¼ƒç”¨ï¼Œä¸è¿‡ç†è§£å…¶ä¸å¯ç”¨çš„åŸå› è¿˜æ˜¯æœ‰ç”¨çš„ã€‚\nè¿”å›å€¼é€šå¸¸ä¸é¢„æœŸä¸ç¬¦ï¼Œé˜Ÿåˆ—æŒ‰å±‚çº§ç»„ç»‡ï¼Œæ— æ³•ç”¨å•ä¸ªé˜Ÿåˆ—æè¿°å½“å‰é˜Ÿåˆ—ã€‚å¦‚åœ¨å…¨å±€é˜Ÿåˆ—ä¸­ async æ‰§è¡ŒæŸä¸ªé˜Ÿåˆ—ï¼Œå½“å‰é˜Ÿåˆ—å¯èƒ½æ˜¯å…¨å±€é˜Ÿåˆ— å¯ä»¥ä½¿ç”¨ dispatch_queue_set_specific() æ–¹æ³•å­˜å‚¨é˜Ÿåˆ—ç‰¹æœ‰æ•°æ®ï¼Œç±»ä¼¼äº TLS (Thread Local Storage) ç³»ç»Ÿæ¡†æ¶ # 47. ç†Ÿæ‚‰ç³»ç»Ÿæ¡†æ¶ # Foundation ä¸ CoreFoundation å­˜åœ¨ â€œæ— ç¼æ¡¥æ¥â€ï¼Œå¦‚ NString \u0026lt;-\u0026gt; CFString å¸¸ç”¨ç³»ç»Ÿåº“ CFNetwork CoreAudio AVFoundation CoreData CoreText QuartzCore/CoreAnimation CoreGraphics 48. ä½¿ç”¨å—éå†ä»£æ›¿ for # for\u0026hellip;in è¯­æ³• enumerateObjectsUsingBlock: 49. ä½¿ç”¨ CoreFoundation ä¸­çš„ collection ç±» # è¿™ä¸€èŠ‚æ„Ÿè§‰ä¸æ˜¯å¤ªå¸¸ç”¨ã€‚\nNSArray -\u0026gt; CFArrayRef: ä½¿ç”¨ (__bridge CFArrayRef) è½¬æ¢ åä¹‹ä½¿ç”¨ (__bridge_transfer NSMutableDictionary *)(CFMutableDictionaryRef xx) 50. ä½¿ç”¨ NSCache # ç›¸æ¯”äº NSDictionary çš„ä¼˜åŠ¿åœ¨äºï¼š\né”®ä¸éœ€è¦æ”¯æŒ copy ä½å†…å­˜æ—¶è‡ªåŠ¨æ¸…ç† çº¿ç¨‹å®‰å…¨ é…åˆ NSPurgeableData ä½¿ç”¨ï¼Œå®ç°è‡ªåŠ¨æ¸…é™¤æ•°æ® 51. ç²¾ç®€ initialize å’Œ load ä»£ç  # load æ–¹æ³•åœ¨å¯åŠ¨æ—¶è°ƒç”¨ï¼Œå…ˆè°ƒç”¨æœ¬ç±»çš„ï¼Œå†è°ƒç”¨åˆ†ç±»çš„ã€‚å…ˆè°ƒç”¨çˆ¶ç±»çš„ï¼Œå†è°ƒç”¨å­ç±»çš„ã€‚å­ç±»ä¸å®ç°ï¼Œçˆ¶ç±»ä¸ä¼šè°ƒç”¨ã€‚\nload ä¸­ä½¿ç”¨å…¶ä»–ç±»æ˜¯ä¸å®‰å…¨çš„\nå°½é‡åœ¨ initialize æ–¹æ³•ä¸­åšåˆå§‹åŒ–æ“ä½œï¼Œä¸ load çš„åŒºåˆ«ï¼š\næƒ°æ€§è°ƒç”¨ï¼Œä½¿ç”¨æ—¶æ‰è°ƒç”¨ æ¯” load æ›´å¯é ï¼Œæ­¤æ—¶ä½¿ç”¨å…¶ä»–ç±»æ˜¯çº¿ç¨‹å®‰å…¨çš„ éµå¾ªç»§æ‰¿è§„åˆ™ï¼Œå­ç±»æ²¡æœ‰å®ç°ï¼Œä¼šè°ƒç”¨çˆ¶ç±»çš„ ä¹Ÿå°½é‡ä¸è¦åœ¨ initialize ä¸­æ·»åŠ å¤ªå¤šä»£ç \n52. NSTimer ä¼š retain å®ƒçš„ Target # NSTimer ä¹Ÿæ˜¯ä¸€ä¸ªé‡è¦çš„å¯¹è±¡\næœ‰å¤šç§æ–¹æ³•å¯ä»¥æ‰“ç ´å¾ªç¯å¼•ç”¨ ã€‚\nç»ˆäºçœ‹å®Œäº†ï¼è¿™æ˜¯ä¸€æœ¬ä¸é”™çš„ä¹¦ï¼Œä½†ç”±äºå¹´ä»£ä¹…è¿œï¼Œä¸€äº›æ¦‚å¿µå’Œç”¨æ³•éœ€è¦æ›´æ–°ã€‚ OC è¿™ä¸ªå¤è€çš„è¯­è¨€ï¼Œå¦‚ä»Šåœ¨å¤§å‚çš„ å±å±± é¡¹ç›®ä¸­è¿˜åœ¨å‘æŒ¥ç€ä½œç”¨ã€‚\nä½†æ˜¯ä½œä¸ºå¼€å‘è€…ï¼Œæˆ‘ä»¬è¦æ‹¥æŠ±æœªæ¥ï¼\nTo Learn Swift, right now !!\n","date":"April 7 2022","permalink":"/posts/2022/effective-oc-2.0/","section":"ç¢è¯­é—²è¨€","summary":"æŸ¥äº†ä¸‹è®¢å•ï¼Œè¿™æœ¬ä¹¦ä¹°äº† 4 å¹´å¤šï¼Œè¿˜æ²¡çœ‹å®Œï¼","title":"ä¸€æ–‡å­¦å®Œã€ŠEffective Objective-C 2.0ã€‹"},{"content":"Git æ“ä½œæ˜¯ç¨‹åºå‘˜å¿…é¡»æŒæ¡çš„åŸºæœ¬æŠ€èƒ½ã€‚åˆšæ¯•ä¸šé‚£ä¼šï¼Œå¤§å®¶è¿˜éƒ½ä½¿ç”¨ svn ä½œä¸ºç‰ˆæœ¬ç®¡ç†å·¥å…·ã€‚\nä½†è¿‘äº›å¹´å¤§å®¶åŸºæœ¬éƒ½æ”¹ç”¨ git äº†ï¼Œç”šè‡³åœ¨æˆ‘ä»¬é¡¹ç›®å†…éƒ¨ UI åˆ‡å›¾éƒ½å¼€å§‹ä½¿ç”¨ git ç®¡ç†äº†ã€‚\næ„Ÿè°¢ Linus Torvalds çš„ä¼Ÿå¤§å‘æ˜ï¼\nä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¸¸ç”¨çš„å‘½ä»¤æ— éæ˜¯ï¼š\n$ git init $ git checkout $ git add $ git pull $ git push $ git merge åœ¨è¯´ rebase å‰ï¼Œå…ˆé‡ç‚¹å¼ºè°ƒä¸€ä¸‹ é»„é‡‘æ³•åˆ™ï¼š\næ°¸è¿œä¸è¦åœ¨å…¬å…±åˆ†æ”¯ä¸Šä½¿ç”¨ rebase !! rebase ä½œä¸ºä¸€ä¸ªè¿›é˜¶å‘½ä»¤ï¼Œå¸¸å¸¸ä¸ merge æ”¾åœ¨ä¸€èµ·æ¯”è¾ƒã€‚\nrebase ä¸ merge # $ git checkout feature $ git merge main // or $ git merge feature main å°† main åˆ†æ”¯åˆå¹¶åˆ° featureï¼š\nè¿™æ ·åœ¨ feature åˆ†æ”¯ä¸Šä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„ commitï¼Œè¿™æ˜¯ä¸€ä¸ª merge commitã€‚\nè€Œå¯¹äº rebase:\n$ git checkout feature $ git rebase main å¯ä»¥çœ‹åˆ° feature åˆ†æ”¯æ‰€æœ‰ commit éƒ½è¢«æ”¾åˆ°äº† main å‰é¢ï¼Œæ•´ä¸ª history å½¢æˆäº†ä¸€æ¡ç›´çº¿ã€‚\nå€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œfeature çš„æ‰€æœ‰ commit éƒ½è¢«é‡å»ºäº†ï¼Œå®ƒä»¬çš„ hash å·²ç»ä¸æ˜¯åŸæ¥çš„é‚£ä¸ªäº†ï¼\næ‰€ä»¥ï¼Œrebase ç›¸å¯¹äº merge æ¥è¯´ï¼Œä¼˜ç‚¹æ˜¯ï¼š\næ—¶é—´çº¿æ›´æ¼‚äº®ï¼Œç¬¦å·å¼ºè¿«ç—‡å’Œæ•´æ´ç™–çš„å–œå¥½ ä¸ºäº†åšåˆ°è¿™ä¸ªï¼Œå®ƒå¯¹ å®‰å…¨æ€§ (safety) å’Œ å¯è¿½æº¯æ€§ (traceability) åšäº†æŠ˜è¡·1ï¼Œå¦‚æœä¸éµå¾ª rebase é»„é‡‘æ³•åˆ™ï¼Œå°†å¸¦æ¥ç¾éš¾ï¼\nrebase çš„ç¼ºç‚¹å¾ˆæ˜æ˜¾ï¼š\nä¸å½“çš„ä½¿ç”¨å®¹æ˜“é€ æˆä¸¥é‡åæœ éš¾ä»¥è¿½æº¯å†å²ï¼Œæ¯”å¦‚ä¸Šé¢çš„ feature åˆ†æ”¯åœ¨ rebase ä¹‹åï¼Œæ— æ³•çŸ¥é“æ˜¯ä»€ä¹ˆæ—¶å€™ä» main åˆ‡å‡ºè¿›è¡Œçš„ä¿®æ”¹ã€‚æ— æ³•çŸ¥é“ä»€ä¹ˆæ—¶å€™åˆå…¥çš„ main åˆ†æ”¯ã€‚ git pull # é¦–å…ˆï¼Œgit pull æ˜¯ä¸¤ä¸ªåŠ¨ä½œçš„åˆå¹¶ï¼Œå³ git fetch + git merge FETCH_HEAD\næ¯”å¦‚ git pull origin masterï¼Œé¦–å…ˆæ‹‰å– origin/masterï¼Œå†å°†æœ¬åœ°åˆ†æ”¯ä¸ origin/master æ‰§è¡Œ merge æ“ä½œã€‚\nå¦‚æœä½ æœ¬åœ°æœ‰ä¸€ä¸ª commitï¼Œä½†æ˜¯æ²¡æœ‰æäº¤åˆ°è¿œç¨‹ï¼›åŒæ—¶ä½ çš„åŒäº‹åœ¨åŒä¸€ä¸ªåˆ†æ”¯ä¸Šæäº¤äº†ä»£ç ã€‚ä½ è¿›è¡Œ fetch çš„æ—¶å€™ä¼šå‘ç°ï¼Œæœ¬åœ°åˆ†æ”¯æ—¢ ahead åˆ behindï¼š\nå¦‚æœè¿™ä¸ªæ—¶å€™æ‰§è¡Œ merge æ“ä½œï¼š Merge made by the \u0026lsquo;recursive\u0026rsquo; strategy.\nä¼šäº§ç”Ÿä¸€ä¸ª merge èŠ‚ç‚¹ï¼\nå¦‚æœæ‰§è¡Œçš„æ˜¯ rebase å‘¢ï¼Ÿ ä¼šå°†æœ¬åœ°çš„ commit é‡å»ºï¼Œå¹¶æ”¾åˆ°æœ€ä¸Šé¢ã€‚ï¼ˆå¯ä»¥çœ‹åˆ° commit id ä¸ä¸€æ ·äº†ï¼‰\nç„¶å push ä¹‹åï¼Œæ—¶é—´çº¿å°±æˆäº†ä¸€æ¡ç›´çº¿ï¼\næ‰€ä»¥ï¼Œgit pull è¿™ä¸ªæ“ä½œï¼Œå¤§éƒ¨åˆ†æƒ…å†µæ¥è¯´ï¼Œä½¿ç”¨ \u0026ndash;rebase æ›´åˆé€‚ï¼\næˆ‘ä»¬å¯ä»¥è®¾ç½® git pull é»˜è®¤ä½¿ç”¨ rebase é€‰é¡¹ï¼š\n# ä»…è®¾ç½® master åˆ†æ”¯ç”Ÿæ•ˆ git config branch.master.rebase true # å¯¹æ‰€æœ‰ tracking çš„ branch ç”Ÿæ•ˆ git config branch.autosetuprebase always # å¯¹æ‰€æœ‰ pull æ“ä½œç”Ÿæ•ˆ git config pull.rebase true ä»¥ä¸Šä»…å¯¹å½“å‰ç›®å½•çš„ git ç”Ÿæ•ˆï¼Œå¦‚æœè¦å…¨å±€ç”Ÿæ•ˆï¼Œè®°å¾—åŠ ä¸Š --global é€‰é¡¹ã€‚\n# æ‰‹åŠ¨ç¼–è¾‘æ›´æ–¹ä¾¿ï¼ git config --global --edit rebase çš„ç¦å¿Œ # å†æ¬¡å¤ä¹ ä¸€ä¸‹ é»„é‡‘æ³•åˆ™ï¼š\næ°¸è¿œä¸è¦åœ¨å…¬å…±åˆ†æ”¯ä¸Šä½¿ç”¨ rebase !! å¦‚æœä½ å’ŒåŒäº‹å…¬ç”¨äº†ä¸€ä¸ª feature åˆ†æ”¯ï¼Œè€Œä½ ä½¿ç”¨ rebase åŒæ­¥ä¸»å¹²ã€‚å¾ˆæœ‰å¯èƒ½å¼„ä¸¢åŒäº‹çš„ä»£ç ï¼\næˆ‘ä»¬æ¥çœ‹ä¸‹æ˜¯æ€ä¹ˆå‡ºç°çš„ï¼š\né¦–å…ˆæˆ‘ä»¬ä» master åˆ‡å‡ºä¸€ä¸ª feature åˆ†æ”¯ï¼š è¿™ä¸ªæ—¶å€™æœ‰ä¸¤ä¸ªåŒäº‹åŒæ—¶åœ¨è¿™ä¸ªåˆ†æ”¯ä¸Šå¼€å‘ï¼Œç›¸å®‰æ— äº‹ã€‚\næŸå¤©ï¼Œæœ‰ä¸ªåŒäº‹è¯´ï¼Œä¸»å¹²ä¸Šæœ‰ä¸€äº›æ›´æ–°ï¼Œæˆ‘ä»¬è¦ä¸è¦åŒæ­¥ä¸€ä¸‹åˆ° feature åˆ†æ”¯ï¼š â€œå¥½å•Šï¼Œå¥½å•Šâ€ï¼Œé‚£ä¹ˆæ€ä¹ˆåŒæ­¥å‘¢ï¼Ÿè¦ä¸è¦è¯•è¯•æ–°å­¦çš„ rebase å‘½ä»¤ ?! 3.1. ä½ çš„åŒäº‹ä¸€è¾¹è¯´â€œå¥½å•Šâ€ï¼Œä¸€è¾¹åœ¨è‡ªå·±æœ¬åœ°çš„ feature ä¸Šæäº¤äº†å¥½å‡ æ¬¡ï¼Œå¹¶ push åˆ°äº†è¿œç¨‹ï¼\nä½ å¹¶ä¸çŸ¥é“ï¼Œè¿™æ ·ä½ æœ¬åœ°çš„ feature åˆ†æ”¯å¹¶æ²¡æœ‰å®Œå…¨åŒ…å«åŒäº‹çš„æäº¤ï¼Œä¸æ­¤åŒæ—¶ï¼Œä½ å¼€å§‹äº†å¯æ€•çš„ rebase æ“ä½œï¼š\nè¿™æ—¶ï¼Œä½ å‘ç°æäº¤ä¸ä¸Šå»ï¼š\näºæ˜¯ï¼Œå¤´è„‘ä¸€çƒ­ï¼Œä½ å†³å®šå¤§åŠ›å‡ºå¥‡è¿¹ï¼Œ--force ä¸€æŠŠï¼š è¿™æ—¶ï¼Œä½ åŒäº‹æ›´æ–°ä¸€ä¸‹ä»£ç ï¼Œå‘ç°ï¼â€œæˆ‘çš„ä»£ç æ€ä¹ˆæ²¡äº†ï¼Ÿï¼Ÿï¼ï¼â€\næ€ä¹ˆåŠï¼Ÿ # æœ‰åŠæ³•è¡¥æ•‘å˜›ï¼Ÿæœ‰ï¼\nè®©ä½ çš„åŒäº‹ä½¿ç”¨ git reflogï¼š\næ‰¾åˆ°ä¸¢å¤±çš„ commitï¼Œé€šè¿‡ git cherry-pick [commit-id] æäº¤åˆ° feature åˆ†æ”¯å³å¯ï¼\nä½†æ˜¯ï¼æˆ‘ä»¬è¿˜æ˜¯ä¸è¦éšä¾¿ä½¿ç”¨ --force æ¥åˆ¶é€ è¿™ç§å‡¶é™©äº‹ä»¶äº†ã€‚\nçœ‹ä¸‹é¢è¿™ä¸ªåœºæ™¯ï¼š\nå‰é¢ä»‹ç»è¿‡ï¼Œè¶…å‰æ˜¯æœ¬åœ°åˆ†æ”¯æœ‰ä¸‰ä¸ªå˜æ›´ï¼Œè½åæ˜¯è¿œç¨‹åˆ†æ”¯æœ‰å››ä¸ªå˜æ›´æ²¡æœ‰åŒæ­¥è¿‡æ¥ã€‚\nå¦‚æœæˆ‘ä»¬å¼ºè¡Œ push å°±ä¼šä¸¢å¤±è¿œç¨‹çš„ commitï¼Œæ‰€ä»¥æˆ‘ä»¬è¯•ä¸€ä¸‹ --force-with-lease å‚æ•°ï¼š\næ²¡æœ‰åŒºåˆ«ï¼Œè¿˜æ˜¯æäº¤ä¸Šå»äº†ï¼\nåœ¨è¿™ç§æ˜çŸ¥é“æœ¬åœ°è½åï¼Œä»ç„¶å¼ºè¡Œæäº¤çš„æƒ…å†µä¸‹ï¼Œ--force-with-lease çš„ä½œç”¨ä¸ --force æ˜¯ä¸€æ ·çš„ï¼\næ­£å¸¸çš„åšæ³•æ˜¯ï¼š\ngit pull \u0026ndash;rebase æ›´æ–°æœ¬åœ°åˆ†æ”¯\nè€Œ git push --force-with-lease èƒ½å¤Ÿè§£å†³çš„æ˜¯ï¼Œåœ¨ rebase-push è¿‡ç¨‹ä¸­ï¼Œæœ‰å…¶ä»–äººæäº¤åˆ°è¯¥åˆ†æ”¯æ—¶çš„ï¼Œè¿™æ¬¡æäº¤æ“ä½œä¼šè¢«æ‹’ç»ã€‚ç›¸å¯¹æ¥è¯´æ›´å®‰å…¨ä¸€ç‚¹ã€‚\næ‰€ä»¥ï¼Œæ€»å¾—æ¥è¯´ï¼Œè¿˜æ˜¯é»„é‡‘æ³•åˆ™ï¼š\næ°¸è¿œä¸è¦åœ¨å…¬å…±åˆ†æ”¯ä¸Šä½¿ç”¨ rebase !! å¤šäººåä½œåˆ†æ”¯ï¼ŒåŒæ­¥ä¸»å¹²ï¼Œè¯·ä½¿ç”¨ merge !!\nhttps://www.atlassian.com/git/tutorials/merging-vs-rebasing\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"March 19 2022","permalink":"/posts/2022/git-rebase/","section":"ç¢è¯­é—²è¨€","summary":"\u003cp\u003eGit æ“ä½œæ˜¯ç¨‹åºå‘˜å¿…é¡»æŒæ¡çš„åŸºæœ¬æŠ€èƒ½ã€‚åˆšæ¯•ä¸šé‚£ä¼šï¼Œå¤§å®¶è¿˜éƒ½ä½¿ç”¨ svn ä½œä¸ºç‰ˆæœ¬ç®¡ç†å·¥å…·ã€‚\u003c/p\u003e\n\u003cp\u003eä½†è¿‘äº›å¹´å¤§å®¶åŸºæœ¬éƒ½æ”¹ç”¨ git äº†ï¼Œç”šè‡³åœ¨æˆ‘ä»¬é¡¹ç›®å†…éƒ¨ UI åˆ‡å›¾éƒ½å¼€å§‹ä½¿ç”¨ git ç®¡ç†äº†ã€‚\u003c/p\u003e","title":"å…³äº Rebase å®¹æ˜“è¢«å‘çš„é‚£äº›äº‹"},{"content":" â€œäºŒåˆ†â€æŸ¥æ‰¾æ˜¯ä¸€ç§éå¸¸å¸¸ç”¨çš„ç®—æ³•ã€‚æœ€åçš„æƒ…å†µä¸‹æ—¶é—´å¤æ‚åº¦ä¹Ÿæ˜¯ O(log n)ï¼Œç©ºé—´å¤æ‚åº¦ O(1)ï¼Œç›¸æ¯”çº¿æ€§æœç´¢ä¼˜ç§€å¤ªå¤šã€‚\nä½†æ˜¯è¦â€œå†™å¯¹â€ï¼Œå¹¶ä¸å®¹æ˜“ï¼Œ1988 å¹´ä¸€é¡¹è°ƒæŸ¥å‘ç°ï¼ŒäºŒåæœ¬ä¸“ä¸šä¹¦ç±ä¸­ä»…æœ‰äº”æœ¬1èƒ½å‡†ç¡®å†™å¯¹â€œäºŒåˆ†â€æŸ¥æ‰¾ã€‚\nå°½ç®¡äºŒåˆ†æŸ¥æ‰¾çš„åŸºæœ¬æ€æƒ³ç›¸å¯¹ç®€å•ï¼Œä½†ç»†èŠ‚å¯ä»¥ä»¤äººéš¾ä»¥æ‹›æ¶ \u0026hellip; â€” é«˜å¾·çº³\näºŒåˆ†æŸ¥æ‰¾çš„å‰ææ˜¯å¾…æŸ¥æ‰¾çš„åºåˆ—æ˜¯æœ‰åºçš„ã€‚\næœ¬èº«ç®—æ³•é€»è¾‘éå¸¸ç®€å•2ï¼š\nfunction binary_search(A, n, T) is L := 0 R := n âˆ’ 1 while L â‰¤ R do m := floor((L + R) / 2) if A[m] \u0026lt; T then L := m + 1 else if A[m] \u0026gt; T then R := m âˆ’ 1 else: return m return unsuccessful å‡å°‘ä¸€æ¬¡åˆ¤æ–­ # ä¸Šè¿°ä¼ªä»£ç æ¯æ¬¡å¾ªç¯éƒ½ä¼šæ¯”è¾ƒ mid ä¸ target æ˜¯å¦ç›¸ç­‰ï¼Œå¦‚æœå»æ‰è¿™ä¸ªæ¯”è¾ƒï¼Œå°†ä¹‹æ”¾åˆ°å¾ªç¯é€€å‡ºæ—¶ï¼Œå°±å¯ä»¥åœ¨æ¯æ¬¡å¾ªç¯ä¸­å‡å°‘ä¸€æ¬¡æ¯”è¾ƒï¼Œæ€»å¾—å¾ªç¯æ¬¡æ•°ä»…æ¯”ä¸Šé¢çš„ç®—æ³•å¤šä¸€æ¬¡ã€‚\nfunction binary_search_alternative(A, n, T) is L := 0 R := n âˆ’ 1 while L != R do m := ceil((L + R) / 2) if A[m] \u0026gt; T then R := m âˆ’ 1 else: L := m if A[L] = T then return L return unsuccessful å…³äº cell å’Œ floor # å¯ä»¥çœ‹å‡ºæ¥ï¼Œä¸Šé¢ä¸¤ä¸ªå®ç°ä¸­åœ¨å– mid æ—¶ä½¿ç”¨äº†ä¸åŒçš„æ–¹æ³•ï¼Œä¸€ä¸ªæ˜¯ floor()ï¼Œä¸€ä¸ªæ˜¯ ceil()ï¼Œ\nfloor((0 + 1) / 2) = 0\nceil((0 + 1) / 2) = 1\nä¸ºä»€ä¹ˆä¼šæœ‰è¿™ä¸ªä¸åŒå‘¢ï¼Ÿåœ¨ StackOverflow ä¸Šæœ‰å¾ˆå¥½çš„è§£é‡Šï¼š\nå¦‚æœæ›´æ–°äºŒå…ƒç»„ (l, r) -\u0026gt; (m + 1, m - 1) æ—¶ï¼Œè¿™ä¸¤ç§æ–¹æ³•éƒ½å¯ä»¥ï¼Œç»“æœæ˜¯ä¸€æ ·çš„ã€‚ å¦‚æœæ˜¯ (l, r) -\u0026gt; (m, m - 1) æ—¶ï¼Œå¿…é¡»è¦ä½¿ç”¨ ceilï¼Œå¦åˆ™å¾ªç¯æ— æ³•é€€å‡ºã€‚æ¯”å¦‚ l = 0, r = 1, A = [1, 2]ï¼Œ target = 2 æ—¶ï¼Œfloor ä¼šå¯¼è‡´ l ä¸€ç›´è¢«æ›´æ–°ä¸º 0ï¼Œæ— æ³•é€€å‡ºã€‚ å¦‚æœæ˜¯ (l, r) -\u0026gt; (m + 1, m) æ—¶ï¼Œå¿…é¡»è¦ä½¿ç”¨ floorï¼Œå¦åˆ™åŒæ—¶å¾ªç¯æ— æ³•é€€å‡ºã€‚æ¯”å¦‚ l = 0, r = 1, A = [1, 2]ï¼Œtarget = 1 æ—¶ï¼Œceil ä¼šå¯¼è‡´ r ä¸€ç›´è¢«æ›´æ–°æˆ 1ã€‚ æ€»ä¹‹ï¼Œå°±æ˜¯æ›´æ–°ä¸‹è¾¹ç•Œæ›´å¤šæ—¶ï¼Œä½¿ç”¨ floorï¼Œæ›´æ–°ä¸Šè¾¹ç•Œæ›´å¤šæ—¶ï¼Œä½¿ç”¨ ceilã€‚\nå…³äºæº¢å‡º # ä¸Šè¿°ç®—æ³•ä¸­è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œè®¡ç®— mid = floor((L + R) / 2) å­˜åœ¨å¯èƒ½çš„æº¢å‡ºé”™è¯¯ï¼Œè¿™åœ¨ C++ ä¸­æ¯”è¾ƒå¸¸è§ï¼Œæ¯”å¦‚ l = r = 2^31-1ï¼Œç›¸åŠ å°±ä¼šæº¢å‡ºæ•´æ•°èŒƒå›´ï¼\næ­£å¸¸çš„å†™æ³•æ˜¯ï¼š\nmid = l + (r - l) // 2 å¦‚æœæœ‰é‡å¤å…ƒç´  # å¦‚æœåºåˆ—ä¸­å­˜åœ¨é‡å¤å…ƒç´ ï¼Œæ¯”å¦‚ [1, 2, 3, 3, 3, 4, 5]ï¼Œè¦æŸ¥æ‰¾ T = 3ï¼Œå¯èƒ½ä¼šæœ‰å¤šä¸ªç»“æœã€‚\nå¦‚æœåªæ˜¯åˆ¤æ–­ target æ˜¯å¦å­˜åœ¨ï¼Œä¸Šè¿°çš„ç®—æ³•éƒ½æ²¡æœ‰é—®é¢˜ã€‚ä½†æ˜¯å¦‚æœæƒ³æ‰¾åˆ° index æœ€å°æˆ–æœ€å¤§çš„ target ä½ç½®ï¼Œç®—æ³•å°±éœ€è¦åšä¸€äº›ä¿®æ”¹ã€‚\nå‚è€ƒ C++ æ ‡å‡†åº“ä¸­çš„ std::binary_search çš„å®ç°3ï¼š\ntemplate \u0026lt;class ForwardIterator, class T\u0026gt; bool binary_search (ForwardIterator first, ForwardIterator last, const T\u0026amp; val) { first = std::lower_bound(first,last,val); return (first!=last \u0026amp;\u0026amp; !(val\u0026lt;*first)); } è°ƒç”¨äº† std::lower_bound() æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•å°±æ˜¯åœ¨ä¸€ä¸ªåºåˆ—ä¸­æ‰¾å€¼ä¸º val çš„æœ€å° index ä½ç½®ï¼ŒåŒç†è¿˜æœ‰ä¸€ä¸ªæ‰¾æœ€å¤§ index æ–¹æ³•çš„å‡½æ•° std::upper_bound()\ntemplate \u0026lt;class ForwardIterator, class T\u0026gt; ForwardIterator lower_bound (ForwardIterator first, ForwardIterator last, const T\u0026amp; val) { ForwardIterator it; iterator_traits\u0026lt;ForwardIterator\u0026gt;::difference_type count, step; count = distance(first,last); while (count\u0026gt;0) { it = first; step=count/2; advance (it,step); if (*it\u0026lt;val) { // or: if (comp(*it,val)), for version (2) first=++it; count-=step+1; } else count=step; } return first; } template \u0026lt;class ForwardIterator, class T\u0026gt; ForwardIterator upper_bound (ForwardIterator first, ForwardIterator last, const T\u0026amp; val) { ForwardIterator it; iterator_traits\u0026lt;ForwardIterator\u0026gt;::difference_type count, step; count = std::distance(first,last); while (count\u0026gt;0) { it = first; step=count/2; std::advance (it,step); if (!(val\u0026lt;*it)) // or: if (!comp(val,*it)), for version (2) { first=++it; count-=step+1; } else count=step; } return first; } åŒºåˆ«å°±æ˜¯åœ¨æ›´æ–° left = mid + 1 æ—¶ï¼Œå¦‚æœæƒ³å–å·¦è¾¹ç•Œï¼Œæ¡ä»¶æ˜¯ mid \u0026lt; valï¼›å¦‚æœæƒ³å–å³è¾¹ç•Œï¼Œæ¡ä»¶æ˜¯ mid \u0026lt;= valã€‚\nå¤„å¤„æ˜¯å‘ # çŸ¥ä¹æœ‰ä¸€ç¯‡ä¸“æ æ–‡ç« ï¼š\u0026lt;èŠèŠä¸€çœ‹å°±ä¼šä¸€å†™å°±è·ªçš„äºŒåˆ†æŸ¥æ‰¾\u0026gt;è®²äº†äºŒåˆ†ä¸­çš„å„ä¸ªå‘ç‚¹ï¼Œæˆ‘ä»¬é€ä¸€çœ‹ä¸€ä¸‹ï¼š\nfunc FirstGreaterOrEqual(array []int, target int) int { // åˆå§‹åŒ–åŒºé—´å·¦ç«¯ç‚¹ï¼š -1 || 0 || 1 ï¼Ÿ l := 0 // åˆå§‹åŒ–åŒºé—´å³ç«¯ç‚¹ï¼š len(array) - 1 || len(array) || len(array) + 1 ? r := len(array) // å½“åŒºé—´ä¸ä¸ºç©ºæ—¶å¾ªç¯ï¼š l + 1 \u0026lt; r || l \u0026lt; r || l \u0026lt;= r || l \u0026lt;= r + 1 ? for l \u0026lt; r { // è®¡ç®—åŒºé—´ä¸­ç‚¹ï¼š l + (r - l) / 2 || l + (r - l + 1) / 2 ? m := l + (r - l) / 2 // å°†ä¸­ç‚¹å¯¹åº”çš„å…ƒç´ åŒtargetæ¯”è¾ƒï¼š \u0026gt; || \u0026gt;= || \u0026lt; || \u0026lt;= ? if array[m] \u0026lt; target { // ç»§ç»­æŸ¥æ‰¾å³ä¾§è¿™ä¸€åŠï¼š m - 1 || m || m + 1 ? l = m + 1 } else { // ç»§ç»­æŸ¥æ‰¾å·¦ä¾§è¿™ä¸€åŠï¼š m - 1 || m || m + 1 ? r = m } } // è¿™é‡Œåº”è¯¥æ˜¯ l - 1 || l || l + 1 ? // è¿™é‡Œåº”è¯¥æ˜¯ r - 1 || r || r + 1 ? return l } è¿™æ˜¯ä¸€æ®µ go è¯­è¨€ä»£ç ï¼Œä¸è¿‡ä¸å½±å“ç†è§£å®ƒçš„é€»è¾‘ï¼Œå…¶å®å®ƒå°±æ˜¯åœ¨ array ä¸­æ‰¾ target çš„å·¦è¾¹ç•Œã€‚\næ¥ä¸€ä¸€è§£é‡Šä½œè€…æå‡ºçš„è¿™äº›å‘ï¼š\nåŒºé—´å·¦ç«¯ç‚¹ l = 0 æˆ–è€…å…¶ä»–ï¼Ÿ\nåŒºé—´å³ç«¯ç‚¹ r = len(array) è¿˜æ˜¯ len(array) - 1ï¼Ÿ\nè¿™ä¸¤ä¸ªæ˜¯ä¸€ä¸ªé—®é¢˜ï¼Œæ•´ä¸ªåŒºé—´æœ‰å››ç§çŠ¶æ€ (l, r) [l, r] (l, r] [l, r]\nå¯¹äºæ•°ç»„ä» 0 å¼€å§‹çš„è¯­è¨€ï¼Œå·¦é—­åŒºé—´æ˜¯åˆé€‚çš„ã€‚\nå³å¼€å³é—­éƒ½æ˜¯å¯è¡Œçš„ï¼Œåªéœ€è¦åœ¨å¾ªç¯åˆ¤æ–­æ—¶åšä¸€ä¸‹è°ƒæ•´\n[l, r] -\u0026gt; l \u0026lt; r + 1 [l, r) -\u0026gt; l \u0026lt; r ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬éƒ½ä¼šé€‰æ‹© l = 0 \u0026amp; [l, r) è¿™ç§ç»„åˆã€‚\nå¾ªç¯ç»“æŸæ¡ä»¶æ˜¯ \u0026lt; è¿˜æ˜¯ \u0026lt;= è¿˜æ˜¯ != \u0026lt; å’Œ != éƒ½å¯ä»¥ï¼Œå¯¹äºéé€’å‡åºåˆ—æ¥è¯´ï¼Œä¸€èˆ¬ç”¨ \u0026lt;ã€‚\nå¦‚æœ l = r æ—¶ï¼Œä»ç„¶è¿›å…¥å¾ªç¯ï¼ŒåŒæ—¶å¦‚æœ array[l] \u0026gt;= targetï¼Œä¼šå¯¼è‡´å¾ªç¯æ— æ³•é€€å‡ºã€‚\nåŒºé—´ä¸­é—´è®¡ç®— l + (r - l + 1) / 2 è¿™å°±å±äºæ˜¯ ceil æ“ä½œã€‚è¿™ä¸ªåœ¨å‰é¢ä¹Ÿè§£é‡Šè¿‡ï¼Œä¸å†èµ˜è¿°ã€‚\nåˆ¤æ–­æ¡ä»¶ åŒæ ·çš„ï¼Œå–å†³äºé—®é¢˜æ˜¯å–æœ€å·¦è¾¹çš„ä½ç½®è¿˜æ˜¯æœ€å³è¾¹çš„ï¼Œä¸Šä¸€èŠ‚ä¹Ÿè§£é‡Šè¿‡ã€‚\nè¿”å›å€¼ ç»“æŸæ¡ä»¶æ˜¯ l == rï¼Œæ‰€ä»¥è¿”å› l æ²¡æœ‰é—®é¢˜ã€‚ä½†æ˜¯è¿™ä¸ªä½ç½®å¹¶ä¸ä¸€å®šèƒ½æ»¡è¶³ array[l] == targetï¼Œç”šè‡³äºå¯èƒ½è¶Šç•Œã€‚\nè¿”å›å€¼ l è¡¨ç¤ºï¼š[0, l) ä½ç½®éƒ½æ˜¯å°äº target çš„ï¼Œè€Œ [l, len) åˆ™æ˜¯å¤§äºç­‰äº target çš„ã€‚è¿™é‡Œ l å¯èƒ½ç­‰äº len (è¶Šç•Œ)ã€‚\næ‰€ä»¥åœ¨ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾ï¼Œæ¥åˆ¤æ–­ target æ˜¯å¦å­˜åœ¨æ—¶ï¼Œè¦æ³¨æ„åˆ¤æ–­æ˜¯å¦è¶Šç•Œã€‚\nä½œè€…æœ€åç»™äº†ä¸€ç§é€šç”¨è§£å†³æ–¹æ¡ˆï¼Œå°†åˆ¤æ–­é€»è¾‘å˜æˆä¸€ä¸ªé—­åŒ…æ–¹æ³•ä½œä¸ºå‚æ•°ä¼ å…¥ï¼Œè¿™æ ·å°±å¯ä»¥å¾—å‡ºå¤šä¸ªäºŒåˆ†å˜ç§é—®é¢˜çš„è§£æ³•ã€‚\næ€»ä¹‹ï¼Œè®°æ¨¡æ¿ # å¯è§ï¼Œæƒ³å†™å¯¹äºŒåˆ†ä¸å®¹æ˜“ï¼Œé‚£ä¹ˆæˆ‘ä»¬åªè®°ä¸€ç§æ­£ç¡®çš„å†™æ³•ï¼Œå½’çº³æˆæ¨¡æ¿å³å¯\n# template def _bsearch(a: List[int], x: int, l: int = 0, r: int = None) -\u0026gt; int: r = r or len(a) while l \u0026lt; r: m = l + (r - l) // 2 if a[m] \u0026lt; x: l = m + 1 else: r = m return l Wikipedia\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttps://en.wikipedia.org/wiki/Binary_search_algorithm\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttp://www.cplusplus.com/reference/algorithm/binary_search/\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"March 8 2022","permalink":"/leetcode/base/binary-search/","section":"ç®—æ³•ä¸“æ ","summary":"\u003cp\u003e\n\n\n\n  \u003cfigure\u003e\n    \u003cimg class=\"my-0 rounded-md\" src=\"https://ryder-1252249141.cos.ap-shanghai.myqcloud.com/uPic/2022-04-07-search.jpg\" alt=\"\" /\u003e\n    \n  \u003c/figure\u003e\n\n\u003c/p\u003e\n\u003cp\u003eâ€œäºŒåˆ†â€æŸ¥æ‰¾æ˜¯ä¸€ç§éå¸¸å¸¸ç”¨çš„ç®—æ³•ã€‚æœ€åçš„æƒ…å†µä¸‹æ—¶é—´å¤æ‚åº¦ä¹Ÿæ˜¯ \u003ccode\u003eO(log n)\u003c/code\u003eï¼Œç©ºé—´å¤æ‚åº¦ \u003ccode\u003eO(1)\u003c/code\u003eï¼Œç›¸æ¯”çº¿æ€§æœç´¢ä¼˜ç§€å¤ªå¤šã€‚\u003c/p\u003e\n\u003cp\u003eä½†æ˜¯è¦â€œå†™å¯¹â€ï¼Œå¹¶ä¸å®¹æ˜“ï¼Œ1988 å¹´ä¸€é¡¹è°ƒæŸ¥å‘ç°ï¼ŒäºŒåæœ¬ä¸“ä¸šä¹¦ç±ä¸­ä»…æœ‰äº”æœ¬\u003csup id=\"fnref:1\"\u003e\u003ca href=\"#fn:1\" class=\"footnote-ref\" role=\"doc-noteref\"\u003e1\u003c/a\u003e\u003c/sup\u003eèƒ½å‡†ç¡®å†™å¯¹â€œäºŒåˆ†â€æŸ¥æ‰¾ã€‚\u003c/p\u003e","title":"å¾ˆéš¾å†™âŒœæ­£ç¡®âŒŸçš„äºŒåˆ†æŸ¥æ‰¾"},{"content":"è·å– Class å¯¹è±¡çš„æ–¹æ³•æœ‰å¾ˆå¤šï¼Œæœ¬æ–‡ä¸»è¦æ˜¯æ”¶é›†æ•´ç†å®ƒä»¬çš„åŒºåˆ«ä»¥åŠæ¢ç©¶å…·ä½“çš„å®ç°ã€‚\nclass æ–¹æ³• # æœ‰ä¸¤ç§ class æ–¹æ³•ï¼Œä¸€ä¸ªæ˜¯å®ä¾‹æ–¹æ³•ï¼Œä¸€ä¸ªæ˜¯ç±»æ–¹æ³•ï¼š\n@interface NSObject \u0026lt;NSObject\u0026gt; - (Class)class OBJC_SWIFT_UNAVAILABLE(\u0026#34;use \u0026#39;type(of: anObject)\u0026#39; instead\u0026#34;); + (Class)class OBJC_SWIFT_UNAVAILABLE(\u0026#34;use \u0026#39;aClass.self\u0026#39; instead\u0026#34;); @end æŸ¥çœ‹ runtime çš„æºç ï¼šNSObject.mm\nå¯ä»¥çœ‹åˆ°å®ƒä»¬çš„å®ç°ï¼š\n+ (id)self { return (id)self; } - (id)self { return self; } + (Class)class { return self; } - (Class)class { return object_getClass(self); } æ‰€ä»¥ï¼Œè¯´ç»™ç±»å¯¹è±¡å‘ class æ¶ˆæ¯ï¼Œå¾—åˆ°çš„æ˜¯ç±»æœ¬èº« selfï¼Œä¹Ÿå°±æ˜¯\n[NSObject class] == [NSObject self]\nç»™å®ä¾‹å¯¹è±¡å‘ class æ¶ˆæ¯ï¼Œç›¸å½“äºè°ƒç”¨äº† object_getClass\nobject_getClass # é‚£ä¹ˆè¿™ä¸ªæ–¹æ³•çš„å®ç°æ˜¯æ€ä¹ˆæ ·çš„å‘¢ï¼Ÿ\nåŒæ ·æŸ¥çœ‹ runtime æºç ï¼šobjc-class.mm\nClass _Nullable object_getClass(id _Nullable obj)\nClass object_getClass(id obj) { if (obj) return obj-\u0026gt;getIsa(); else return Nil; } è°ƒç”¨äº† ç±»çš„ getIsa() æ–¹æ³•\n// objc-object.h\ninline Class objc_object::getIsa() { if (!isTaggedPointer()) return ISA(); uintptr_t ptr = (uintptr_t)this; if (isExtTaggedPointer()) { uintptr_t slot = (ptr \u0026gt;\u0026gt; _OBJC_TAG_EXT_SLOT_SHIFT) \u0026amp; _OBJC_TAG_EXT_SLOT_MASK; return objc_tag_ext_classes[slot]; } else { uintptr_t slot = (ptr \u0026gt;\u0026gt; _OBJC_TAG_SLOT_SHIFT) \u0026amp; _OBJC_TAG_SLOT_MASK; return objc_tag_classes[slot]; } } objc_getClass # è¿™ä¸ªæ–¹æ³•å’Œä¸Šé¢çš„ object_getClass é•¿å¾—å¾ˆåƒï¼Œä½†è¿˜æ˜¯æœ‰ä¸€äº›åŒºåˆ«ï¼š\nå‚æ•°ä¸ä¸€æ ·ï¼Œä¸€ä¸ªæ˜¯ idï¼Œä¸€ä¸ªæ˜¯ const char *ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªä¼ å…¥æ˜¯ä¸ªç±»å¯¹è±¡ï¼Œä¸€ä¸ªæ˜¯ç±»å\nå®ç°ä¸ä¸€æ ·ï¼Œä¸€ä¸ªè°ƒç”¨çš„æ˜¯ obj-\u0026gt;getIsa()ï¼Œä¸€ä¸ªè°ƒç”¨çš„æ˜¯ loop_up_class()\n// objc-runtime.mm\nClass objc_getClass(const char *aClassName) { if (!aClassName) return Nil; // NO unconnected, YES class handler return look_up_class(aClassName, NO, YES); } è°ƒç”¨äº† look_up_class:\n// objc-runtime-new.mm\nClass look_up_class(const char *name, bool includeUnconnected __attribute__((unused)), bool includeClassHandler __attribute__((unused))) { if (!name) return nil; Class result; bool unrealized; { runtimeLock.lock(); result = getClassExceptSomeSwift(name); unrealized = result \u0026amp;\u0026amp; !result-\u0026gt;isRealized(); if (unrealized) { result = realizeClassMaybeSwiftAndUnlock(result, runtimeLock); // runtimeLock is now unlocked } else { runtimeLock.unlock(); } } if (!result) { // Ask Swift about its un-instantiated classes. // We use thread-local storage to prevent infinite recursion // if the hook function provokes another lookup of the same name // (for example, if the hook calls objc_allocateClassPair) auto *tls = _objc_fetch_pthread_data(true); // Stop if this thread is already looking up this name. for (unsigned i = 0; i \u0026lt; tls-\u0026gt;classNameLookupsUsed; i++) { if (0 == strcmp(name, tls-\u0026gt;classNameLookups[i])) { return nil; } } // Save this lookup in tls. if (tls-\u0026gt;classNameLookupsUsed == tls-\u0026gt;classNameLookupsAllocated) { tls-\u0026gt;classNameLookupsAllocated = (tls-\u0026gt;classNameLookupsAllocated * 2 ?: 1); size_t size = tls-\u0026gt;classNameLookupsAllocated * sizeof(tls-\u0026gt;classNameLookups[0]); tls-\u0026gt;classNameLookups = (const char **) realloc(tls-\u0026gt;classNameLookups, size); } tls-\u0026gt;classNameLookups[tls-\u0026gt;classNameLookupsUsed++] = name; // Call the hook. Class swiftcls = nil; if (GetClassHook.get()(name, \u0026amp;swiftcls)) { ASSERT(swiftcls-\u0026gt;isRealized()); result = swiftcls; } // Erase the name from tls. unsigned slot = --tls-\u0026gt;classNameLookupsUsed; ASSERT(slot \u0026gt;= 0 \u0026amp;\u0026amp; slot \u0026lt; tls-\u0026gt;classNameLookupsAllocated); ASSERT(name == tls-\u0026gt;classNameLookups[slot]); tls-\u0026gt;classNameLookups[slot] = nil; } return result; } NSClassFromString # è¿™ä¸ªåœ¨ Foundation.framework ä¸­çš„å®ç°ï¼Œå¹¶æ²¡æœ‰å¼€æºï¼Œ\nå‡½æ•°åŸå‹æ˜¯\nFOUNDATION_EXPORT Class _Nullable NSClassFromString(NSString *aClassName); ä¸ objc_getClass å‚æ•°ä¸€æ ·ï¼Œä¼ å…¥ Class çš„åå­—ï¼Œè¿”å› Class åœ°å€ã€‚\næœ‰å¤§ä½¬é€šè¿‡ç ”ç©¶æ±‡ç¼–åˆ†æå‡ºå®ƒçš„å…·ä½“å®ç°ï¼šä»æ±‡ç¼–ä»£ç æ¢ç©¶ NSClassFromString å®ç°\næœ€å # éªŒè¯ä¸€ä¸‹ï¼š\nStudent *stu = [Student new]; Class cls = [stu class]; NSLog(@\u0026#34;%p %p %p %p %p\u0026#34;, cls, [Student class], objc_getClass(\u0026#34;Student\u0026#34;), object_getClass(stu), NSClassFromString(@\u0026#34;Student\u0026#34;)); 0x10000e7b8 0x10000e7b8 0x10000e7b8 0x10000e7b8 0x10000e7b8 å¯ä»¥çœ‹å‡ºæ¥ï¼Œè¿™å‡ ç§æ–¹æ³•æ‹¿åˆ°çš„ç»“æœæ˜¯ä¸€æ ·çš„ã€‚\n","date":"February 23 2022","permalink":"/posts/2022/get-class/","section":"ç¢è¯­é—²è¨€","summary":"\u003cp\u003eè·å– \u003ccode\u003eClass\u003c/code\u003e å¯¹è±¡çš„æ–¹æ³•æœ‰å¾ˆå¤šï¼Œæœ¬æ–‡ä¸»è¦æ˜¯æ”¶é›†æ•´ç†å®ƒä»¬çš„åŒºåˆ«ä»¥åŠæ¢ç©¶å…·ä½“çš„å®ç°ã€‚\u003c/p\u003e","title":"[Runtime] è·å– OC Class å¯¹è±¡"},{"content":" Meta è¿™ä¸ªè¯åœ¨ 2021 å¹´ä¸‹åŠå¹´å¼€å§‹ç«çˆ†ï¼Œè€Œå Facebook æ”¹å Meta å¼•å‘å„å¤§ç§‘æŠ€å…¬å¸è·Ÿé£æŠ¼æ³¨ã€‚ä¼¼ä¹å…¨çƒèµ„æœ¬éƒ½åœ¨è¿½é€â€œå…ƒå®‡å®™â€çš„æ¦‚å¿µï¼Œä½†ä»€ä¹ˆæ˜¯â€œå…ƒå®‡å®™â€ï¼Œå„å®¶æœ‰å„å®¶çš„è¯´æ³•ï¼Œæ²¡æœ‰ä¸€ä¸ªç»Ÿä¸€çš„æ ‡å‡†ã€‚\næˆ‘ä¸ªäººæ„Ÿè§‰ï¼Œå…ƒå®‡å®™å°±æ˜¯ä¸ªä¼ªæ¦‚å¿µã€‚é™¤äº†ä¸€å †è·Ÿé£ç‚’æ¦‚å¿µå‡†å¤‡å‰²éŸ­èœçš„è€åº„å®¶å’Œå¼•é¢ˆå¾…æ”¶å‰²çš„éŸ­èœå¤–ï¼Œå„ä¸ªå…¬å¸åœ¨åšçš„ä¸â€œå…ƒå®‡å®™â€ç›¸å…³çš„äº‹ï¼Œä¼¼ä¹éƒ½æ˜¯ä¸€äº›â€œå¤å¤ç½‘ç»œæ¸¸æˆâ€ã€‚\nå†å²æ˜¯ä¸€ä¸ªè½®å›ï¼Œå”¯æœ‰èµ„æœ¬é€åˆ©æ˜¯æ°¸æ’çš„ã€‚ä¸ªäººæ–­è¨€ï¼Œä¸å‡ºä¸‰å¹´ï¼Œè¿™ä¸ªæ¦‚å¿µåº”è¯¥å°±ä¸ä¼šæœ‰äººæäº†ï¼Œä¸€å¦‚ VR çš„å–§åš£ä¸æ²‰å¯‚ã€‚\nMeta çš„èµ·æº # ä»¥ä¸Šåªæ˜¯ä¸ªå¼•å­ï¼Œä¸æœ¬æ–‡æ— å…³ (ç”Ÿç¡¬çš„è½¬æŠ˜ ğŸ˜…\næœ¬æ–‡ç»§ç»­è®¨è®º Runtimeï¼Œèšç„¦ OC ä¸­çš„ MetaClassã€‚\nä¸€å›¾èƒœåƒè¨€ï¼Œå¼•ç”¨ Runtime å·¥ç¨‹å¸ˆ Greg Parker åœ¨å…¶åšå®¢ä¸­ç»™å‡ºçš„ç»å…¸å›¾\nä¸ºä»€ä¹ˆè¦è¿™ä¹ˆè®¾è®¡ # ç”±äº OC æ˜¯ Smalltalk è¯­è¨€å“²å­¦çš„ä¸€ç§å®è·µï¼Œâ€œåœ¨ Smalltalk ä¸­ï¼Œæ‰€æœ‰çš„å€¼éƒ½æ˜¯å¯¹è±¡â€ã€‚å› æ­¤ä¸€ä¸ªå®ä¾‹æ˜¯å¯¹è±¡ï¼Œå®ƒçš„ç±»ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚\nå®ä¾‹ä¸­çš„ isa æŒ‡é’ˆæŒ‡å‘äº†å®ƒçš„ç±»å¯¹è±¡ï¼Œé‚£ä¹ˆç±»å¯¹è±¡çš„ isa æŒ‡é’ˆæŒ‡å‘è°å‘¢ï¼Ÿâ€”â€” æŒ‡å‘å®ƒçš„å…ƒç±»å¯¹è±¡ MetaClassï¼\nSince a class is an object, it must be an instance of some other class: a metaclass. 1\né‚£ä¹ˆèƒ½ä¸èƒ½ä¸è¿™ä¹ˆè®¾è®¡å‘¢ï¼Ÿ\nå½“ç„¶èƒ½ï¼Œä½†æ˜¯è¿™æ ·å°±ä¸é‚£ä¹ˆ â€œSmalltalkâ€ äº†ã€‚é Smalltalk è¯­è¨€å¦‚ C++ï¼Œä¸ OC çš„ä¸€ä¸ªé‡è¦åŒºåˆ«æ˜¯ï¼š\nC++ æ”¯æŒå¤šé‡ç»§æ‰¿\nMeta ä¸ ç»§æ‰¿å…³ç³» # å®šä¹‰ä¸€å¯¹çˆ¶ç±»ä¸å­ç±»ï¼š\n@interface Person : NSObject @end @interface Student : Person @end isa é“¾ # å®šä¹‰ä¸€ä¸ªå­ç±»çš„å®ä¾‹ Student *stuï¼Œæ ¹æ®ä¹‹å‰çš„æ–‡ç«  class-object-isaï¼Œå®ä¾‹æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª objc_object ç»“æ„ä½“ï¼Œå†…éƒ¨å­˜åœ¨ä¸€ä¸ª isa æŒ‡é’ˆï¼ŒæŒ‡å‘çš„æ˜¯ Student è¿™ä¸ªç±»å¯¹è±¡ã€‚\nè€Œç±»å¯¹è±¡ Student æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª objc_class ç»“æ„ä½“ï¼Œç»§æ‰¿è‡ª objc_objectï¼Œæ‰€ä»¥å†…éƒ¨ä¹Ÿæœ‰ä¸€ä¸ª isa æŒ‡é’ˆï¼Œç±»å¯¹è±¡çš„ isa æŒ‡é’ˆæŒ‡å‘çš„æ˜¯å®ƒçš„å…ƒç±»å¯¹è±¡ã€‚\næ‰€ä»¥ï¼Œè¿™æ¡é“¾ï¼Œä¹Ÿå°±æ˜¯ä¸Šå›¾ä¸­æœ€ä¸‹é¢ä¸€è¡Œè™šçº¿æ‰€ç¤ºï¼š\nå®ä¾‹ \u0026ndash;\u0026gt; ç±» \u0026ndash;\u0026gt; å…ƒç±»\né‚£ä¹ˆå…ƒç±»çš„ isa åˆæŒ‡å‘è°å‘¢ï¼Œå›¾ä¸­æ˜¾ç¤ºçš„æ˜¯ æ ¹å…ƒç±»ï¼Œé€šè¿‡ä»£ç æ¥è·å–ä¸€ä¸‹è¿™æ¡é“¾ï¼š\nStudent *stu = [Student new]; NSLog(@\u0026#34;Student instance addr: %p\u0026#34;, stu); Class cls = [stu class]; NSLog(@\u0026#34;Student class addr: %p\u0026#34;, cls); id rootMetaClass = nil; while (cls) { NSLog(@\u0026#34;isa: %s addr: %p\u0026#34;, object_getClassName(cls), cls); Class tmp = object_getClass(cls); if (tmp == cls) { rootMetaClass = cls; break; } cls = tmp; } NSLog(@\u0026#34;root MetaClass: %p\u0026#34;, rootMetaClass); \u0026ndash;\u0026gt;\nStudent instance addr: 0x100668810 Student class addr: 0x10000e7b8 isa: Student addr: 0x10000e7b8 isa: NSObject addr: 0x10000e790 isa: NSObject addr: 0x7fff806e7060 root MetaClass: 0x7fff806e7060 å¯ä»¥çœ‹å‡ºæ¥ï¼Œå…ƒç±»å¯¹è±¡æœ€ç»ˆæŒ‡å‘çš„æ˜¯æ ¹å…ƒç±»å¯¹è±¡ï¼Œä½†å®ƒçš„åå­—ä¹Ÿå« NSObjectï¼ŒåŒæ—¶æ ¹å…ƒç±»çš„ isa æ˜¯æŒ‡å‘è‡ªèº«çš„ï¼Œæ‰€ä»¥æœ€ç»ˆå½¢æˆäº†é—­ç¯ã€‚\nå®ä¾‹ \u0026ndash;\u0026gt; ç±» \u0026ndash;\u0026gt; å…ƒç±» \u0026ndash;\u0026gt; æ ¹å…ƒç±» â†©ï¸\nç»§æ‰¿é“¾ # å†æ¥çœ‹ä¸€ä¸‹ç»§æ‰¿å…³ç³»ï¼Œ\nClass cls = [stu class]; id rootClass = nil; while (cls) { NSLog(@\u0026#34;class: %s addr: %p\u0026#34;, object_getClassName(cls), cls); if (!class_getSuperclass(cls)) { rootClass = cls; } cls = class_getSuperclass(cls); } NSLog(@\u0026#34;rootClass: %p\u0026#34;, rootClass); \u0026ndash;\u0026gt;\nclass: Student addr: 0x10000e7b8 class: Person addr: 0x10000e768 class: NSObject addr: 0x7fff806e7088 rootClass: 0x7fff806e7088 ç»§æ‰¿é“¾æ¯”è¾ƒç®€å•ï¼š\nå­ç±» -\u0026gt; çˆ¶ç±» -\u0026gt; æ ¹ç±» -\u0026gt; nil\nå¯ä»¥çœ‹å‡ºæ¥æ ¹ç±»æ²¡æœ‰çˆ¶ç±»ï¼Œé¡ºä¾¿æˆ‘ä»¬çœ‹ä¸€ä¸‹æ ¹ç±»çš„ isa æŒ‡å‘å“ªé‡Œï¼Ÿ\nNSLog(@\u0026#34;rootClass\u0026#39;isa: %p\u0026#34;, object_getClass(rootClass)); // rootClass\u0026#39;isa: 0x7fff806e7060 åœ°å€ 0x7fff806e7060 ä¸å‰é¢æ ¹å…ƒç±» rootMetaClass ä¸€æ ·ï¼Œè¿™ä¹Ÿè¯å®äº† æ ¹ç±» --\u0026gt; æ ¹å…ƒç±»ã€‚\nobjc_explain_Classes_and_metaclasses\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"February 14 2022","permalink":"/posts/2022/meta-class/","section":"ç¢è¯­é—²è¨€","summary":"\u003cp\u003e\n\n\n\n  \u003cfigure\u003e\n    \u003cimg class=\"my-0 rounded-md\" src=\"https://ryder-1252249141.cos.ap-shanghai.myqcloud.com/uPic/2022-04-07-meta.jpg\" alt=\"\" /\u003e\n    \n  \u003c/figure\u003e\n\n\u003c/p\u003e\n\u003cp\u003eMeta è¿™ä¸ªè¯åœ¨ 2021 å¹´ä¸‹åŠå¹´å¼€å§‹ç«çˆ†ï¼Œè€Œå Facebook æ”¹å Meta å¼•å‘å„å¤§ç§‘æŠ€å…¬å¸è·Ÿé£æŠ¼æ³¨ã€‚ä¼¼ä¹å…¨çƒèµ„æœ¬éƒ½åœ¨è¿½é€â€œå…ƒå®‡å®™â€çš„æ¦‚å¿µï¼Œä½†ä»€ä¹ˆæ˜¯â€œå…ƒå®‡å®™â€ï¼Œå„å®¶æœ‰å„å®¶çš„è¯´æ³•ï¼Œæ²¡æœ‰ä¸€ä¸ªç»Ÿä¸€çš„æ ‡å‡†ã€‚\u003c/p\u003e","title":"[Runtime] ä» Meta è¯´èµ·"},{"content":"ä½œä¸º Runtime ç³»åˆ—çš„ç¬¬ä¸€ç¯‡åšæ–‡ï¼ˆä¹Ÿæ˜¯ 2022 å¹´ç¬¬ä¸€ç¯‡ï¼‰ï¼Œå…ˆä»æœ€åŸºç¡€çš„å¯¹è±¡ã€ç±»å¼€å§‹å­¦ä¹ ã€‚\nå‚è€ƒ OC ç¼–è¯‘è¿‡ç¨‹ æˆ‘ä»¬å¯ä»¥å€ŸåŠ© clang å·¥å…·å°† OC æºç é¢„å¤„ç†æˆ CPP æ¥çª¥æ¢ OC çš„å†…éƒ¨å®ç°ã€‚\nå®šä¹‰ä¸€ä¸ªç®€å•çš„ç±»ï¼š\n@interface Foo : NSObject @property (nonatomic, assign) BOOL ppty1; @property (nonatomic, copy) NSString *ppty2; - (BOOL)iMethod1; - (void)iMethod2:(NSString *)p1; + (void)cMethod1; @end é€šè¿‡å‘½ä»¤ clang -rewrite-objc xx.m å¾—åˆ°ä¸€ä¸ª 9 ä¸‡å¤šè¡Œçš„ cpp æ–‡ä»¶ ğŸ˜±\nhttps://gist.github.com/ryderfang/75a852f1ae0961aeea97127f7d9ca6c5\nTL;DR # å¤ªé•¿ä¸çœ‹ç‰ˆï¼š\nğŸ§¸ objc_object æ˜¯æ‰€æœ‰å®ä¾‹å¯¹è±¡çš„åº•å±‚ç»“æ„ï¼Œå†…éƒ¨åªæœ‰ä¸€ä¸ª isa\nğŸ objc_class æ˜¯æ‰€æœ‰ç±»/å…ƒç±»å¯¹è±¡çš„åº•å±‚ç»“æ„ï¼Œå®ƒä¹Ÿæœ‰ä¸€ä¸ª isa æŒ‡é’ˆï¼ŒæŒ‡å‘è‡ªå·±çš„å…ƒç±»\nOC 1.0 OC 2.0 id å®ä¾‹ typedef struct objc_object *id; typedef struct objc_object *id; objc_object struct objc_object {} struct objc_object {} Class ç±» typedef struct objc_class *Class; typedef struct objc_class *Class; objc_class struct objc_class {} struct objc_class : objc_object {} Class æ˜¯ä»€ä¹ˆ # Class 1.0 # åœ¨ \u0026lt;objc/objc.h\u0026gt; ä¸­æœ‰è¿™æ ·ä¸€è¡Œï¼š\ntypedef struct objc_class *Class;\nåœ¨ iOS 15 ä¹‹å‰ \u0026lt;objc/runtime.h\u0026gt; ä¸­æ›¾ç»æœ‰ objc_class çš„å®šä¹‰ï¼š\nhttps://opensource.apple.com/source/objc4/objc4-750/runtime/runtime.h.auto.html\n/* Types */ #if !OBJC_TYPES_DEFINED struct objc_class { Class _Nonnull isa OBJC_ISA_AVAILABILITY; #if !__OBJC2__ Class _Nullable super_class OBJC2_UNAVAILABLE; const char * _Nonnull name OBJC2_UNAVAILABLE; long version OBJC2_UNAVAILABLE; long info OBJC2_UNAVAILABLE; long instance_size OBJC2_UNAVAILABLE; struct objc_ivar_list * _Nullable ivars OBJC2_UNAVAILABLE; struct objc_method_list * _Nullable * _Nullable methodLists OBJC2_UNAVAILABLE; struct objc_cache * _Nonnull cache OBJC2_UNAVAILABLE; struct objc_protocol_list * _Nullable protocols OBJC2_UNAVAILABLE; #endif } OBJC2_UNAVAILABLE; /* Use `Class` instead of `struct objc_class *` */ #endif ç›®å‰æˆ‘ä½¿ç”¨çš„ Xcode 13.2.1 ä¸­å·²ç»æ‰¾ä¸åˆ°è¿™ä¸ªå®šä¹‰ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨ macOS 12.1 / iOS 15.2 ä¸­ï¼ŒOBJC1 å·²ç»è¢«å®Œå…¨åºŸå¼ƒã€‚\nHint: æŒ‰ç…§å®˜æ–¹æ–‡æ¡£ Runtime Version çš„è§£é‡Š, legacy ç‰ˆæœ¬ (OC 1.0) åœ¨ 2007 å¹´å°±å®Œå…¨åºŸå¼ƒäº†ï¼Œæ‰€æœ‰ iPhone å’Œ OSX 10.5 ä»¥åçš„ Mac ä¸Šä½¿ç”¨çš„éƒ½æ˜¯ modern ç‰ˆæœ¬ (OC 2.0)!\næ ¹æ® wiki çš„è¯´æ˜ï¼ŒOC 2.0 äº 2006 å¹´å‘å¸ƒï¼Œè€Œ iPhone ç¬¬ä¸€ä»£ æ˜¯åœ¨ 2007 å¹´å‘å¸ƒçš„ï¼ŒMac OS X 10.5 Leopard ä¹Ÿæ˜¯åœ¨ 2007 å¹´ä¸Šå¸‚ã€‚\nä»è¿™ä¸ªå® OBJC2_UNAVAILABLE å¯ä»¥çœ‹å‡ºæ¥ OBJC2 è¿™ç§å®šä¹‰ä¼šå¤±æ•ˆã€‚é‚£ä¹ˆ OBJC2 æ˜¯ä»€ä¹ˆï¼Ÿ\nClass 2.0 # åœ¨ objc-runtime-new.h ä¸­å®šä¹‰äº† objc_class çš„ 2.0 ç‰ˆæœ¬ï¼š\nstruct objc_class : objc_object { // Class ISA; Class superclass; cache_t cache; // formerly cache pointer and vtable class_data_bits_t bits; // class_rw_t * plus custom rr/alloc flags class_rw_t *data() { return bits.data(); } ... } å‚è€ƒ 1 å’Œ 2\näº†è§£åˆ°ï¼Œè‹¹æœåœ¨ 2006 å¹´é‡å†™äº† runtimeï¼Œå‘å¸ƒäº†æ–°çš„ Runtime 2.0ï¼Œé‚£ä¹ˆ __OBJC2__ è¿™ä¸ªå®æ˜¯ä»€ä¹ˆæ—¶å€™ç”Ÿæ•ˆçš„å‘¢ï¼Ÿ\né€šè¿‡æŸ¥æ‰¾è‹¹æœå…¬å¼€çš„ runtime æºç ï¼šhttps://opensource.apple.com/source/objc4/ å‘ç°ï¼š\nä» objc4-750 è¿™ä¸ªç‰ˆæœ¬å¼€å§‹ï¼Œåœ¨ objc-config.h ä¸­å¼€å§‹æœ‰äº† __OBJC2__ çš„å®šä¹‰ï¼\n// Define __OBJC2__ for the benefit of our asm files. #ifndef __OBJC2__ # if TARGET_OS_OSX \u0026amp;\u0026amp; !TARGET_OS_IOSMAC \u0026amp;\u0026amp; __i386__ // old ABI # else # define __OBJC2__ 1 # endif #endif æ¥è‡ª apple çš„ commitï¼š\nhttps://github.com/apple-oss-distributions/objc4/commit/26c7408b94ead1f04a0b5976e354a03966ce61ea\nåœ¨ objc-api.h ä¸­å®šä¹‰äº† OBJC_ISA_AVAILABILITY:\n/* OBJC_ISA_AVAILABILITY: `isa` will be deprecated or unavailable * in the future */ #if !defined(OBJC_ISA_AVAILABILITY) # if __OBJC2__ # define OBJC_ISA_AVAILABILITY __attribute__((deprecated)) # else # define OBJC_ISA_AVAILABILITY /* still available */ # endif #endif åœ¨ objc-private.h ä¸­åŒæ—¶å®šä¹‰äº† OBJC_TYPES_DEFINED:\n/* Isolate ourselves from the definitions of id and Class in the compiler * and public headers. */ #ifdef _OBJC_OBJC_H_ #error include objc-private.h before other headers #endif #define OBJC_TYPES_DEFINED 1 åŒæ—¶ä¹Ÿå®šä¹‰äº† Class å’Œ id\ntypedef struct objc_class *Class; typedef struct objc_object *id; æ‰€ä»¥ï¼Œä¸ç®¡ OC 1.0 è¿˜æ˜¯ 2.0ï¼Œ\nClass éƒ½æ˜¯ä¸€ä¸ªå« objc_class çš„ç»“æ„ä½“æŒ‡é’ˆã€‚\nObject ä¸ id # åœ¨ \u0026lt;objc/objc.h\u0026gt; ä¸­ï¼Œå®šä¹‰\nhttps://opensource.apple.com/source/objc4/objc4-750/runtime/objc.h.auto.html\nObject 1.0 # #if !OBJC_TYPES_DEFINED /// An opaque type that represents an Objective-C class. typedef struct objc_class *Class; /// Represents an instance of a class. struct objc_object { Class _Nonnull isa OBJC_ISA_AVAILABILITY; }; /// A pointer to an instance of a class. typedef struct objc_object *id; #endif åŒæ ·è¢«åŒ…åœ¨ OBJC_TYPES_DEFINED å®ä¸­ï¼Œä¹Ÿå°±æ˜¯ OC 2.0 å¹¶ä¸ç”Ÿæ•ˆã€‚\né‚£ä¹ˆï¼ŒOC 2.0 çš„ objc_object æ˜¯ä»€ä¹ˆæ ·çš„å‘¢ï¼Œåœ¨ objc-private.h ä¸­å®šä¹‰äº†ï¼š\nObject 2.0 # struct objc_object { private: isa_t isa; public: // ISA() assumes this is NOT a tagged pointer object Class ISA(); // initIsa() should be used to init the isa of new objects only. // If this object already has an isa, use changeIsa() for correctness. // initInstanceIsa(): objects with no custom RR/AWZ // initClassIsa(): class objects // initProtocolIsa(): protocol objects // initIsa(): other objects void initIsa(Class cls /*nonpointer=false*/); void initClassIsa(Class cls /*nonpointer=maybe*/); void initProtocolIsa(Class cls /*nonpointer=maybe*/); void initInstanceIsa(Class cls, bool hasCxxDtor); // çœç•¥å¤§é‡æ–¹æ³• private: void initIsa(Class newCls, bool nonpointer, bool hasCxxDtor); // çœç•¥å¤§é‡æ–¹æ³•` }; å¯ä»¥çœ‹å‡ºæ¥ä¸ç®¡ OC 1.0 è¿˜æ˜¯ 2.0,\nobjc_object éƒ½æ˜¯ä¸€ä¸ªåŒ…å«ç€ä¸€ä¸ªå« isa æŒ‡é’ˆ/å˜é‡ çš„å¯¹è±¡ã€‚\nisa åˆæ˜¯ä»€ä¹ˆ # åœ¨ 1.0 ç‰ˆæœ¬ä¸­ isa å°±æ˜¯ä¸€ä¸ª Class å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªæŒ‡å‘ objc_class çš„æŒ‡é’ˆï¼Œè€Œåœ¨ 2.0 æ—¶ï¼Œisa æ˜¯ä¸€ä¸ªå« isa_t çš„ç»“æ„ä½“å˜é‡ã€‚\né‚£ä¹ˆ isa_t æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ\nåŒæ ·åœ¨ objc-private.h ä¸­æœ‰å®šä¹‰ï¼š\nunion isa_t { isa_t() { } isa_t(uintptr_t value) : bits(value) { } uintptr_t bits; private: // Accessing the class requires custom ptrauth operations, so // force clients to go through setClass/getClass by making this // private. Class cls; public: #if defined(ISA_BITFIELD) struct { ISA_BITFIELD; // defined in isa.h }; bool isDeallocating() { return extra_rc == 0 \u0026amp;\u0026amp; has_sidetable_rc == 0; } void setDeallocating() { extra_rc = 0; has_sidetable_rc = 0; } #endif void setClass(Class cls, objc_object *obj); Class getClass(bool authenticated); Class getDecodedClass(bool authenticated); }; å‚è€ƒ 1 çš„å›¾ï¼š\nä½œä¸ºä¸€ä¸ª union ç»“æ„ï¼Œä¸ struct åŒºåˆ«åœ¨äºï¼Œæˆå‘˜ä¹‹é—´ä¼šäº’ç›¸è¦†ç›–ï¼Œunion çš„æ€»å†…å­˜å ç”¨ç­‰äºæœ€å¤§çš„æˆå‘˜å ç”¨çš„å†…å­˜å¤§å°ï¼Œè€Œ struct å¤§å°è‡³å°‘æ˜¯æˆå‘˜å†…å­˜å ç”¨ä¹‹å’Œï¼Œå¦‚æœéœ€è¦å­—èŠ‚å¯¹é½åˆ™ä¼šæ›´å¤§ã€‚\næ‰€ä»¥é‡‡ç”¨ union ç»“æ„å¯ä»¥èŠ‚çœå†…å­˜ã€‚\nåœ¨ objc-object.h ä¸­ï¼Œæœ‰ objc_object::initIsa() çš„å®ç°ï¼š\ninline void objc_object::initIsa(Class cls, bool nonpointer, bool hasCxxDtor) { ASSERT(!isTaggedPointer()); if (!nonpointer) { isa = isa_t((uintptr_t)cls); } else { ASSERT(!DisableNonpointerIsa); ASSERT(!cls-\u0026gt;instancesRequireRawIsa()); isa_t newisa(0); #if SUPPORT_INDEXED_ISA ASSERT(cls-\u0026gt;classArrayIndex() \u0026gt; 0); newisa.bits = ISA_INDEX_MAGIC_VALUE; // isa.magic is part of ISA_MAGIC_VALUE // isa.nonpointer is part of ISA_MAGIC_VALUE newisa.has_cxx_dtor = hasCxxDtor; newisa.indexcls = (uintptr_t)cls-\u0026gt;classArrayIndex(); #else newisa.bits = ISA_MAGIC_VALUE; // isa.magic is part of ISA_MAGIC_VALUE // isa.nonpointer is part of ISA_MAGIC_VALUE newisa.has_cxx_dtor = hasCxxDtor; newisa.shiftcls = (uintptr_t)cls \u0026gt;\u0026gt; 3; #endif // This write must be performed in a single store in some cases // (for example when realizing a class because other threads // may simultaneously try to use the class). // fixme use atomics here to guarantee single-store and to // guarantee memory order w.r.t. the class index table // ...but not too atomic because we don\u0026#39;t want to hurt instantiation isa = newisa; } } å¯ä»¥çœ‹å‡º isa_t ä¸­çš„ Class ä¸ bits æ˜¯äº’æ–¥çš„ï¼Œé¿å…äº†äº’ç›¸è¦†ç›–çš„é—®é¢˜ã€‚\nhttps://halfrost.com/objc_runtime_isa_class/\u0026#160;\u0026#x21a9;\u0026#xfe0e;\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttps://kangzubin.com/objc1.0-class-object/\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"January 4 2022","permalink":"/posts/2022/class-object-isa/","section":"ç¢è¯­é—²è¨€","summary":"ä½œä¸º Runtime ç³»åˆ—çš„ç¬¬ä¸€ç¯‡åšæ–‡ï¼ˆä¹Ÿæ˜¯ 2022 å¹´ç¬¬ä¸€ç¯‡ï¼‰ï¼Œå…ˆä»æœ€åŸºç¡€çš„å¯¹è±¡ã€ç±»å¼€å§‹å­¦ä¹ ã€‚","title":"[Runtime] Class, Object ä¸ isa"},{"content":" æœ¬æ–‡è®¨è®ºä¸€ä¸‹ iOS çš„ App ä»ç”¨æˆ·ç‚¹å‡»å›¾æ ‡å¼€å§‹åˆ° App å®Œå…¨å¯ç”¨çš„è¿‡ç¨‹ã€‚è‹¹æœå¼€å‘è€…æ–‡æ¡£æœ‰è¿™æ ·ä¸€ç¯‡æ–‡ç« ï¼š\nResponding to the Launch of Your App\næœ‰ä¸ªä¸»è¦çš„æµç¨‹å›¾ï¼š\nref: About the App Launch Sequence\nå¦å¤–ï¼Œè¿˜æœ‰ä¸€ç¯‡ä»‹ç»å¦‚ä½•ä¼˜åŒ–å¯åŠ¨é€Ÿåº¦çš„æ–‡ç« : Reducing Your Appâ€™s Launch Time ï¼Œæ¯•ç«Ÿåªæœ‰å‡†ç¡®äº†è§£äº†å¯åŠ¨ä¸­åšäº†å“ªäº›äº‹ï¼Œæ‰èƒ½æ›´é’ˆå¯¹åœ°è¿›è¡Œä¼˜åŒ–ã€‚\nè¿™é‡Œè¿˜å‚è€ƒäº†ä»¥ä¸‹å‡ ç¯‡æ–‡ç« ï¼š\n[1]: iOS App å¯åŠ¨ä¼˜åŒ–\n[2]: iOS App ä»ç‚¹å‡»åˆ°å¯åŠ¨\n[3]: æ·±å…¥äº†è§£ App å¯åŠ¨è¿‡ç¨‹\næ€»ç»“ä¸€ä¸‹ï¼Œæ•´ä¸ªå¯åŠ¨è¿‡ç¨‹åˆ†æˆå››æ­¥ï¼š\n1. ç³»ç»Ÿå†…æ ¸åŠ è½½ # åº”ç”¨ç¨‹åºç”±ç³»ç»Ÿå†…æ ¸ XNU åŠ è½½ï¼Œä¸æ­¤åŒæ—¶ä¼šåŠ è½½ä¸€ä¸ªå« dyldçš„ç¨‹åºã€‚\nå†…æ ¸ä¸»è¦åšäº†è¿™å‡ ä»¶äº‹ï¼š\nåˆ›å»ºè¿›ç¨‹\nåŠ è½½è§£æå¯æ‰§è¡Œæ–‡ä»¶ (exec_activate_image)1: ä¸»è¦å·¥ä½œæ˜¯å¯¹ Mach-O è¿›è¡Œæ£€æŸ¥ï¼Œå¹¶å°†æ–‡ä»¶å¤åˆ¶åˆ°å†…å­˜ä¸­ã€‚\næ¥ä¸‹æ¥ä¼šæ ¹æ® Mach-O çš„ load commands ä¸­æŒ‡å®šçš„ä¿¡æ¯æ¥åŠ è½½å¯åŠ¨ dyld\næ›´åŠ è¯¦ç»†æ·±å…¥çš„ä¿¡æ¯å¯ä»¥å‚åŠ æ»´æ»´æŠ€æœ¯å…¬ä¼—å·ä¸Šçš„ä¸¤ç¯‡ï¼š\nXNUã€dyld æºç åˆ†æï¼ŒMach-O å’ŒåŠ¨æ€åº“çš„åŠ è½½è¿‡ç¨‹ (ä¸Š)\nXNUã€dyld æºç åˆ†æï¼ŒMach-O å’ŒåŠ¨æ€åº“çš„åŠ è½½è¿‡ç¨‹ (ä¸‹)\nMach-O æ ¼å¼2ï¼š\nMac ä¸ iOS ä»…åœ¨åº”ç”¨å±‚å®ç°ä¸Šæœ‰ä¸€äº›å·®åˆ«ï¼Œå¯æ‰§è¡Œæ–‡ä»¶çš„æ ¼å¼ä¹Ÿéƒ½æ˜¯ Mach-O çš„ã€‚æ‰€ä»¥ï¼ŒMac App ä¸ iOS App å¯åŠ¨æµç¨‹æ˜¯å·®ä¸å¤šçš„ã€‚\ngraph TD A(Cocoa) --\u003e | Mac | B(Media) E(Cocoa Touch) --\u003e | iOS | B B --\u003e C(Core Services) C --\u003e D(Core OS) 2. pre-main é˜¶æ®µ # è¿™é‡ŒæŒ‡ main å‡½æ•°ä¹‹å‰ï¼Œå†…æ ¸åŠ è½½ app ä¹‹åçš„ä¸€äº›äº‹ã€‚ä¸»è¦æ˜¯ dyld çš„å·¥ä½œï¼š\nåŠ è½½ç¨‹åºæ‰€éœ€çš„åŠ¨æ€åº“ åŒ…æ‹¬åˆ†æä¾èµ–ã€éªŒè¯æœ‰æ•ˆæ€§ (æ˜¯å¦ç¬¦å·å½“å‰ç³»ç»Ÿæ¶æ„)ï¼Œä½¿ç”¨ ImageLoader åŠ è½½è¿›å†…å­˜\nrebase/rebind ä¸ºäº†å®‰å…¨æ€§ï¼Œè‹¹æœé‡‡ç”¨äº† ASLR (Address space layout randomization)3 æŠ€æœ¯ï¼Œè¿™æ · app å®é™…åŠ è½½åœ°å€ä¼šæœ‰åç§»ã€‚\néœ€è¦é€šè¿‡ rebase å¯¹æ‰€æœ‰æŒ‡å‘è¿›ç¨‹å†…çš„ç¬¦å·è¿›è¡Œåœ°å€è°ƒæ•´ï¼ŒåŒæ—¶ä½¿ç”¨ bind å¤„ç† dylib å¤–éƒ¨çš„ç¬¦å·ã€‚\nObjC setup Runtime çš„åˆå§‹åŒ–ï¼ŒObjC ç±»çš„æ³¨å†Œï¼Œselector å”¯ä¸€æ€§æ£€æŸ¥ï¼ŒCategory æ³¨å†Œï¼ŒProtocol è¯»å–ç­‰ã€‚\nInitializers è¿™ä¸€é˜¶æ®µä¼šè°ƒç”¨æ‰€æœ‰ç±»çš„ load æ–¹æ³•ï¼Œæ‰§è¡Œå¸¦ attribute((constructor)) ä¿®é¥°çš„ C++ æ–¹æ³•ï¼ŒéåŸºæœ¬ç±»å‹ C++ é™æ€å˜é‡åˆ›å»º\nå¯ä»¥åœ¨ iOS ä»»ä¸€å¯¹è±¡çš„ load æ–¹æ³•å¤„æ‰“æ–­ç‚¹ï¼Œè·å¾—å¦‚ä¸‹å †æ ˆä¿¡æ¯4ï¼š\n0 +[AppDelegate load] 1 call_load_methods 2 load_images ... 3 dyld::notifySingle(dyld_image_states, ImageLoader const*) 4 ImageLoader::recursiveInitialization(...) 5 ImageLoader::processInitializers(...) 6 ImageLoader::runInitializers(...) 7 dyld::_main(...) 8 dyldbootstrap::start(...) 9 _dyld_start 3. main æ–¹æ³• # è¿™ä¸ªé˜¶æ®µæ˜¯æŒ‡ä» main å‡½æ•°å¼€å§‹åˆ° -[UIApplicationDelegate application:didFinishLaunchingWithOptions:] ä¸­é¦–å±æ¸²æŸ“å®Œæˆä¹‹å‰çš„äº‹ã€‚\nåˆå§‹åŒ–å„ç§é…ç½®ï¼Œå¦‚ info.plistï¼ŒUserDefaults ç­‰ç­‰\nå„ç§ sdkã€æ—¥å¿—ç³»ç»Ÿåˆå§‹åŒ–\nç”¨äºé¦–å±æ•°æ®å±•ç¤ºçš„ç½‘ç»œè¯·æ±‚\né¦–å±æ¸²æŸ“è®¡ç®—\n4. é¦–å±æ¸²æŸ“å # è¿™é‡Œç”¨æˆ·å·²ç»æ„ŸçŸ¥åˆ° app å¯åŠ¨äº†ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œä¼šåˆå§‹åŒ–ä¸€äº›éé¦–å±åŠŸèƒ½çš„æ¨¡å—ã€‚\nåè®° # äº†è§£äº†å¯åŠ¨æµç¨‹ï¼Œå°±å¿…é¡»è¦ç»§ç»­ç ”ç©¶å¦‚ä½•åŠ å¿« app å¯åŠ¨é€Ÿåº¦ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬åªèƒ½åœ¨ä¸Šè¿°ç¬¬ 2ï¼Œ3 ä¸¤æ­¥å°½å¯èƒ½åšä¸€äº›ä¼˜åŒ–ã€‚\nå‚è€ƒä¸‹ä¸€ç¯‡ï¼š\nè¿˜èƒ½æ›´å¿«å—ä¹‹å¯åŠ¨ä¼˜åŒ–\nhttps://juejin.cn/post/6844903511612899336\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttps://github.com/aidansteele/osx-abi-macho-file-format-reference\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttps://en.wikipedia.org/wiki/Address_space_layout_randomization\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttps://www.jianshu.com/p/c0a1a3ad9336\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"December 28 2021","permalink":"/posts/2021/app-launch-process/","section":"ç¢è¯­é—²è¨€","summary":"æœ¬æ–‡è®¨è®ºä¸€ä¸‹ iOS çš„ App ä»ç”¨æˆ·ç‚¹å‡»å›¾æ ‡å¼€å§‹åˆ° App å®Œå…¨å¯ç”¨çš„è¿‡ç¨‹ã€‚è‹¹æœå¼€å‘è€…æ–‡æ¡£æœ‰è¿™æ ·ä¸€ç¯‡æ–‡ç« ï¼š","title":"å‘ç”Ÿåœ¨ç”¨æˆ·ç‚¹å‡» App Icon ä¹‹å"},{"content":"æ¦‚è¿° # Runtime æ˜¯ OC è¿™ä¸ªè¯­è¨€çš„æ ¸å¿ƒï¼Œä¹Ÿæ˜¯ä¸ºä»€ä¹ˆ OC è¢«ç§°ä¸ºåŠ¨æ€è¯­è¨€çš„åŸå› ã€‚\nå½“æˆ‘ä»¬åœ¨è®² Runtime çš„æ—¶å€™ï¼Œæˆ‘ä»¬åœ¨è¯´ä»€ä¹ˆï¼Ÿ\næ ¹æ®å®˜æ–¹æ–‡æ¡£çš„å®šä¹‰ï¼Œ\nObjective-C Runtime\nObjective-C Runtime Programming Guide\nRuntime æ˜¯ä¸€ä¸ªåŠ¨æ€åº“ (/usr/lib/libobjc.A.dylib)ï¼Œç”¨äºå®ç° OC è¯­è¨€çš„åŠ¨æ€æ€§ã€‚\nè¿™ä¸ªåŠ¨æ€æ€§ä¸»è¦ä½“ç°åœ¨ä¸‰ä¸ªæ–¹é¢ ref:\nåŠ¨æ€ç±»å‹ (Dynamic Typing): è¿è¡Œæ—¶æ‰èƒ½å†³å®šå¯¹è±¡çš„ç±»å‹ï¼Œä¹Ÿå°±æ˜¯è¯´ç¼–è¯‘å™¨ä¸æ£€æŸ¥ç±»å‹åˆæ³•æ€§ åŠ¨æ€ç»‘å®š (Dynamic Binding): è¿è¡Œæ—¶æ‰èƒ½çŸ¥é“æ–¹æ³•è¢«å¦‚ä½•æ‰§è¡Œï¼Œä¹Ÿå°±æ˜¯æ¶ˆæ¯æœºåˆ¶ (messaging) åŠ¨æ€åŠ è½½ (Dynamic Loading): å…è®¸åŠ¨æ€æ·»åŠ ç±»ã€æ–¹æ³•ç­‰ èµ·æº # å­™æºå¤§ä½¬åœ¨ åšå®¢ ä¸­è¯´è¿‡ï¼ŒOC1 å…¶å®æ˜¯ C è¯­è¨€ä¸ SmallTalk2 æ€æƒ³ç»“åˆçš„äº§ç‰©ã€‚\nä¸åŒå± SmallTalk å­¦æ´¾çš„è¯­è¨€ Java, Python å’Œ Ruby ä¸€æ ·ï¼ŒOC å…·æœ‰é¢å‘å¯¹è±¡ã€åŠ¨æ€ç±»å‹å’Œåå°„å¼ç­‰ç‰¹ç‚¹ã€‚\nObjective-C = C + Preprocessor + Runtime\nSmallTalk é¢†å…ˆäº†æ—¶ä»£ 20 å¹´ï¼Œè‡³ä»Š OC ä»ç„¶æ²¡æœ‰å®ç°å®ƒçš„å…¨éƒ¨ç‰¹æ€§ã€‚\nRuntime Version # å­˜åœ¨ä¸¤ä¸ªç‰ˆæœ¬çš„ Runtimeï¼Œmodern å’Œ legacyï¼š\ndeveloper.apple.com/ObjCRuntimeGuide/ocrtVersionsPlatforms\næŒ‰ç…§å®˜æ–¹çš„è¯´æ˜ï¼Œæ‰€æœ‰ iPhone å’Œ 10.5 ç‰ˆæœ¬ä¹‹åçš„ Mac OSX 64 ä½ç¨‹åºéƒ½ä½¿ç”¨çš„ OC 2.0ã€‚\nRuntime æºç : https://opensource.apple.com/source/objc4/\nä¸‹è½½ tarballs: https://opensource.apple.com/tarballs/objc4/\nå¯è°ƒè¯•é¡¹ç›®: https://github.com/RetVal/objc-runtime\nRuntime é‡Œæœ‰ä»€ä¹ˆ # Runtime çš„æºç å¯ä»¥åœ¨ RetVal/objc-runtime è¿™é‡Œæ‰¾åˆ°ï¼Œç”šè‡³å¯ä»¥ Debugã€‚\nä¸»è¦åŒ…å«å¦‚ä¸‹å‡ ä¸ªæ–¹é¢ï¼Œåç»­ä¼šé€ä¸ªæ€»ç»“ã€‚\nClass/Object ä¸ isa # å‚è€ƒï¼šClass Object ä¸ isa\nMetaClass # å…ƒç±»æŒ‡å‘é“¾: å®ä¾‹ -\u0026gt; ç±» -\u0026gt; å…ƒç±» -\u0026gt; æ ¹å…ƒç±» -\u0026gt; æ ¹å…ƒç±» (isa æŒ‡å‘è‡ªå·±) ç±»çš„ç»§æ‰¿é“¾: å­ç±» -\u0026gt; çˆ¶ç±» -\u0026gt; NSObject -\u0026gt; nil å…ƒç±»çš„ç»§æ‰¿é“¾: å­ç±»å…ƒç±» -\u0026gt; çˆ¶ç±»å…ƒç±» -\u0026gt; æ ¹å…ƒç±» -\u0026gt; NSObject -\u0026gt; nil å‚è€ƒï¼šä» Meta è¯´èµ·\nMethod/IMP/SEL # Category # Messaging # Swizzling # å…¶å®ƒå¸¸ç”¨æ–¹æ³• # ++++++\nhttps://zh.wikipedia.org/wiki/Objective-C\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttps://zh.wikipedia.org/zh-hans/Smalltalk\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"December 28 2021","permalink":"/posts/2021/what-is-runtime/","section":"ç¢è¯­é—²è¨€","summary":"æ¦‚è¿° # Runtime æ˜¯ OC è¿™ä¸ªè¯­è¨€çš„æ ¸å¿ƒï¼Œä¹Ÿæ˜¯ä¸ºä»€ä¹ˆ OC è¢«ç§°ä¸ºåŠ¨æ€è¯­è¨€çš„åŸå› ã€‚","title":"ObjC ä¹‹ Runtime æ˜¯ä¸ªå•¥"},{"content":" æœ¬æ–‡å¯ä»¥ä½œä¸ºé¢è¯•å…«è‚¡çš„å‡†å¤‡æŒ‡å—\nå¾ˆæ—©ä¹‹å‰çœ‹è¿‡ä¸€ä¸ª å‰ç«¯ Roadmapï¼Œå›¾åšçš„éå¸¸æ¼‚äº®ã€‚æœ€è¿‘å‘ç°æœ‰äººåšäº†ç±»ä¼¼çš„ ç§»åŠ¨ç«¯ Roadmapï¼Œ\nå…¶ä¸­ iOS æ˜¯è¿™æ ·çš„ï¼š\nè¿˜æœ‰ Swift çš„ï¼Œæš‚æ—¶å…ˆä¸å…³æ³¨äº†ã€‚è¿™é‡Œç»¼åˆä¸€ä¸‹å½¢æˆæ–‡å­—ç‰ˆï¼Œæ–¹é¢æŸ¥ç¼ºè¡¥æ¼ã€‚\niOS çš„ä½“ç³»ç»“æ„å¦‚ä¸‹å›¾ï¼š\nRef: iOS abstraction layers\néœ€è¦é‡ç‚¹å…³æ³¨çš„æœ‰ä¸‹é¢å‡ ä¸ªæ–¹é¢ï¼š\ndemo å·¥ç¨‹ï¼šhttps://github.com/ryderfang/iosBagu Foundation # ARC/MRC ä¸ å†…å­˜ç®¡ç† # ARC is supported in Xcode 4.2 for OS X v10.6 and v10.7 (64-bit applications) and for iOS 4 and iOS 5.\nç°åœ¨é™¤äº†ä¸€äº›è€é¡¹ç›®ï¼ŒåŸºæœ¬æ²¡æœ‰ MRC ä¸ºä¸»çš„ä»£ç äº†ï¼Œæ‰€ä»¥åªéœ€è¦ç®€å•äº†è§£ä¸‹ MRC ä¸ ARC çš„åŒºåˆ«å³å¯\nMRC éœ€è¦æ‰‹åŠ¨å†™ deallocï¼Œå¹¶ä¸”ä¸€å®šè¦æœ€åå†è°ƒç”¨çˆ¶ç±»çš„ deallocï¼› ARC ä¸€èˆ¬ä¸éœ€è¦å†™ deallocï¼Œä¹Ÿä¸éœ€è¦è°ƒç”¨ [super dealloc]ã€‚ç§»é™¤ NSNotification Observer å’Œ KVC Observer ä¾‹å¤–ã€‚\nåœ¨ ARC çš„å·¥ç¨‹ä¸­ä½¿ç”¨ MRCï¼Œéœ€è¦åœ¨å·¥ç¨‹ä¸­è®¾ç½®æºæ–‡ä»¶çš„ç¼–è¯‘é€‰é¡¹ -fno-objc-arc\nTagged Pointer\nOC å¯¹è±¡ä¸ CF å¯¹è±¡è½¬æ¢\n__bridge, __bridge_retained, __bridge_transfer AutoReleasePool # AutoReleasePool çš„æ•°æ®ç»“æ„\nAutoReleasePool ä¸ @autoreleasepool\nBlock ğŸ”¥ # __weak ä¸ __block\nblock çš„ç»“æ„ä½“ç±»å‹\nblock å¦‚ä½•æ•è·å¤–éƒ¨å˜é‡\nå¾ªç¯å¼•ç”¨ ä¸ Weak-Strong Dance\nCategory ğŸ”¥ # load åŠ è½½æ—¶æœº\nload ä¸ initialze\næ–¹æ³•åŠ è½½æ—¶æœº\nå¦‚ä½•æ·»åŠ å±æ€§ - å…³è”å¯¹è±¡\ncategory ä¸ class-extension\ncategory è¦†ç›–åŸç±»æ–¹æ³•çš„åŸç†\ncategory åŒåæ–¹æ³•è°ƒç”¨é¡ºåº\nHotPatch # JSPatch çš„åŸç† KVC ä¸ KVO # KVC æ˜¯å¦‚ä½•å®ç°çš„\nKVO çš„åŸç†\nå¦‚ä½•å¯¹ NSMutableArray è¿›è¡Œ KVO\nmutableArrayValueForKey KVC ä¸ KVO æœ‰ä»€ä¹ˆè”ç³»ä¸åŒºåˆ«\nMultiThread å¤šçº¿ç¨‹ ğŸ”¥ # å“ªäº›å¤šçº¿ç¨‹æ–¹æ³•\nGCD ä¸ NSThread, NSOperationQueue\näº’æ–¥é”ä¸è‡ªæ—‹é”\nNetwork ğŸ”¥ # NSURLSession ä¸ NSURLConnection\nå¸¸ç”¨ç½‘ç»œåº“\nAFNetworking (ObjC)\nAlamofire (Swift)\nNSTimer ğŸ”¥ # timer ä¸ Runloop\ntimer å¯¼è‡´å¾ªç¯å¼•ç”¨çš„äº§ç”Ÿä¸è§£å†³\nProperty ğŸ”¥ # ä¸æŒ‡å®šä»»ä½•å…³é”®å­—æ—¶ï¼Œé»˜è®¤çš„ç±»å‹ï¼š\nOC å¯¹è±¡ï¼šatomic, readwrite, strong æ•°å€¼å¯¹è±¡ï¼šatomic, readwrite, assign ä¸åŒå±æ€§çš„åŒºåˆ«\natomic/nonatomic readonly/readwrite (retain, MRC)/assign/weak/strong/unsafe_unretained/copy copy ä¸ assign\nweak ä¸ copy\nweak ä¸ __unsafe_unretained\natomic å¹¶ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„\nå¦‚ä½•å®ç°ä¸€ä¸ªå¼±å¼•ç”¨å®¹å™¨\n+ [NSPointerArray weakObjectsPointerArray] å¼±å¼•ç”¨æ•°ç»„ + [NSMapTable weakToWeakObjectsMapTable] å¼±å¼•ç”¨è¡¨ + [NSHashTable weakObjectsHashTable] å¼±å¼•ç”¨ hash è¡¨ + [NSValue valueWithNonretainedObject:] å¼±å¼•ç”¨å¯¹è±¡ Runloop ğŸ”¥ # Runloop ä¸çº¿ç¨‹çš„å…³ç³»\nmode\nsource0 \u0026amp; source1\nå¦‚ä½•å®ç°ä¸€ä¸ªå¸¸é©»çº¿ç¨‹\nç”¨ runloop ç›‘å¬ä¸»çº¿ç¨‹å¡é¡¿\nRuntime ğŸ”¥ # ç³»åˆ—æ–‡ç« ï¼šRuntime æ˜¯ä¸ªå•¥ï¼Ÿ\nMethod Swizzling\nä» Meta è¯´èµ·\nClass, Object ä¸ isa\nè¿è¡Œæ—¶ï¼ŒåŠ¨æ€æ·»åŠ ä¸€ä¸ªç±»\næ¶ˆæ¯è½¬å‘\nNSObject ä¸ \u0026lt;NSObject\u0026gt;\nå…¶ä»–çŸ¥è¯† # NSNotification åŸç†\nid ä¸ instancetype\nnil, Nil, NULL, NSNull\nNSPredicate è°“è¯\nAPNS (Apple Push Notification Service) åŸç†\nUIKit # UIView ä¸ CALayer # bounds ä¸ frame\nsetNeedsDisplay ä¸ layoutIfNeeded\nå¸¸ç”¨ UI ç»„ä»¶ # UIScrollView\nUITableView\ncell å¤ç”¨åŸç† UICollectionView\nAutoLayout # Masonary åŸç†\nVFL è¯­æ³•\nçº¦æŸ Constraints\nUIResponder # touch events\nhitTest / pointsInside\näº‹ä»¶ä¼ é€’ä¸å“åº”é“¾\nç¦»å±æ¸²æŸ“ # layoutSubview ä¸ drawRect æ€§èƒ½ä¼˜åŒ– # å›¾ç‰‡æ¸²æŸ“è¿‡ç¨‹\nå¡é¡¿ä¼˜åŒ–\nCore ç³»åˆ— # Core Graphics # é«˜æ•ˆç»˜åˆ¶åœ†è§’ Core Data # AVFoundation # æ¶æ„èƒ½åŠ› # è®¾è®¡æ¨¡å¼ # æ¶æ„æ¨¡å¼ # MVC\nMVP\nMVVM\nå“åº”å¼ç¼–ç¨‹ # é‡æ„ä¸è§£è€¦ # ç»„ä»¶åŒ– # æ›´å¤šé¢è¯•é¢˜ï¼š\nhttps://github.com/LGBamboo/iOS-Advanced https://www.jianshu.com/p/e709fde38de3 https://www.jianshu.com/p/d9a39ab1d526 ","date":"December 23 2021","permalink":"/posts/2021/objc-roadmap/","section":"ç¢è¯­é—²è¨€","summary":"\u003cdiv class=\"!mb-9 text-xl lead\"\u003e\n  \u003cblockquote\u003e\n\u003cp\u003eæœ¬æ–‡å¯ä»¥ä½œä¸ºé¢è¯•å…«è‚¡çš„å‡†å¤‡æŒ‡å—\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003c/div\u003e\n\n\u003cp\u003eå¾ˆæ—©ä¹‹å‰çœ‹è¿‡ä¸€ä¸ª \u003ca href=\"https://github.com/kamranahmedse/developer-roadmap\"\u003eå‰ç«¯ Roadmap\u003c/a\u003eï¼Œå›¾åšçš„éå¸¸æ¼‚äº®ã€‚æœ€è¿‘å‘ç°æœ‰äººåšäº†ç±»ä¼¼çš„ \u003ca href=\"https://github.com/godrm/mobile-developer-roadmap\"\u003eç§»åŠ¨ç«¯ Roadmap\u003c/a\u003eï¼Œ\u003c/p\u003e\n\u003cp\u003eå…¶ä¸­ iOS æ˜¯è¿™æ ·çš„ï¼š\u003c/p\u003e","title":"ObjC ä¹‹ æŠ€æœ¯è·¯çº¿å›¾"},{"content":"æ—¶éš”ä¸¤å¹´ï¼Œå†æ¬¡æ‹¾èµ·åšå®¢ã€‚\næˆ‘å®Œå…¨ä¸æ˜¯ä¸€ä¸ªæœ‰æ’å¿ƒçš„äººï¼Œè€Œä¸”åšä»€ä¹ˆäº‹éƒ½æ˜¯ä¸‰åˆ†é’Ÿçƒ­åº¦ã€‚åŒ…æ‹¬åšå®¢ï¼Œä» Jekyll åˆ° Hexoï¼Œå†åˆ°ç°åœ¨ Hugoã€‚\næœ‰æ–°é²œç©æ„éƒ½æƒ³æŠŠç©ä¸€ä¸‹ï¼ŒæŠ˜è…¾å®Œäº†åˆè§‰å¾—ç´¢ç„¶æ— å‘³ã€‚æ³¨é‡å½¢å¼å¤§äºå†…å®¹ï¼Œçº ç»“å­—ä½“å­—å·ã€å„ç§æ ·å¼çš„äº‹æƒ…ï¼Œåè€Œæ²¡ä»€ä¹ˆå†…å®¹æ²‰æ·€ä¸‹æ¥ã€‚\nå…³äºåšå®¢ # åœ¨è…¾è®¯äº‘ä¹°äº†åŸŸå ryderfang.comï¼Œç„¶åæŠ˜è…¾å¤‡æ¡ˆã€SSL è¯ä¹¦éƒ¨ç½²ã€nginx é…ç½®é™æ€é¡µé¢ç­‰ç­‰ï¼Œ ç›®å‰æºæ–‡ä»¶æ‹–ç®¡åœ¨ Github ä¸Šï¼Œæ¯æ¬¡ push è‡ªåŠ¨è§¦å‘ Actionsï¼Œ å®Œæˆç¼–è¯‘å¹¶æ¨é€åˆ° gh-pages åˆ†æ”¯çš„æ“ä½œã€‚ç«™å†…æœç´¢ä½¿ç”¨ algoliaï¼Œä½¿ç”¨æ‰‹åŠ¨ Actions çš„æ–¹å¼ï¼Œéœ€è¦æ—¶è§¦å‘æ›´æ–°ã€‚\nåŒæ ·åœ¨è…¾è®¯äº‘ä¹°äº†ä¸€ä¸ªè½»åº”ç”¨æœåŠ¡å™¨ï¼Œæ‰˜ç®¡ä¸€ä¸‹è¿™ä¸ªé™æ€åšå®¢ï¼Œä¸æ‰“ç®—å†æŠ˜è…¾è‡ªåŠ¨åŒ–äº†ï¼Œéœ€è¦åŒæ­¥çš„æ—¶å€™ ssh ç™»å½•ä¸€ä¸‹ï¼Œæ‰‹åŠ¨æ‹‰ä¸€ä¸‹ repo å°±å¥½ã€‚\nå“ˆå“ˆï¼Œæ€»æ˜¯åœ¨æ‰“è„¸ï¼Œè¿˜æ˜¯æŠŠè‡ªåŠ¨åŒæ­¥æœåŠ¡å™¨åšæˆäº†ä¸€ä¸ª Action\n- name: remote ssh command uses: appleboy/ssh-action@master with: host: ${{ secrets.TENCENT_CLOUD_HOST }} username: ubuntu key: ${{ secrets.TENCENT_CLOUD_KEY }} port: 22 script: | whoami cd blog \u0026amp;\u0026amp; git pull echo \u0026#39;Done!\u0026#39; å†æŠŠä¹‹å‰çš„åšå®¢å†…å®¹æ•´ç†åˆ°æ–°çš„åšå®¢ä¸Šï¼Œå‘ç°å¹¶æ²¡å¤šå°‘å€¼å¾—ä¿ç•™çš„ï¼ŒçœŸæ˜¯æœ‰ç‚¹æƒ­æ„§ã€‚\næŠ€æœ¯ç›®æ ‡ # å¸¸å¸¸æƒ³èµ·å°æ—¶å€™çˆ¸çˆ¸å‘Šè¯«æˆ‘çš„è¯ï¼š\næœ‰å¿—ä¹‹äººç«‹å¸¸å¿—ï¼Œæ— å¿—ä¹‹äººå¸¸ç«‹å¿—ã€‚\nä½†æ˜¯ï¼Œè¿™ä¹ˆå¤šå¹´çš„å·¥ä½œç»å†ï¼Œè®©æˆ‘è®¤è¯†åˆ°è‡ªå·±åªæ˜¯ä¸ªæ™®é€šäººã€‚æ™®é€šçš„æŠ€æœ¯ã€æ™®é€šçš„èƒ½åŠ›å’Œæ™®é€šçš„å¿—å‘ï¼Œç”šè‡³äºåœ¨ â€œå†…å·â€ ä¸ â€œèººå¹³â€ çš„æµªæ½®ä¸­ï¼Œå·²ç»é€æ¸æƒ³è¦èººå¹³ã€‚\næœ€è¿‘åˆçœ‹åˆ°ä¸€å¥è¯ï¼š\nåˆ°åº•ä»€ä¹ˆæ ·çš„ç»ˆç‚¹ï¼Œæ‰é…å¾—ä¸Šè¿™ä¸€è·¯çš„é¢ æ²›æµç¦» ?!\næ˜¯å•Šï¼Œæˆ–è®¸ï¼Œæˆ‘ä»¬åªæ˜¯æƒ³å»ç å¤´æ•´ç‚¹è–¯æ¡ï¼Œäººç”Ÿæœ¬æ— å¤ªå¤šæ„ä¹‰ã€‚\næ‰¯è¿œäº†ï¼Œæ€»ä¹‹ï¼Œæ™®é€šäººå°±å®šå‡ ä¸ªèƒ½å®Œæˆçš„æ™®é€šç›®æ ‡ã€‚ä¹Ÿä¸è¦è¿‡åˆ†è‡ªè´£ï¼Œå› ä¸ºä½ å°±æ˜¯ä¸€ç²’å®‡å®™çš„å°˜åŸƒã€‚\nå†™æ–‡ç«  # åˆ°å¹´åº•è¿˜æœ‰ä¸€ä¸ªå¤šæœˆï¼Œè¾“å‡º 2-3 ç¯‡æŠ€æœ¯åšå®¢ã€‚\nUPDATE: ç®—å®Œæˆ 80% å§ï¼Œå†…å®¹è¿˜éœ€è¦è¡¥å……\niOS æŠ€æœ¯æ ˆ # ç»§ç»­å®Œå–„ iOS å…«è‚¡æŠ€æœ¯æ ˆ: https://github.com/ryderfang/iOSBaguï¼Œå°½å¯èƒ½å»äº†è§£ä¸€äº›çŠ„è§’æ—®æ—¯çš„çŸ¥è¯†ç‚¹ã€‚\nUPDATE: æ²¡æœ‰å®Œæˆï¼Œéœ€è¦å°½å¿«è¡¥é½\nè¯»ä¹¦ # è¯»ä¸€ç‚¹å…¶ä»–é¢†åŸŸçš„ä¹¦ï¼Œéšä¾¿çœ‹ä¸€ç‚¹ã€‚\nUPDATE: æ²¡æœ‰å®Œæˆï¼Œå¤šè¯»ä¹¦æ˜¯ 2022 é‡ç‚¹ç›®æ ‡\nç”Ÿæ´»ç›®æ ‡ # å¥åº· # èº«ä½“ NO.1ï¼Œæ¢å­£çš„æ—¶å€™ï¼Œä¸€å®¶äººéƒ½å¾—äº†å’½ç‚ï¼Œå»åŒ»é™¢å¤ªæŠ˜è…¾äº†ã€‚å¸Œæœ›å…¨å®¶éƒ½å¥åº·ï¼Œå®å®ä¹Ÿå¿«ç‚¹é•¿å¤§ï¼Œå°‘è®©å§¥å§¥å’Œå¤§å®¶æ“ç‚¹å¿ƒå§ã€‚\nUPDATE: å®‰å®‰è¶Šæ¥è¶Šå¤§äº†ï¼Œå‰æ®µæ—¶é—´è„¸ä¸Šåˆè¢«è™«å’¬äº†ä¸€å¤§å—ï¼Œæœ€è¿‘å¿«é•¿å¥½äº†ã€‚\nå¹³å®‰ã€å¥åº·ã€å¿«ä¹ï¼Œè¶³çŸ£ã€‚æ²¡æœ‰åˆ«çš„å¸Œå†€ã€‚\næ—©èµ· # æ¯å¤©é€è€å©†ä¸Šç­ï¼Œè™½ç„¶ç´¯ï¼Œä½†è¿˜æ˜¯æŒºå¥½çš„ï¼Œæ—©åˆ°å…¬å¸ä¸€å°æ—¶ï¼Œå¯ä»¥åšå¾ˆå¤šäº‹äº†ã€‚å›°çš„é—®é¢˜å°±ä¸­åˆå¤šåˆç¡ä¸€ä¼šå„¿å§ã€‚\nèƒ½ç¡è¯´æ˜è‡ªå·±è¿˜å¹´è½»å§ï¼Œè‡³å°‘æ²¡æœ‰å¤±çœ çš„å›°æ‰°ï¼Œæ„Ÿè§‰è‡³å°‘è¦ç¡åä¸ªå°æ—¶æ‰èƒ½æ»¡è¶³ï¼Œä¹Ÿåªèƒ½å‘¨æœ«æ‰æœ‰è¿™ä¸ªæœºä¼šäº†ã€‚\nUPDATE: æœ¬æ¥å¹´åº•æƒ³é¢è¯•ä¸€ä¸‹æ¥å¹´æ¢ä¸ªå·¥ä½œï¼Œä½†è€å©†å¯èƒ½ä¹Ÿè¦æ¢ï¼Œå‡†å¤‡è¿˜æ˜¯ç»§ç»­è‹Ÿä¸€æ®µæ—¶é—´ã€‚\næ€»çš„æ¥è¯´ï¼Œé¹…å‚çš„äººæ–‡å…³æ€€è¿˜æ˜¯å¯ä»¥çš„ã€‚ä½†ä¸åŒé¡¹ç›®ç»„ä¹Ÿå·®å¼‚å¾ˆå¤§ï¼ŒPCG ç¡®å®æ˜¯ä¸ªå¤©å‘ã€‚\nç»“è¯­ # å°±è¿™äº›å§ï¼Œæˆ‘æ„Ÿè§‰èƒ½å®Œæˆ 80% å°±å·²ç»å¾ˆä¸é”™äº†ã€‚å…ƒæ—¦çš„æ—¶å€™å†æ¥ check ä¸€ä¸‹ ğŸš€\n","date":"November 16 2021","permalink":"/posts/2021/2021-personal-challeng/","section":"ç¢è¯­é—²è¨€","summary":"\u003cp\u003eæ—¶éš”ä¸¤å¹´ï¼Œå†æ¬¡æ‹¾èµ·åšå®¢ã€‚\u003c/p\u003e","title":"2021 ä¸ªäººç›®æ ‡ ğŸ¯"},{"content":" Hello, World! ğŸ‘‹ # å†ç» BAT ä¸‰å®¶å…¬å¸ï¼Œæ‘¸é±¼è¾¾äººï¼ŒåºŸæŸ´ç å†œã€‚äººç”Ÿè‹¦çŸ­ã€åŠæ—¶è¡Œä¹ã€‚\nI worked at Bilibili, Alibaba and now Tencent, still too vegetable to be a senior engineer. Lacking of patience and persistence.\nNow I\u0026rsquo;m living with my wife and little son in Shanghai, China.\nLife is too short, Just enjoy it.\nç»å† # ğŸ§ è…¾è®¯ç§‘æŠ€ï¼ˆä¸Šæµ·ï¼‰æœ‰é™å…¬å¸ å®¢æˆ·ç«¯å¼€å‘ 2019.11 - Now æ‰‹ Q å¼€å‘ ç›¸æœºæ¸²æŸ“ï¼Œé“å…·ç‰¹æ•ˆç­‰ å›¾ç‰‡ã€è§†é¢‘ç¼–è¾‘ AI ç«¯æ™ºèƒ½ ğŸš¼ å£ç¢‘ï¼ˆä¸Šæµ·ï¼‰ä¿¡æ¯æŠ€æœ¯æœ‰é™å…¬å¸ | é˜¿é‡Œå·´å·´ é«˜çº§æ— çº¿å¼€å‘å·¥ç¨‹å¸ˆ 2017.10 - 2019.11 å£ç¢‘æŒæŸœ ä¸šåŠ¡å¼€å‘ã€æŠ•æ”¾ä½“ç³»å»ºè®¾ Lottie æ¥å…¥ é˜¿é‡Œäº‘è¯­éŸ³SDK æŠ€æœ¯ä¸“é¡¹ ç«¯ AI æ™ºèƒ½ç®—æ³• H5 å®¹å™¨ç›¸å…³ ğŸ ä¸Šæµ·å“”å“©å“”å“©ç§‘æŠ€æœ‰é™å…¬å¸ | å¹»ç”µä¿¡æ¯ç§‘æŠ€ iOS å¼€å‘å·¥ç¨‹å¸ˆ 2016.04 - 2017.10 iOS å®¢æˆ·ç«¯ C++ è½¬ iOS å¼€å‘ ä¸šåŠ¡å¼€å‘ï¼Œè§†é¢‘æ”¶è—å¤¹ å›¾ç‰‡æ²»ç†ï¼ŒwebP æ¥å…¥ç­‰ UGC æŠ•ç¨¿åŠ©æ‰‹ QT \u0026amp; C++ å¼€å‘ å¤šçº¿ç¨‹è§†é¢‘æ–‡ä»¶ä¸Šä¼  ç¨¿ä»¶ç®¡ç†åŠŸèƒ½ç­‰ ğŸ“Ÿ ä¸Šæµ·äºŒä¸‰å››äº”ç½‘ç»œç§‘æŠ€æœ‰é™å…¬å¸ 2013.12 - 2016.04 2345 å•æ ¸/åŒæ ¸ æµè§ˆå™¨ æµè§ˆå™¨ä¸šåŠ¡å¼€å‘ é€†å‘æŠ€æœ¯ã€Flash å…¼å®¹ å¹¿å‘Šæ‹¦æˆªæŠ€æœ¯ çœ‹å›¾ç‹ã€å¥½å‹ DirectUI C++ å¤šçº¿ç¨‹å¼€å‘ +++\n","date":"November 11 2021","permalink":"/about/","section":"","summary":"Hello, World!","title":"About"},{"content":" å¹´ä»£ä¹…è¿œï¼Œå†…å®¹ä¸å†ä¿æ­£ã€‚ ä¹‹å‰ç”¨çš„ bangwagon çªç„¶è¿ä¸ä¸Šäº†ï¼Œæ‰¾åˆ°ç°åœ¨å¯ç”¨çš„å®˜ç½‘ (https://bwh88.net/clientarea.php?action=products) çœ‹äº†ä¸‹ï¼ŒæœåŠ¡è™½ç„¶åˆ°æœŸäº†ï¼Œä½†æ•´ä¸ª Service è¢«åœç”¨äº†ã€‚\nå‘äº†ä¸ª Ticket é—®äº†ä¸‹ï¼Œå€’æ˜¯å¾ˆå¿«å›å¤äº†ã€‚ç»“è®ºå°±æ˜¯æˆ‘ä¹‹å‰ä¹°çš„é‚£ç§ 10G çš„äº§å“æ˜¯ OpenVZ v6 æ¶æ„ï¼Œå·²ç»ä¸å†ç»´æŠ¤ï¼Œä¸‹æ¶äº†ã€‚ çœ‹äº†ä¸‹ï¼Œç°åœ¨æœ€ä¾¿å®œçš„å°±æ˜¯ 20G è¿™æ¬¾ï¼Œä¸€å¹´ 50 ç¾é‡‘ï¼Œå·®ä¸å¤šä¹Ÿæ˜¯è¡Œæƒ…ä»·ã€‚\nè€ƒè™‘åˆ° bandwagon é…ç½®å¹¶ä¸æ˜¯ç‰¹åˆ«æ–¹ä¾¿ï¼Œç»åŒäº‹æ¨èæ”¹ç”¨ Vlutrï¼Œç°åœ¨ä¼˜æƒ è¿˜ä¸é”™ (é‡ç‚¹)ï¼š\n1ã€å…… $10 é€ $25ã€‚ ç‚¹å‡»æ³¨å†Œ\n2ã€å…… $25 é€ $50ã€‚ ç‚¹å‡»æ³¨å†Œ\næœ€å…³é”®çš„æ˜¯ï¼Œæ”¯æŒ æ”¯ä»˜å® ä»˜æ¬¾ï¼\næ³¨å†Œ # æ³¨å†Œéå¸¸ç®€å•ï¼Œç‚¹å‡»ä¸Šé¢çš„é“¾æ¥ï¼Œç”¨é‚®ç®±æ³¨å†Œå³å¯ã€‚éƒ½ä¸ç”¨æ¿€æ´»ï¼Œæ–¹ä¾¿çš„ä¸€æ¯”ã€‚\nå……å€¼ # ç™»å½•ä¹‹åï¼Œåœ¨ https://my.vultr.com/billing/ é¡µé¢ï¼Œé€‰æ‹© Alipay (æ”¯ä»˜å®)ï¼Œå…… $25ï¼Œæå®šï¼\n$25 è¶³å¤Ÿç”¨ 5 ä¸ªæœˆäº†ï¼\nä¹°æœºå™¨ # è¿›å…¥ https://my.vultr.com/deploy/\nåœ°åŒº é€‰æ¬§æ´²æˆ–è€…ç¾å›½çš„ï¼Œç›¸å¯¹å¿«ä¸€ç‚¹ã€‚ æ“ä½œç³»ç»Ÿ é€‰ Ubuntu, ç‰ˆæœ¬ 18.04 x64ã€‚(å› ä¸ºè¿™æ˜¯ LTS ç‰ˆæœ¬ï¼Œç›¸å¯¹ç¨³å®šç‚¹) æœºå™¨ç±»å‹é€‰æœ€ä¾¿å®œçš„ $5/æœˆ çš„ã€‚ å…¶ä»–ä¸ç”¨ç®¡ï¼Œç›´æ¥ Deploy å§ã€‚\né…ç½® # ç­‰æœºå™¨å‡†å¤‡å¥½ï¼Œåœ¨ Products é¡µé¢ä¸­æ‰¾åˆ°ä½ çš„æœºå™¨ IP åœ°å€ã€å¯†ç ç­‰ä¿¡æ¯ã€‚æ‰“å¼€æœ¬åœ°ç»ˆç«¯ï¼Œ ssh root@ip -p 22 è¾“å…¥å¯†ç ï¼Œç™»å½•è¿œç¨‹æœºå™¨ã€‚\né€šè¿‡è„šæœ¬ä¸€é”®å®‰è£… SS æœåŠ¡ç«¯å³å¯ã€‚\nwget --no-check-certificate -O shadowsocks.sh https://raw.githubusercontent.com/teddysun/shadowsocks_install/master/shadowsocks.sh chmod +x shadowsocks.sh ./shadowsocks.sh 2\u0026gt;\u0026amp;1 | tee shadowsocks.log è®¾ç½®ç«¯å£å·ã€å¯†ç ç­‰ï¼Œç­‰è„šæœ¬æ‰§è¡Œå®Œã€‚ è¿™é‡Œæœ‰ä¸ªå‘ï¼Œè„šæœ¬é‡Œ shadowsocks.json é‡Œé…ç½®çš„æœåŠ¡å™¨åœ°å€æ˜¯ 0.0.0.0ï¼Œæœ‰ Vlutr ç¯å¢ƒé‡Œå¥½åƒä¸é€šï¼Œæˆ‘ä¹‹å‰ç”¨ bandwagon ä¸ç”¨æ”¹ï¼Œä½†æ˜¯ Vlutr ä¸è¡Œã€‚\nvim /etc/shadowsocks.json // æŠŠé‡Œé¢çš„ \u0026#34;server\u0026#34; å­—æ®µä¿®æ”¹ä¸ºæœåŠ¡å™¨çš„ IP å€ã€‚ åœ¨æœ¬åœ°ï¼Œç”¨ SS æœåŠ¡ç«¯ï¼Œè®¾ç½®å¥½åŒæ ·çš„ IP åœ°å€ã€ç«¯å£å·å’Œå¯†ç å³å¯ã€‚\nè‡³æ­¤ï¼Œå°±å¯ä»¥å»æµªäº†ï¼ğŸŒŠğŸŒŠğŸŒŠ\n","date":"September 10 2019","permalink":"/posts/2019/shadowsocks-with-vlutr/","section":"ç¢è¯­é—²è¨€","summary":"å¹´ä»£ä¹…è¿œï¼Œå†…å®¹ä¸å†ä¿æ­£ã€‚ ä¹‹å‰ç”¨çš„ bangwagon çªç„¶è¿ä¸ä¸Šäº†ï¼Œæ‰¾åˆ°ç°åœ¨å¯ç”¨çš„å®˜ç½‘ (https://bwh88.","title":"ä»æ¬ç“¦å·¥åˆ° Vlutr ç»§ç»­å†²æµª"},{"content":"è¿™æ˜¯å¹²å•¥çš„ # æ•æ„Ÿä½ æ‡‚çš„ï¼Œä¸å¤šè°ˆã€‚ğŸŒ\nå¹´ä»£ä¹…è¿œï¼Œå†…å®¹ä¸å†ä¿æ­£ã€‚ æ€ä¹ˆç”¨ # ä¸‹è½½ ShadowsocksX-NGï¼Œ https://github.com/shadowsocks/ShadowsocksX-NG/releases/\né…ç½®è‡ªå·±çš„ VPSï¼Œæ¯”å¦‚æˆ‘è‡ªå·±ä½¿ç”¨çš„ Bandwagon VPSï¼Œæˆ–è€…ä½¿ç”¨å…¶ä»– SS server åœ°å€\nåœ¨ ShadowsocksX-NG ä¸­æ·»åŠ æœåŠ¡å™¨ï¼Œé…ç½®å¥½å¯ä»¥ FQ äº†ã€‚\næ¬ç“¦å·¥ # ç›®å‰å¯ç”¨çš„ä¸»é¡µåœ°å€æ˜¯\nhttps://bwh1.net/clientarea.php?action=products\næˆ‘ä¹°çš„æœ€ä¾¿å®œçš„ä¸€ä¸ª 10G VZ - PROMOï¼Œä¸€ä¸ªæœˆ $2.99ï¼Œä½†å¹´ä»˜æ‰ $19.99 (130 è½¯å¦¹å¸) è€Œå·²ã€‚\næ¯æœˆæµé‡ 550GB æ ¹æœ¬ç”¨ä¸å®Œ\næœ‰éœ€è¦çš„æœ‹å‹ï¼Œå¦‚æœä¸æƒ³è‡ªå·±é…ç½®ï¼Œå¯ä»¥ç»™æˆ‘è½¬ ï¿¥10 (ä¸€ä¸ªæœˆ)ï¼Œæˆ‘æŠŠæˆ‘çš„ VPS å…±äº«ç»™ä½ ã€‚\né…ç½®é¡¹ # åœ¨ ShadowsocksX-NG çš„æœåŠ¡å™¨é…ç½®ä¸­ï¼Œå¯¼å…¥å¦‚ä¸‹é…ç½®å³å¯\n{ \u0026#34;random\u0026#34; : false, \u0026#34;authPass\u0026#34; : null, \u0026#34;useOnlinePac\u0026#34; : false, \u0026#34;TTL\u0026#34; : 0, \u0026#34;global\u0026#34; : false, \u0026#34;reconnectTimes\u0026#34; : 3, \u0026#34;index\u0026#34; : 0, \u0026#34;proxyType\u0026#34; : 0, \u0026#34;proxyHost\u0026#34; : null, \u0026#34;authUser\u0026#34; : null, \u0026#34;proxyAuthPass\u0026#34; : null, \u0026#34;isDefault\u0026#34; : false, \u0026#34;pacUrl\u0026#34; : null, \u0026#34;configs\u0026#34; : [ { \u0026#34;enable\u0026#34; : true, \u0026#34;password\u0026#34; : \u0026#34;****\u0026#34;, \u0026#34;method\u0026#34; : \u0026#34;aes-256-cfb\u0026#34;, \u0026#34;remarks\u0026#34; : \u0026#34;Bandwangon\u0026#34;, \u0026#34;server\u0026#34; : \u0026#34;**.**.**.**\u0026#34;, \u0026#34;kcptun\u0026#34; : { \u0026#34;nocomp\u0026#34; : false, \u0026#34;key\u0026#34; : \u0026#34;****\u0026#34;, \u0026#34;crypt\u0026#34; : \u0026#34;salsa20\u0026#34;, \u0026#34;datashard\u0026#34; : 70, \u0026#34;mtu\u0026#34; : 1350, \u0026#34;mode\u0026#34; : \u0026#34;fast2\u0026#34;, \u0026#34;parityshard\u0026#34; : 30, \u0026#34;arguments\u0026#34; : \u0026#34;\u0026#34; }, \u0026#34;enabled_kcptun\u0026#34; : true, \u0026#34;server_port\u0026#34; : 29900, \u0026#34;remarks_base64\u0026#34; : \u0026#34;QmFuZHdhbmdvbg==\u0026#34; } ], \u0026#34;proxyPort\u0026#34; : 0, \u0026#34;randomAlgorithm\u0026#34; : 0, \u0026#34;proxyEnable\u0026#34; : false, \u0026#34;enabled\u0026#34; : true, \u0026#34;autoban\u0026#34; : false, \u0026#34;proxyAuthUser\u0026#34; : null, \u0026#34;shareOverLan\u0026#34; : false, \u0026#34;localPort\u0026#34; : 1080 } é™„å½• # ä¸€äº›å‘½ä»¤\n$ /usr/bin/python /usr/local/bin/ssserver -c /etc/shadowsocks.json -d start # /etc/shadowsocks.json { \u0026#34;server\u0026#34;:\u0026#34;0.0.0.0\u0026#34;, \u0026#34;server_port\u0026#34;:8989, \u0026#34;local_address\u0026#34;:\u0026#34;127.0.0.1\u0026#34;, \u0026#34;local_port\u0026#34;:1080, \u0026#34;password\u0026#34;:\u0026#34;****\u0026#34;, \u0026#34;timeout\u0026#34;:300, \u0026#34;method\u0026#34;:\u0026#34;aes-256-cfb\u0026#34;, \u0026#34;fast_open\u0026#34;:false } kcp config\n{ \u0026#34;listen\u0026#34;: \u0026#34;:29900\u0026#34;, \u0026#34;target\u0026#34;: \u0026#34;127.0.0.1:8989\u0026#34;, \u0026#34;key\u0026#34;: \u0026#34;****\u0026#34;, \u0026#34;crypt\u0026#34;: \u0026#34;salsa20\u0026#34;, \u0026#34;mode\u0026#34;: \u0026#34;fast2\u0026#34;, \u0026#34;mtu\u0026#34;: 1350, \u0026#34;sndwnd\u0026#34;: 1024, \u0026#34;rcvwnd\u0026#34;: 1024, \u0026#34;datashard\u0026#34;: 70, \u0026#34;parityshard\u0026#34;: 30, \u0026#34;dscp\u0026#34;: 46, \u0026#34;nocomp\u0026#34;: false, \u0026#34;acknodelay\u0026#34;: false, \u0026#34;nodelay\u0026#34;: 0, \u0026#34;interval\u0026#34;: 40, \u0026#34;resend\u0026#34;: 0, \u0026#34;nc\u0026#34;: 0, \u0026#34;sockbuf\u0026#34;: 4194304, \u0026#34;keepalive\u0026#34;: 10 } æ•°æ®æµ\n","date":"June 21 2018","permalink":"/posts/2018/shadow-socks-and-bandwagon/","section":"ç¢è¯­é—²è¨€","summary":"è¿™æ˜¯å¹²å•¥çš„ # æ•æ„Ÿä½ æ‡‚çš„ï¼Œä¸å¤šè°ˆã€‚ğŸŒ","title":"å…³äºç§‘å­¦å†²æµª"},{"content":"Mark Zuckerberg æ¯å¹´éƒ½ä¼šå‘å¸ƒè‡ªå·±çš„å¹´åº¦æŒ‘æˆ˜ Personal Challenge\nSoï¼Œæˆ‘ä¹Ÿè¦ç»™è‡ªå·±ç«‹ä¸€äº› Flag\u0026hellip;\næŠ€æœ¯ç›®æ ‡ # //\u0026lt;!-- --\u0026gt; console.log(\u0026#39;è¾¾åˆ°ä¸­åˆçº§å‰ç«¯å·¥ç¨‹å¸ˆæ°´å¹³\u0026#39;) //\u0026lt;!-- --\u0026gt; UPDATE: å¹¶æ²¡æœ‰è¾¾åˆ° ğŸ˜¢\nè¿™å°†æ˜¯æŠ€æœ¯å¹¿åº¦æ‹“å®½çš„ä¸€å¹´ã€‚\næœ€è¿‘å‡ å¹´ï¼Œéšç€ä¸­å¹´å±æœºçš„æå‰åˆ°æ¥ï¼Œ90å¹´ç å†œè¶Šæ¥è¶Šç„¦è™‘ï¼Œåœ¨çŸ¥ä¹ä¸Šçš„å„ç§é—®é¢˜:\n35 å²ä»¥ä¸Šçš„äº’è”ç½‘ / ç§‘æŠ€è¡Œä¸šä»ä¸šè€…é¢ä¸´è£å‘˜æ—¶ï¼Œåº”å¦‚ä½•è§„åˆ’èŒä¸šå‘å±•ï¼Ÿ\næ–°æ—¶ä»£çš„ä¸­å¹´å±æœºé•¿å•¥æ ·ï¼Ÿ\n30å²ç¨‹åºå‘˜çš„å‡ºè·¯\nçŸ¥ä¹åœ†æ¡Œ - 30 å²äººç”Ÿæ”»ç•¥\nç­‰ç­‰\nå¾ˆå¤šäººè¡¨è¾¾äº†è¿™æ ·ä¸€ä¸ªè§‚ç‚¹ï¼Œè¦æƒ³ç»´æŒèŒåœºç”Ÿå‘½åŠ›ï¼Œå¿…é¡»è¦åŠªåŠ›æŒæ¡æ›´æ·±æ›´å¹¿åœ°æŠ€èƒ½ã€‚\næˆä¸ºæ‰€è°“çš„æ–œæ  (Slash) é’å¹´ï¼Œä¸å†æ»¡è¶³äºå•ä¸€èŒä¸šï¼Œè€Œæ˜¯å¤šå…ƒåŒ–å‘å±•ã€‚\nç”Ÿæ´»ç›®æ ‡ # æ—©ç‚¹ç¡è§‰ # å¸¸å¹´å¤„äºç¼ºè§‰çš„çŠ¶æ€ï¼Œæ•´ä¸ªäººéƒ½ä¸å¥½äº†\nTODO: æœ€å¥½ 11:30 pm å‰ç¡è§‰\né”»ç‚¼èº«ä½“ # å°è‚šå­å‡å‡å‡å‘€ï¼\nå®¶é‡Œæ”¶æ‹¾å¥½ # å…»äº†ç‚¹èŠ±èŠ±è‰è‰ï¼Œä¹°äº†ä¸€åªå°é¾Ÿé¾Ÿï¼Œå¸Œæœ›å®ƒæ˜å¹´è¿˜åœ¨\nUPDATE: å°é¾Ÿé¾Ÿè¢«æˆ‘å…»æ­»äº† ğŸ˜­\nç»“å©šå§ # åœ¨ä¸€èµ·å¿«ä¸€å¹´äº†ï¼Œå–œæ¬¢å¥¹çš„æ€§æ ¼ï¼Œä¹Ÿè§‰å¾—è¯¥ä¿®æˆæ­£æœï¼Œå®‰å®šä¸‹æ¥äº†ã€‚\nUPDATE: 2018.12.01 ç›¸è¯† 520 å¤©ï¼Œæˆ‘ä»¬ç»“å©šå•¦ï¼ğŸ‘« ğŸ’•ğŸ’•\n","date":"January 29 2018","permalink":"/posts/2018/2018-personal-challenge/","section":"ç¢è¯­é—²è¨€","summary":"\u003cp\u003eMark Zuckerberg æ¯å¹´éƒ½ä¼šå‘å¸ƒè‡ªå·±çš„å¹´åº¦æŒ‘æˆ˜ \u003ca href=\"https://www.facebook.com/zuck/posts/10104380170714571\"\u003ePersonal Challenge\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\n\n\n\n  \u003cfigure\u003e\n    \u003cimg class=\"my-0 rounded-md\" src=\"https://ryder-1252249141.cos.ap-shanghai.myqcloud.com/uPic/2022-04-07-2018-Zuckerberg.jpg\" alt=\"\" /\u003e\n    \n  \u003c/figure\u003e\n\n\u003c/p\u003e\n\u003cp\u003eSoï¼Œæˆ‘ä¹Ÿè¦ç»™è‡ªå·±ç«‹ä¸€äº› Flag\u0026hellip;\u003c/p\u003e","title":"2018 ä¸ªäººç›®æ ‡ ğŸ¯"},{"content":"Chromium æ˜¯ Chrome çš„å¼€å‘ç‰ˆæœ¬ï¼Œä¹Ÿå°±æ˜¯å¼€å‘è¿‡ç¨‹ä¸­å­˜åœ¨ä¸€å † Bug çš„ç‰ˆæœ¬ï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆè¦ç”¨è¿™ä¸ªå‘¢ ğŸ˜\nå½“ç„¶æ˜¯å› ä¸ºå¥½ zhuÄng ç”¨ bÄ« äº† ğŸ˜… åºŸè¯å°‘è¯´ï¼Œä¸‹è½½åœ°å€ï¼š https://download-chromium.appspot.com/\nå¦‚æœä¸‹è½½ä¸äº†ï¼Œå¯ä»¥è¯•ä¸‹ï¼š\nWindows https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Win_x64/\nMac https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Mac/\næ‰“ä¸å¼€ä¹‹ç±»çš„éœ€è¦ç¿»å¢™çš„é—®é¢˜è‡ªè¡Œè§£å†³å§ã€‚\né—®é¢˜ # æ‰“å¼€ Chromium ä¼šæç¤º ç¼ºå°‘ Google API å¯†é’¥ï¼Œå› æ­¤ Chromium çš„éƒ¨åˆ†åŠŸèƒ½å°†æ— æ³•ä½¿ç”¨ ğŸ˜’\nç”±äº Chromium ä½¿ç”¨çš„ API éƒ½éœ€è¦è‡ªè¡Œç”³è¯·å¯†é’¥æ‰èƒ½ä½¿ç”¨ã€‚\næ‰€ä»¥ åœ¨ https://console.cloud.google.com/ ä¸Šåˆ›å»ºå¯†é’¥ã€‚\nç›¸å…³æ–‡æ¡£ï¼šhttp://www.chromium.org/developers/how-tos/api-keys\næœ€åå¯†é’¥æœ‰ä¸‰ä¸ªï¼Œä½ç½®åœ¨ https://console.cloud.google.com/apis/credentials\nGOOGLE_API_KEY GOOGLE_DEFAULT_CLIENT_ID GOOGLE_DEFAULT_CLIENT_SECRET è§£å†³ # å®˜æ–¹çš„è§£å†³æ–¹æ³•æ˜¯ï¼š\nå°†ä¸‹é¢ä¸‰è¡Œå†™åˆ° ~/.bash_profile ä¸­ï¼Œç„¶åé‡å¯æµè§ˆå™¨å³å¯\nexport GOOGLE_API_KEY=\u0026#34;****\u0026#34; export GOOGLE_DEFAULT_CLIENT_ID=\u0026#34;**** export GOOGLE_DEFAULT_CLIENT_SECRET=\u0026#34;****\u0026#34; $ source ~/.bash_profile è¿™æ ·ï¼Œæœ‰æ—¶æ˜¯ç®¡ç”¨çš„ã€‚ç‰¹åˆ«æ˜¯åœ¨ Windowsä¸Šï¼Œä½¿ç”¨ç±»ä¼¼çš„åœ¨å‘½ä»¤è¡Œè¾“å…¥ï¼š\nsetx GOOGLE_API_KEY your_key_goes_here setx GOOGLE_DEFAULT_CLIENT_ID your_client_id_goes_here setx GOOGLE_DEFAULT_CLIENT_SECRET your_client_secret_goes_here ä½†æ˜¯ Mac ä¸Šæœ‰æ—¶ä¸ç®¡ç”¨ï¼Œå‚è€ƒ:\nhttps://gist.github.com/cvan/44a6d60457b20133191bd7b104f9dcc4\nåœ¨æ–‡æ¡£æœ€åï¼Œå‘ç°æœ‰ä¸ªå“¥ä»¬å†™äº†ä¸€ä¸ª Python è„šæœ¬ï¼Œè¯•äº†ä¸‹ï¼Œå¾ˆå¥½ç”¨ï¼\næˆ‘ Fork äº†ä¸€ä¸‹ï¼Œä¿®å¤äº†ä¸€ä¸ª bugï¼Œç»™ä»–æäº† PR (https://github.com/ezeeyahoo/ChromiumSyncEnabler/pull/1)\nhttps://github.com/ryderfang/ChromiumSyncEnabler\nè·‘ä¸‹æ¥é‡å¯ Chromium å°± OK äº†ï¼\n","date":"January 26 2018","permalink":"/posts/2018/chromium-api-keys/","section":"ç¢è¯­é—²è¨€","summary":"\u003cp\u003eChromium æ˜¯ Chrome çš„å¼€å‘ç‰ˆæœ¬ï¼Œä¹Ÿå°±æ˜¯å¼€å‘è¿‡ç¨‹ä¸­å­˜åœ¨ä¸€å † Bug çš„ç‰ˆæœ¬ï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆè¦ç”¨è¿™ä¸ªå‘¢ ğŸ˜\u003c/p\u003e","title":"Chromium ç¼ºå°‘ Google API å¯†é’¥è§£å†³åŠæ³•"},{"content":"Visual Paradigm æ˜¯ä¸€ä¸ªä¸é”™çš„ç”»æµç¨‹å›¾ã€æ—¶åºå›¾å’Œç±»å›¾çš„å·¥å…·ï¼Œæœ‰ 30 å¤©è¯•ç”¨ç‰ˆå’Œç¤¾åŒºç‰ˆã€‚\nå…¶ä¸­ ç¤¾åŒºç‰ˆ Community Version æ˜¯æ°¸ä¹…å…è´¹çš„ã€‚\nå”¯ä¸€ä¸è¶³çš„æ˜¯åœ¨å¯¼å‡ºå›¾è¡¨ä¸ºå›¾ç‰‡æ—¶ï¼Œå³ä¸‹è§’ä¼šæœ‰ä¸€ä¸ªæ°´å°ã€‚\næœ¬æ–‡å°±æ˜¯è¦ä½¿ç”¨ Python å»é™¤è¿™ä¸ªæ°´å°ï¼Œè¾“å‡º png å›¾ç‰‡ã€‚\nè¯¥æ–¹æ³•å‚è€ƒäº†ç½‘ç»œä¸Šæ‰‹åŠ¨å»é™¤çš„æ–¹æ³•ï¼Œéœ€è¦æœ‰ä¸€äº›æ“ä½œ\nå¯¼å‡º # é¦–å…ˆéœ€è¦å°†å®Œæˆçš„å›¾è¡¨å¯¼å‡ºä¸º svg æ ¼å¼çš„å›¾ç‰‡ï¼š\né€‰æ‹© svg æ ¼å¼ä¿å­˜ï¼š\nè¿™æ ·æˆ‘ä»¬å°±å¾—åˆ°äº†ä¸€ä¸ªå¸¦æ°´å°çš„ svg å›¾ç‰‡:\nå»é™¤æ°´å° # å¤„ç† svg å›¾ç‰‡ Svgï¼ˆScalable Vector Graphicsï¼Œå¯ç¼©æ”¾çŸ¢é‡å›¾å½¢ï¼‰ æ˜¯ä¸€ç§çŸ¢é‡å›¾ç‰‡æ ¼å¼ï¼Œå¯ä»¥ä½¿ç”¨æ–‡æœ¬ç¼–è¾‘å™¨ç›´æ¥æ‰“å¼€ï¼Œå¯ä»¥çœ‹å¾—åˆ°åœ¨æœ€åå‡ è¡Œæœ‰æ°´å°çš„å†…å®¹ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç”¨ä»£ç è‡ªåŠ¨æŠŠä»–ä»¬å»æ‰ï¼ˆå½“ç„¶ä¹Ÿå¯ä»¥æ‰‹åŠ¨åˆ é™¤ï¼‰ã€‚\næ°´å°å†…å®¹åœ¨ Svg æ–‡ä»¶ä¸­ï¼š\n\u0026lt;text x=\u0026#34;68\u0026#34; xml:space=\u0026#34;preserve\u0026#34; y=\u0026#34;276\u0026#34; stroke=\u0026#34;none\u0026#34; \u0026gt;Powered ByVisual Paradigm Community Edition\u0026lt;/text \u0026gt;\u0026lt;image font-size=\u0026#34;12\u0026#34; x=\u0026#34;303\u0026#34; y=\u0026#34;264\u0026#34; fill=\u0026#34;white\u0026#34; width=\u0026#34;16\u0026#34; xlink:href=\u0026#34;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABvklEQVR42o1TPUgC YRi+z1PSzWrSc6ho6W/xNIhEoZoCl/a2fqaGoJKwyHIp16ZyCyIolwpq6c8lIz0h h6ACa/KWOHGz4byezz7lkNM8eHjf7/ve53l/vu84rsWXEcVo2uOJtYrhW5A3YCKE 48YXnE7zoSzfty3AyFHdln/R4bBA5O5fgQbyiUbIK6oY5gjxG1XCtyAngFl7qXT+ Y7UOwR+glTSK8EZkomlJMZsNCrKs7iuKOuXzJboUJYAqemrtHEBkGwsTIy/pe0bZ /Rmvd6K27svnx7Q/cu08LIliiPpmlvEGJo0DL4sRSKVyBuEZledznKpeYs+u6/YF nKt6C+jpe14QPjCsQUpmQVYgaNK0R9hPYJLtZ5Eo5JGkVF0AmUZAvoBLM5WBXhZs A6YB+pi+AAudD+zOnMuVjBcKheoMbOXyG0wcWKGtAPr77gauKyYTFU8g+xrsUWex mKu2r79Gye3eQkAE7i4wCtQG+YTMKZwt0zOUv274DjCLJGZBoEqv9JRtyyDfgrwK f09PNnyJ6OuBiYSxPAbecf9UMNZIbvovUBE8FjRINrEMNJbd1t9I28Gz7YD7DHKo WdwvFl2vGaThOSEAAAAASUVORK5CYII=\u0026#34; height=\u0026#34;16\u0026#34; stroke=\u0026#34;white\u0026#34; preserveAspectRatio=\u0026#34;none\u0026#34; /\u0026gt; ç”¨ Python è¯»å–æ–‡ä»¶å†…å®¹ï¼Œå»é™¤è¿™ä¸€æ®µå†…å®¹å³å¯ã€‚\nè½¬æ¢æˆ png å›¾ç‰‡ ç„¶åå°† Svg æ ¼å¼è½¬æ¢æˆ pngæ ¼å¼ï¼Œè¿™é‡Œæœ‰ç°æˆçš„åº“ cairosvg æ¥å®ç°ã€‚\nå®Œæ•´çš„ä»£ç å¯ä»¥åœ¨ æˆ‘çš„ Github ä¸Šæ‰¾åˆ°ã€‚\nä½¿ç”¨æ–¹æ³• # éœ€è¦å…ˆå®‰è£… cairosvg: $ pip3 install cairosvg å¯èƒ½ä¼šæŠ¥é”™ï¼ŒPillow å®‰è£…å¤±è´¥ï¼Œæç¤ºï¼š The headers or library files could not be found for zlib.\nå¯ä»¥å°è¯•ä¸€ä¸‹:\n$ xcode-select â€”-install $ brew install libtiff libjpeg webp little-cms2 $ pip3 install Pillow å®‰è£… cairosvg æˆåŠŸåï¼Œä½¿ç”¨ Python3 import cairosvg å‘ç°è¿˜æ˜¯æŠ¥é”™:\n\u0026gt;\u0026gt;\u0026gt; import cairosvg Traceback (most recent call last): File \u0026#34;\u0026lt;stdin\u0026gt;\u0026#34;, line 1, in \u0026lt;module\u0026gt; File \u0026#34;/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/cairosvg/__init__.py\u0026#34;, line 29, in \u0026lt;module\u0026gt; from . import surface File \u0026#34;/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/cairosvg/surface.py\u0026#34;, line 24, in \u0026lt;module\u0026gt; import cairocffi as cairo File \u0026#34;/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/cairocffi/__init__.py\u0026#34;, line 41, in \u0026lt;module\u0026gt; cairo = dlopen(ffi, \u0026#39;cairo\u0026#39;, \u0026#39;cairo-2\u0026#39;) File \u0026#34;/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/cairocffi/__init__.py\u0026#34;, line 38, in dlopen raise OSError(\u0026#34;dlopen() failed to load a library: %s\u0026#34; % \u0026#39; / \u0026#39;.join(names)) OSError: dlopen() failed to load a library: cairo / cairo-2 ç»è¿‡æœç´¢ï¼Œå‘ç°è¿˜éœ€è¦å®‰è£… cairo å’Œ libffiï¼š\n$ brew install cairo pango gdk-pixbuf libffi ç»ˆäºå¼„å®Œäº† æºæ–‡ä»¶ï¼š vp_remove_watermark.py\næ ¸å¿ƒä»£ç å¦‚ä¸‹ï¼š import cairosvg svg_content = \u0026#39;\u0026#39; with open(src_name, \u0026#39;r\u0026#39;) as f: svg_content = f.read() end = svg_content.rfind(\u0026#39;\u0026lt;/g\u0026#39;) beg = svg_content.rfind(\u0026#39;\u0026lt;g\u0026#39;, 0, end) svg_content = svg_content[:beg] + svg_content[end:] with open(\u0026#39;./vp_test_out.svg\u0026#39;, \u0026#39;w\u0026#39;) as f: f.write(svg_content) cairosvg.svg2png(url=\u0026#39;./vp_test_out.svg\u0026#39;, write_to=dst_name) èµ¶ç´§è·‘èµ·æ¥ $ python vp_remove_watermark test.svg -o out.png ","date":"January 25 2018","permalink":"/posts/2018/visual-paradigm-remove-watermark/","section":"ç¢è¯­é—²è¨€","summary":"\u003cp\u003eVisual Paradigm æ˜¯ä¸€ä¸ªä¸é”™çš„ç”»æµç¨‹å›¾ã€æ—¶åºå›¾å’Œç±»å›¾çš„å·¥å…·ï¼Œæœ‰ 30 å¤©è¯•ç”¨ç‰ˆå’Œç¤¾åŒºç‰ˆã€‚\u003c/p\u003e\n\u003cp\u003eå…¶ä¸­ \u003ca href=\"https://www.visual-paradigm.com/cn/download/community.jsp\"\u003eç¤¾åŒºç‰ˆ Community Version\u003c/a\u003e æ˜¯æ°¸ä¹…å…è´¹çš„ã€‚\u003c/p\u003e","title":"ç§»é™¤ Visual Paradigm æµç¨‹å›¾çš„æ°´å°"},{"content":"æœ€è¿‘å¼€å§‹å­¦ä¹  Vue.js, ä¸€è„¸æ‡µé€¼åœ°è¿›å…¥å‰ç«¯ä¸–ç•Œã€‚\nä¸ä½¿ç”¨ vue-cli å’Œ webpack è¿™äº›æ„å»ºå·¥å…·ï¼Œä½¿ç”¨å•ä¸ª html å¼•å…¥ Vueã€‚\nhtml å†…å®¹æ˜¯è¿™æ ·çš„:\n\u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;UTF-8\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Hello, Vue\u0026lt;/title\u0026gt; \u0026lt;script src=\u0026#34;https://cdn.jsdelivr.net/npm/vue\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;div id=\u0026#39;app\u0026#39;\u0026gt; \u0026lt;span v-bind:title=\u0026#34;message\u0026#34;\u0026gt;é¼ æ ‡æ‚¬åœ\u0026lt;/span\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script\u0026gt; var app = new Vue({ el: \u0026#39;#app\u0026#39;, data: { message: \u0026#39;é¡µé¢åŠ è½½äº \u0026#39; + new Date().toLocaleString() } }) \u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; ç”¨æµè§ˆå™¨æ‰“å¼€è¿™ä¸ª html å°±å¯ä»¥çœ‹åˆ°æ•ˆæœï¼ˆé¼ æ ‡æ‚¬åœæ˜¾ç¤ºã€é¡µé¢åŠ è½½äºyyyy-MM-dd hh:mm:ssã€ï¼‰\nå®‰è£… Vue-Devtoolsï¼Œä½†æ˜¯æ’ä»¶æ æ˜¾ç¤º\nVue.js not detected\nç”±äºè®¿é—®çš„è·¯å¾„æ˜¯ file:// æ–‡ä»¶è·¯å¾„ï¼ŒChrome æ‰©å±•é»˜è®¤æ˜¯ä¸èƒ½è®¿é—®çš„ã€‚\nVue.js not detected # æ‰“å¼€å³ä¸Šè§’ ... -\u0026gt; æ›´å¤šå·¥å…· -\u0026gt; æ‰©å±•ç¨‹åºï¼Œæ‰¾åˆ° Vue.js devtoolsï¼Œé€‰ä¸­ å…è®¸è®¿é—®æ–‡ä»¶ç½‘å€:\nOKï¼Œç„¶å devtools ä»ç„¶ä¸å¯ç”¨ï¼Œæç¤º\nVue.js is detected on this page. Devtools inspection is not available because it's in production mode or explicitly disabled by the author.\nç”±äºæˆ‘ä»¬ä½¿ç”¨çš„ vue.js https://cdn.jsdelivr.net/npm/vue æ˜¯ç”Ÿäº§ç‰ˆæœ¬ï¼Œæ‰€ä»¥ä¸èƒ½è®¿é—®ã€‚\nProduction mode # ä¸‹è½½å¼€å‘ç‰ˆæœ¬çš„vue.jsï¼Œæ”¾åˆ°æœ¬åœ°ï¼Œä¿®æ”¹srcè·¯å¾„ä¸ºæœ¬åœ°å³å¯ã€‚\nå¼€å‘ç‰ˆæœ¬: https://vuejs.org/js/vue.js\nç”Ÿäº§ç‰ˆæœ¬: https://vuejs.org/js/vue.min.js (æˆ–è€… https://cdn.jsdelivr.net/npm/vue)\nVue-Devtools # è¿™æ ·ï¼Œæ‰“å¼€å¼€å‘è€…å·¥å…· (option + command + i || F12)\nå¯ä»¥çœ‹åˆ°å¤šäº†ä¸€ä¸ªVueçš„Tab:\n","date":"January 24 2018","permalink":"/posts/2018/vue-devtools/","section":"ç¢è¯­é—²è¨€","summary":"\u003cp\u003eæœ€è¿‘å¼€å§‹å­¦ä¹  \u003ca href=\"https://cn.vuejs.org/\"\u003eVue.js\u003c/a\u003e, ä¸€è„¸æ‡µé€¼åœ°è¿›å…¥å‰ç«¯ä¸–ç•Œã€‚\u003c/p\u003e\n\u003cp\u003eä¸ä½¿ç”¨ \u003ccode\u003evue-cli\u003c/code\u003e å’Œ \u003ccode\u003ewebpack\u003c/code\u003e è¿™äº›æ„å»ºå·¥å…·ï¼Œä½¿ç”¨å•ä¸ª html å¼•å…¥ Vueã€‚\u003c/p\u003e","title":"Vue è°ƒè¯•å·¥å…· Devtools"},{"content":"é€ŸæŸ¥æ‰‹å†Œ # *æ–œä½“* ~\u0026gt; æ–œä½“\n**ç²—ä½“** ~\u0026gt; ç²—ä½“\n***ç²—æ–œä½“*** ~\u0026gt; ç²—æ–œä½“\n~~åˆ é™¤çº¿~~ ~\u0026gt; åˆ é™¤çº¿\n*** ~\u0026gt; åˆ†å‰²çº¿\n# ä¸€çº§æ ‡é¢˜\n###### å…­çº§æ ‡é¢˜\n[è¶…é“¾æ¥](http://fangr.cc/) ~\u0026gt; è¶…é“¾æ¥\n[è¶…é“¾æ¥][1] [1]:http://fangr.cc ~\u0026gt;\nè¶…é“¾æ¥\n\u0026lt;http://fangr.cc/\u0026gt; ~\u0026gt; http://fangr.cc/\n*/+/- æ— åºåˆ—è¡¨ ~\u0026gt;\næ— åºåˆ—è¡¨ æ— åºåˆ—è¡¨ 1. æœ‰åºåˆ—è¡¨ ~\u0026gt;\næœ‰åºåˆ—è¡¨ æœ‰åºåˆ—è¡¨ \u0026gt;\u0026gt;\u0026gt; å¼•ç”¨ ~\u0026gt;\nå¤šå±‚å¼•ç”¨\nå¤šå±‚å¼•ç”¨\n![å›¾ç‰‡alt](å›¾ç‰‡url \u0026quot;å›¾ç‰‡title\u0026quot;)\né”šç‚¹: [é€ŸæŸ¥æ‰‹å†Œ](#é€ŸæŸ¥æ‰‹å†Œ) -\u0026gt; é€ŸæŸ¥æ‰‹å†Œ\næ•´ç†ç‰ˆ # åŸä½œè€…: HaoqiangChen, LeaNote\nç›®å½• # æœ‰äº›ç¼–è¾‘å™¨ä½¿ç”¨`[TOC]`å¯ä»¥ç›´æ¥ç”Ÿæˆç›®å½•, ä½†åŸç”Ÿå¹¶ä¸æ”¯æŒã€‚ 0. ç›®å½• 1. åˆ†çº§æ ‡é¢˜ 2. æ–œä½“å’Œç²—ä½“ 3. è¶…é“¾æ¥\n3.1 è¡Œå†…å¼ 3.2 å‚è€ƒå¼ 3.3 è‡ªåŠ¨é“¾æ¥\n4. é”šç‚¹ 5. åˆ—è¡¨\n5.1 æ— åºåˆ—è¡¨ 5.2 æœ‰åºåˆ—è¡¨ 5.3 å®šä¹‰å‹åˆ—è¡¨ 5.4 åˆ—è¡¨ç¼©è¿› 5.5 åŒ…å«æ®µè½çš„åˆ—è¡¨ 5.6 åŒ…å«å¼•ç”¨çš„åˆ—è¡¨ 5.7 åŒ…å«ä»£ç åŒºå—çš„å¼•ç”¨ 5.8 ä¸€ä¸ªç‰¹æ®Šæƒ…å†µ\n6. å¼•ç”¨\n6.1 å¼•ç”¨çš„å¤šå±‚åµŒå¥— 6.2 å¼•ç”¨å…¶å®ƒè¦ç´ \n7. æ’å…¥å›¾åƒ\n7.1 è¡Œå†…å¼ 7.2 å‚è€ƒå¼\n8. åˆ†éš”çº¿å’Œé¢„æ ¼å¼åŒ–\n8.1 åˆ†éš”çº¿ 8.2 é¢„æ ¼å¼åŒ–\n9. è¡¨æ ¼ 10. æ³¨è„š 11. LaTeXå…¬å¼\n11.1 $è¡¨ç¤ºè¡Œå†…å…¬å¼ 11.2 $$è¡¨ç¤ºæ•´è¡Œå…¬å¼\n12. æµç¨‹å›¾ 13. ä»£ç \n13.1 è¡Œå†…å¼ 13.2 ç¼©è¿›å¼å¤šè¡Œä»£ç  13.3 åŒ…è£¹å¤šè¡Œä»£ç  13.4 HTMLåŸå§‹ç \nåˆ†çº§æ ‡é¢˜ # ç¬¬ä¸€ç§å†™æ³•:\nè¿™æ˜¯ä¸€ä¸ªä¸€çº§æ ‡é¢˜ ============================ è¿™æ˜¯ä¸€ä¸ªäºŒçº§æ ‡é¢˜ -------------------------------------------------- ç¬¬äºŒç§å†™æ³•:\n# ä¸€çº§æ ‡é¢˜ ## äºŒçº§æ ‡é¢˜ ### ä¸‰çº§æ ‡é¢˜ #### å››çº§æ ‡é¢˜ ##### äº”çº§æ ‡é¢˜ ###### å…­çº§æ ‡é¢˜ ä¸€çº§æ ‡é¢˜å­—å·æœ€å¤§, ä¾çº§é€’å‡ã€‚ æ˜¾ç¤ºæ•ˆæœ: \u0026lt;!- ignore -\u0026gt;\næ–œä½“å’Œç²—ä½“ # ä»£ç :\nMarkdown ä½¿ç”¨æ˜Ÿå·ï¼ˆ*ï¼‰å’Œåº•çº¿ï¼ˆ_ï¼‰ä½œä¸ºæ ‡è®°å¼ºè°ƒå­—è¯çš„ç¬¦å·, è¢« * æˆ– _ åŒ…å›´çš„å­—è¯ä¼šè¢«è½¬æˆç”¨ \u0026lt;em\u0026gt; æ ‡ç­¾åŒ…å›´, ç”¨ä¸¤ä¸ª * æˆ– _ åŒ…èµ·æ¥çš„è¯, åˆ™ä¼šè¢«è½¬æˆ \u0026lt;strong\u0026gt;, ä¾‹å¦‚: *æ–œä½“*æˆ–_æ–œä½“_ **ç²—ä½“** ***åŠ ç²—æ–œä½“*** ~~åˆ é™¤çº¿~~ ä½†æ˜¯ç›®å‰MarkdownPad2å’ŒGitHubçš„Markdownå¹¶ä¸æ”¯æŒ~~åˆ é™¤çº¿~~è¿™ä¸ªè¯­æ³•åŠŸèƒ½, å¯ä»¥ç”¨htmlçš„\u0026lt;del\u0026gt;\u0026lt;/del\u0026gt;æˆ–\u0026lt;s\u0026gt;\u0026lt;/s\u0026gt;ä»£æ›¿ã€‚ æ˜¾ç¤ºæ•ˆæœ:\nè¿™æ˜¯ä¸€æ®µæ–œä½“ è¿™æ˜¯ä¸€æ®µç²—ä½“ è¿™æ˜¯ä¸€æ®µåŠ ç²—æ–œä½“ è¿™æ˜¯ä¸€æ®µåˆ é™¤çº¿ è¶…é“¾æ¥ # Markdown æ”¯æŒä¸¤ç§å½¢å¼çš„é“¾æ¥è¯­æ³•: è¡Œå†…å¼å’Œå‚è€ƒå¼ä¸¤ç§å½¢å¼, è¡Œå†…å¼ä¸€èˆ¬ä½¿ç”¨è¾ƒå¤šã€‚\nè¡Œå†…å¼ # è¯­æ³•è¯´æ˜:\n[]é‡Œå†™é“¾æ¥æ–‡å­—, ()é‡Œå†™é“¾æ¥åœ°å€, ()é‡Œé¢\u0026quot; \u0026ldquo;ä¸­çš„å†…å®¹å¯ä»¥ä¸ºé“¾æ¥æŒ‡å®štitleå±æ€§, titleå±æ€§å¯åŠ å¯ä¸åŠ ã€‚titleå±æ€§çš„æ•ˆæœæ˜¯é¼ æ ‡æ‚¬åœåœ¨é“¾æ¥ä¸Šä¼šå‡ºç°æŒ‡å®šçš„ titleæ–‡å­—ã€‚[é“¾æ¥æ–‡å­—](é“¾æ¥åœ°å€ \u0026ldquo;é“¾æ¥æ ‡é¢˜\u0026rdquo;)è¿™æ ·çš„å½¢å¼ã€‚é“¾æ¥åœ°å€ä¸é“¾æ¥æ ‡é¢˜å‰æœ‰ä¸€ä¸ªç©ºæ ¼ã€‚ ä»£ç :\næ¬¢è¿æ¥åˆ°[Markdownè¯­æ³•ç¯‡](https://github.com/HaoqiangChen/Hq-note/tree/master/Markdown) æ¬¢è¿æ¥åˆ°[Markdownè¯­æ³•ç¯‡](https://github.com/HaoqiangChen/Hq-note/tree/master/Markdown \u0026#34;Markdownè¯­æ³•ç¯‡\u0026#34;) æ˜¾ç¤ºæ•ˆæœ:\næ¬¢è¿æ¥åˆ°Markdownè¯­æ³•ç¯‡\næ¬¢è¿æ¥åˆ°Markdownè¯­æ³•ç¯‡\nå‚è€ƒå¼ # å‚è€ƒå¼è¶…é“¾æ¥ä¸€èˆ¬ç”¨åœ¨å­¦æœ¯è®ºæ–‡ä¸Šé¢, æˆ–è€…å¦ä¸€ç§æƒ…å†µ, å¦‚æœæŸä¸€ä¸ªé“¾æ¥åœ¨æ–‡ç« ä¸­å¤šå¤„ä½¿ç”¨, é‚£ä¹ˆä½¿ç”¨å¼•ç”¨ çš„æ–¹å¼åˆ›å»ºé“¾æ¥å°†éå¸¸å¥½, å®ƒå¯ä»¥è®©ä½ å¯¹é“¾æ¥è¿›è¡Œç»Ÿä¸€çš„ç®¡ç†ã€‚\nè¯­æ³•è¯´æ˜:\nå‚è€ƒå¼é“¾æ¥åˆ†ä¸ºä¸¤éƒ¨åˆ†, æ–‡ä¸­çš„å†™æ³• [é“¾æ¥æ–‡å­—][é“¾æ¥æ ‡è®°], åœ¨æ–‡æœ¬çš„ä»»æ„ä½ç½®æ·»åŠ [é“¾æ¥æ ‡è®°]:é“¾æ¥åœ°å€ \u0026quot;é“¾æ¥æ ‡é¢˜\u0026quot;, é“¾æ¥åœ°å€ä¸é“¾æ¥æ ‡é¢˜å‰æœ‰ä¸€ä¸ªç©ºæ ¼ã€‚ å¦‚æœé“¾æ¥æ–‡å­—æœ¬èº«å¯ä»¥åšä¸ºé“¾æ¥æ ‡è®°, ä½ ä¹Ÿå¯ä»¥å†™æˆ[é“¾æ¥æ–‡å­—][] [é“¾æ¥æ–‡å­—]:é“¾æ¥åœ°å€çš„å½¢å¼, è§ä»£ç çš„æœ€åä¸€è¡Œã€‚\nä»£ç :\næ¬¢è¿é˜…è¯»æœ¬[Markdownè¯­æ³•ç¯‡][1], è¿˜æœ‰è¿™å‡ ç¯‡é«˜æ‰‹æ€»ç»“çš„ä¹Ÿä¸é”™:[å…¥é—¨ç¯‡][2]ã€ [ç®€æ˜ç‰ˆ][3]ã€[å®Œæ•´ç‰ˆ][4], æˆ‘å°±å–œæ¬¢æŠŠç™¾å®¶æ±‡æˆ[è‡ªå·±ä¸€å®¶][]^_^ã€‚ [1]:https://github.com/HaoqiangChen/Hq-note/tree/master/Markdown \u0026#34;Markdownè¯­æ³•ç¯‡\u0026#34; [2]:https://sspai.com/post/25137 \u0026#34;å…¥é—¨ç¯‡\u0026#34; [3]:http://wowubuntu.com/Markdown/index.html \u0026#34;ç®€æ˜ç‰ˆ\u0026#34; [4]:http://blog.leanote.com/post/freewalk/Markdown-è¯­æ³•æ‰‹å†Œ \u0026#34;å®Œæ•´ç‰ˆ\u0026#34; [è‡ªå·±ä¸€å®¶]:https://github.com/HaoqiangChen/Hq-note/tree/master/Markdown æ˜¾ç¤ºæ•ˆæœ:\næ¬¢è¿é˜…è¯»æœ¬Markdownè¯­æ³•ç¯‡, è¿˜æœ‰è¿™å‡ ç¯‡é«˜æ‰‹æ€»ç»“çš„ä¹Ÿä¸é”™:å…¥é—¨ç¯‡ã€ ç®€æ˜ç‰ˆã€å®Œæ•´ç‰ˆ, æˆ‘å°±å–œæ¬¢æŠŠç™¾å®¶æ±‡æˆè‡ªå·±ä¸€å®¶^_^ã€‚\nè‡ªåŠ¨é“¾æ¥ # è¯­æ³•è¯´æ˜: Markdown æ”¯æŒä»¥æ¯”è¾ƒç®€çŸ­çš„è‡ªåŠ¨é“¾æ¥å½¢å¼æ¥å¤„ç†ç½‘å€å’Œç”µå­é‚®ä»¶ä¿¡ç®±, åªè¦æ˜¯ç”¨\u0026lt;\u0026gt;åŒ…èµ·æ¥,Markdown å°±ä¼šè‡ªåŠ¨æŠŠå®ƒè½¬æˆé“¾æ¥ã€‚ä¸€èˆ¬ç½‘å€çš„é“¾æ¥æ–‡å­—å°±å’Œé“¾æ¥åœ°å€ä¸€æ ·, ä¾‹å¦‚:\nä»£ç :\n\u0026lt;http://example.com/\u0026gt; \u0026lt;address@example.com\u0026gt; æ˜¾ç¤ºæ•ˆæœ:\nhttp://example.com/ address@example.com\né”šç‚¹ # ç½‘é¡µä¸­, é”šç‚¹å…¶å®å°±æ˜¯é¡µå†…è¶…é“¾æ¥, ä¹Ÿå°±æ˜¯é“¾æ¥æœ¬æ–‡æ¡£å†…éƒ¨çš„æŸäº›å…ƒç´ , å®ç°å½“å‰é¡µé¢ä¸­çš„è·³è½¬ã€‚æ¯”å¦‚æˆ‘è¿™é‡Œå†™ä¸‹ä¸€ä¸ªé”šç‚¹, ç‚¹å‡»å›åˆ°ç›®å½•, å°±èƒ½è·³è½¬åˆ°ç›®å½•ã€‚ åœ¨ç›®å½•ä¸­ç‚¹å‡»è¿™ä¸€èŠ‚, å°±èƒ½è·³è¿‡æ¥ã€‚è¿˜æœ‰ä¸‹ä¸€èŠ‚çš„æ³¨è„šã€‚è¿™äº›æ ¹æœ¬ä¸Šéƒ½æ˜¯ç”¨é”šç‚¹æ¥å®ç°çš„ã€‚\næ³¨æ„:\nMarkdown Extra åªæ”¯æŒåœ¨æ ‡é¢˜åæ’å…¥é”šç‚¹, å…¶å®ƒåœ°æ–¹æ— æ•ˆã€‚ Leanote ç¼–è¾‘å™¨å³ä¾§æ˜¾ç¤ºæ•ˆæœåŒºåŸŸæš‚æ—¶ä¸æ”¯æŒé”šç‚¹è·³è½¬, æ‰€ä»¥ç‚¹æ¥ç‚¹å»å‘ç°æ²¡æœ‰è·³è½¬ä¸å¿…æƒŠæ…Œ, ä½†æ˜¯ä½ å‘å¸ƒæˆç¬”è®°æˆ–åšæ–‡åæ˜¯æ”¯æŒè·³è½¬çš„ã€‚ éå¸¸é—æ†¾çš„æ˜¯, ç›®å‰MarkdownPad2å’ŒGitHubçš„Markdownå¹¶ä¸æ”¯æŒ[TOC]ç›®å½•å’Œé”šç‚¹è¿™ä¸ªåŠŸèƒ½, æš‚æ—¶åªèƒ½ç”¨HTMLçš„æ ‡ç­¾idæ¥ä½¿ç”¨é¡µå†…è·³è½¬ã€‚ è¯­æ³•æè¿°:\nä½¿ç”¨[TOC]æ ‡è®°ç¼–è¾‘å™¨ä¼šæŠŠæ‰€æœ‰æ ‡é¢˜å†™åˆ°ç›®å½•å¤§çº²ä¸­ã€‚ åœ¨ä½ å‡†å¤‡è·³è½¬åˆ°çš„æŒ‡å®šæ ‡é¢˜åæ’å…¥é”šç‚¹{\\#æ ‡è®°}, ç„¶ååœ¨æ–‡æ¡£çš„å…¶å®ƒåœ°æ–¹å†™ä¸Šè¿æ¥åˆ°é”šç‚¹çš„é“¾æ¥ã€‚ ç›´æ¥HTMLè¯­æ³•é”šç‚¹åŠŸèƒ½ã€‚ è€Œè¯´åˆ°è¿™ä¸ªå°±æœ‰ä¸€ä¸ªå€¼å¾—ä¸€æçš„åœ°æ–¹äº†, å°±æ˜¯å¦‚ä½•åœ¨GitHubä¸Šä¹Ÿèƒ½å®ç°é¡µé¢è·³è½¬, åŸå…ˆæˆ‘ç”¨çš„æ˜¯HTMLçš„aæ ‡ç­¾é”šç‚¹, å¹¶ä¸”è‡ªå·±ç»™æ¯ä¸ªæ ‡é¢˜å¥—ä¸Šä¸ªspan#id, ä½†æ˜¯å‘ç°åœ¨gitbookå¯ä»¥æœ‰æ•ˆæœ, ä½†æ˜¯åœ¨GitHubä¸Šä¸è¡Œ, åé¢å‘ç°è¿™ä¸ªåŸç”ŸMarkdownä¼šè‡ªåŠ¨å¸®ä½ å¤„ç†, è‡ªåŠ¨è½¬æˆ HTML å®ä½“, ç„¶åæˆ‘å°±å»çœ‹æ˜¯æ€ä¹ˆè½¬åŒ–çš„, å‘ç°å®ƒè½¬åŒ–æ¯ä¸ªæ ‡é¢˜çš„åŒæ—¶éƒ½ä¼šèµ‹äºˆä¸€ä¸ªID, é‚£ä¹ˆæˆ‘ä»¬å®Œå…¨ç›´æ¥æ‹¿è¿™ä¸ªIDæ¥åšé”šç‚¹, è‡³äºæ€ä¹ˆæ‹¿åˆ°è¿™ä¸ªID, è¿™ä¸ªåº”è¯¥å°±ä¸ç”¨æˆ‘è¯´äº†å§, ä¼šç‚¹ç¼–ç¨‹éƒ½çŸ¥é“, ç›´æ¥æ‰“å¼€chromeæˆ–è€…Firefoxç­‰è°ƒè¯•å·¥å…·å°±å¯ä»¥çœ‹åˆ°äº†ã€‚ ä»£ç :\n## 0. ç›®å½•{#index} [TOC] ä¸Šé¢è¿™ä¸¤ç§æ–¹æ³•åŸç”ŸMarkdownéƒ½ä¸æ”¯æŒ, ä½†æ˜¯ç¬¬ä¸€ç§åœ¨gitbookå±…ç„¶æœ‰æ•ˆæœ, å¯æƒœåœ¨GitHubè¿˜æ˜¯æ²¡æœ‰æ•ˆæœ \u0026lt;span id=\u0026#34;#index\u0026#34;\u0026gt;\u0026lt;/span\u0026gt; è·³è½¬åˆ°[ç›®å½•](#ç›®å½•) æ˜¾ç¤ºæ•ˆæœ:\nè·³è½¬åˆ°ç›®å½•\nåˆ—è¡¨ # æ— åºåˆ—è¡¨ # ä½¿ç”¨ *, +, - è¡¨ç¤ºæ— åºåˆ—è¡¨, ä¸‰ä¸ªéƒ½æ˜¾ç¤ºä¸ºå®å¿ƒåœ†ç‚¹ã€‚\nä»£ç :\n- æ— åºåˆ—è¡¨é¡¹ ä¸€ - æ— åºåˆ—è¡¨é¡¹ äºŒ - æ— åºåˆ—è¡¨é¡¹ ä¸‰ æ˜¾ç¤ºæ•ˆæœ:\næ— åºåˆ—è¡¨é¡¹ ä¸€ æ— åºåˆ—è¡¨é¡¹ äºŒ æ— åºåˆ—è¡¨é¡¹ ä¸‰ æœ‰åºåˆ—è¡¨ # æœ‰åºåˆ—è¡¨åˆ™ä½¿ç”¨æ•°å­—æ¥ç€ä¸€ä¸ªè‹±æ–‡å¥ç‚¹å†åŠ ä¸ªç©ºæ ¼ã€‚\nä»£ç :\n1. æœ‰åºåˆ—è¡¨é¡¹ ä¸€ 2. æœ‰åºåˆ—è¡¨é¡¹ äºŒ 3. æœ‰åºåˆ—è¡¨é¡¹ ä¸‰ æ˜¾ç¤ºæ•ˆæœ:\næœ‰åºåˆ—è¡¨é¡¹ ä¸€ æœ‰åºåˆ—è¡¨é¡¹ äºŒ æœ‰åºåˆ—è¡¨é¡¹ ä¸‰ å®šä¹‰å‹åˆ—è¡¨ # è¯­æ³•è¯´æ˜:\nå®šä¹‰å‹åˆ—è¡¨ç”±åè¯å’Œè§£é‡Šç»„æˆã€‚ä¸€è¡Œå†™ä¸Šå®šä¹‰, ç´§è·Ÿä¸€è¡Œå†™ä¸Šè§£é‡Šã€‚è§£é‡Šçš„å†™æ³•:ç´§è·Ÿä¸€ä¸ªç¼©è¿›(Tab)\nä»£ç :\nMarkdown :è½»é‡çº§æ–‡æœ¬æ ‡è®°è¯­è¨€, å¯ä»¥è½¬æ¢æˆhtml, pdfç­‰æ ¼å¼ï¼ˆå·¦ä¾§æœ‰ä¸€ä¸ªå¯è§çš„å†’å·å’Œå››ä¸ªä¸å¯è§çš„ç©ºæ ¼ï¼‰ ä»£ç å— 2 :è¿™æ˜¯ä»£ç å—çš„å®šä¹‰ï¼ˆå·¦ä¾§æœ‰ä¸€ä¸ªå¯è§çš„å†’å·å’Œå››ä¸ªä¸å¯è§çš„ç©ºæ ¼ï¼‰ ä»£ç å—ï¼ˆå·¦ä¾§æœ‰å…«ä¸ªä¸å¯è§çš„ç©ºæ ¼ï¼‰ æ˜¾ç¤ºæ•ˆæœ:\nMarkdown :è½»é‡çº§æ–‡æœ¬æ ‡è®°è¯­è¨€, å¯ä»¥è½¬æ¢æˆhtml, pdfç­‰æ ¼å¼(æ²¡æ•ˆæœ, å¯èƒ½åˆæ˜¯ä¸æ”¯æŒå§)\nä»£ç å— 2 è¿™æ˜¯ä»£ç å—çš„å®šä¹‰(æ²¡æ•ˆæœ, å¯èƒ½åˆæ˜¯ä¸æ”¯æŒå§) ä»£ç å—ï¼ˆå·¦ä¾§æœ‰å…«ä¸ªä¸å¯è§çš„ç©ºæ ¼ï¼‰\næ³¨:æ–¹æ³•ä¸€å’ŒäºŒåœ¨é©¬å…‹é£è±¡ç¼–è¾‘å™¨æ˜¯æœ‰æ•ˆæœçš„, ä½†æ˜¯gitbookæ²¡æœ‰, å¯èƒ½åˆæ˜¯ä¸æ”¯æŒ, è‡³äºæœ‰æ²¡æœ‰ä»€ä¹ˆæ–¹æ³•å¯ä»¥å®ç°æˆ‘ä¹Ÿä¸çŸ¥é“- -ï¼\nåˆ—è¡¨ç¼©è¿› # è¯­æ³•è¯´æ˜:\nåˆ—è¡¨é¡¹ç›®æ ‡è®°é€šå¸¸æ˜¯æ”¾åœ¨æœ€å·¦è¾¹, ä½†æ˜¯å…¶å®ä¹Ÿå¯ä»¥ç¼©è¿›, æœ€å¤š 3 ä¸ªç©ºæ ¼, é¡¹ç›®æ ‡è®°åé¢åˆ™ä¸€å®šè¦æ¥ç€è‡³å°‘ä¸€ä¸ªç©ºæ ¼æˆ–åˆ¶è¡¨ç¬¦ã€‚\nè¦è®©åˆ—è¡¨çœ‹èµ·æ¥æ›´æ¼‚äº®, ä½ å¯ä»¥æŠŠå†…å®¹ç”¨å›ºå®šçš„ç¼©è¿›æ•´ç†å¥½ï¼ˆæ˜¾ç¤ºæ•ˆæœä¸ä»£ç ä¸€è‡´ï¼‰:ä½†æ˜¯å¯èƒ½åˆæ˜¯ä¸æ”¯æŒç¼˜æ•…, gitbookéœ€è¦æ¯ä¸€è¡Œæœ«å°¾ç©ºä¸¤ç©ºæ ¼æ¢è¡Œæ‰è¡Œã€‚\n*è½»è½»çš„æˆ‘èµ°äº†,æ­£å¦‚æˆ‘è½»è½»çš„æ¥ï¼› æˆ‘è½»è½»çš„æ‹›æ‰‹,ä½œåˆ«è¥¿å¤©çš„äº‘å½©ã€‚ é‚£æ²³ç•”çš„é‡‘æŸ³,æ˜¯å¤•é˜³ä¸­çš„æ–°å¨˜ï¼› æ³¢å…‰é‡Œçš„è‰³å½±,åœ¨æˆ‘çš„å¿ƒå¤´è¡æ¼¾ã€‚ è½¯æ³¥ä¸Šçš„é’è‡,æ²¹æ²¹çš„åœ¨æ°´åº•æ‹›æ‘‡ï¼› åœ¨åº·æ²³çš„æŸ”æ³¢é‡Œ,æˆ‘ç”˜å¿ƒåšä¸€æ¡æ°´è‰ï¼ *é‚£æ¦†è«ä¸‹çš„ä¸€æ½­,ä¸æ˜¯æ¸…æ³‰,æ˜¯å¤©ä¸Šè™¹ï¼› æ‰ç¢åœ¨æµ®è—»é—´,æ²‰æ·€ç€å½©è™¹ä¼¼çš„æ¢¦ã€‚ å¯»æ¢¦ï¼Ÿæ’‘ä¸€æ”¯é•¿ç¯™,å‘é’è‰æ›´é’å¤„æ¼«æº¯ï¼› æ»¡è½½ä¸€èˆ¹æ˜Ÿè¾‰,åœ¨æ˜Ÿè¾‰æ–‘æ–“é‡Œæ”¾æ­Œã€‚ ä½†æˆ‘ä¸èƒ½æ”¾æ­Œ,æ‚„æ‚„æ˜¯åˆ«ç¦»çš„ç¬™ç®«ï¼› å¤è™«ä¹Ÿä¸ºæˆ‘æ²‰é»˜,æ²‰é»˜æ˜¯ä»Šæ™šçš„åº·æ¡¥ï¼ æ‚„æ‚„çš„æˆ‘èµ°äº†,æ­£å¦‚æˆ‘æ‚„æ‚„çš„æ¥ï¼› æˆ‘æŒ¥ä¸€æŒ¥è¡£è¢–,ä¸å¸¦èµ°ä¸€ç‰‡äº‘å½©ã€‚ ä½†æ˜¯å¦‚æœä½ æ‡’, é‚£ä¹Ÿè¡Œ: ä»£ç :\n* è½»è½»çš„æˆ‘èµ°äº†,æ­£å¦‚æˆ‘è½»è½»çš„æ¥ï¼› æˆ‘è½»è½»çš„æ‹›æ‰‹,ä½œåˆ«è¥¿å¤©çš„äº‘å½©ã€‚ é‚£æ²³ç•”çš„é‡‘æŸ³,æ˜¯å¤•é˜³ä¸­çš„æ–°å¨˜ï¼› æ³¢å…‰é‡Œçš„è‰³å½±,åœ¨æˆ‘çš„å¿ƒå¤´è¡æ¼¾ã€‚ è½¯æ³¥ä¸Šçš„é’è‡,æ²¹æ²¹çš„åœ¨æ°´åº•æ‹›æ‘‡ï¼› åœ¨åº·æ²³çš„æŸ”æ³¢é‡Œ,æˆ‘ç”˜å¿ƒåšä¸€æ¡æ°´è‰ï¼ * é‚£æ¦†è«ä¸‹çš„ä¸€æ½­,ä¸æ˜¯æ¸…æ³‰,æ˜¯å¤©ä¸Šè™¹ï¼› æ‰ç¢åœ¨æµ®è—»é—´,æ²‰æ·€ç€å½©è™¹ä¼¼çš„æ¢¦ã€‚ å¯»æ¢¦ï¼Ÿæ’‘ä¸€æ”¯é•¿ç¯™,å‘é’è‰æ›´é’å¤„æ¼«æº¯ï¼› æ»¡è½½ä¸€èˆ¹æ˜Ÿè¾‰,åœ¨æ˜Ÿè¾‰æ–‘æ–“é‡Œæ”¾æ­Œã€‚ ä½†æˆ‘ä¸èƒ½æ”¾æ­Œ,æ‚„æ‚„æ˜¯åˆ«ç¦»çš„ç¬™ç®«ï¼› å¤è™«ä¹Ÿä¸ºæˆ‘æ²‰é»˜,æ²‰é»˜æ˜¯ä»Šæ™šçš„åº·æ¡¥ï¼ æ‚„æ‚„çš„æˆ‘èµ°äº†,æ­£å¦‚æˆ‘æ‚„æ‚„çš„æ¥ï¼› æˆ‘æŒ¥ä¸€æŒ¥è¡£è¢–,ä¸å¸¦èµ°ä¸€ç‰‡äº‘å½©ã€‚ æ˜¾ç¤ºæ•ˆæœ:\nè½»è½»çš„æˆ‘èµ°äº†,æ­£å¦‚æˆ‘è½»è½»çš„æ¥ï¼› æˆ‘è½»è½»çš„æ‹›æ‰‹,ä½œåˆ«è¥¿å¤©çš„äº‘å½©ã€‚ é‚£æ²³ç•”çš„é‡‘æŸ³,æ˜¯å¤•é˜³ä¸­çš„æ–°å¨˜ï¼› æ³¢å…‰é‡Œçš„è‰³å½±,åœ¨æˆ‘çš„å¿ƒå¤´è¡æ¼¾ã€‚ è½¯æ³¥ä¸Šçš„é’è‡,æ²¹æ²¹çš„åœ¨æ°´åº•æ‹›æ‘‡ï¼› åœ¨åº·æ²³çš„æŸ”æ³¢é‡Œ,æˆ‘ç”˜å¿ƒåšä¸€æ¡æ°´è‰ï¼ é‚£æ¦†è«ä¸‹çš„ä¸€æ½­,ä¸æ˜¯æ¸…æ³‰,æ˜¯å¤©ä¸Šè™¹ï¼› æ‰ç¢åœ¨æµ®è—»é—´,æ²‰æ·€ç€å½©è™¹ä¼¼çš„æ¢¦ã€‚ å¯»æ¢¦ï¼Ÿæ’‘ä¸€æ”¯é•¿ç¯™,å‘é’è‰æ›´é’å¤„æ¼«æº¯ï¼› æ»¡è½½ä¸€èˆ¹æ˜Ÿè¾‰,åœ¨æ˜Ÿè¾‰æ–‘æ–“é‡Œæ”¾æ­Œã€‚ ä½†æˆ‘ä¸èƒ½æ”¾æ­Œ,æ‚„æ‚„æ˜¯åˆ«ç¦»çš„ç¬™ç®«ï¼› å¤è™«ä¹Ÿä¸ºæˆ‘æ²‰é»˜,æ²‰é»˜æ˜¯ä»Šæ™šçš„åº·æ¡¥ï¼ æ‚„æ‚„çš„æˆ‘èµ°äº†,æ­£å¦‚æˆ‘æ‚„æ‚„çš„æ¥ï¼› æˆ‘æŒ¥ä¸€æŒ¥è¡£è¢–,ä¸å¸¦èµ°ä¸€ç‰‡äº‘å½©ã€‚ åŒ…å«æ®µè½çš„åˆ—è¡¨ # è¯­æ³•è¯´æ˜:\nåˆ—è¡¨é¡¹ç›®å¯ä»¥åŒ…å«å¤šä¸ªæ®µè½, æ¯ä¸ªé¡¹ç›®ä¸‹çš„æ®µè½éƒ½å¿…é¡»ç¼©è¿› 4 ä¸ªç©ºæ ¼æˆ–æ˜¯ 1 ä¸ªåˆ¶è¡¨ç¬¦ï¼ˆæ˜¾ç¤ºæ•ˆæœä¸ä»£ç ä¸€è‡´ï¼‰:ä½†æ˜¯å¯èƒ½åˆæ˜¯ä¸æ”¯æŒç¼˜æ•…, gitbookéœ€è¦æ¯ä¸€è¡Œæœ«å°¾ç©ºä¸¤ç©ºæ ¼æ¢è¡Œæ‰è¡Œã€‚\n* è½»è½»çš„æˆ‘èµ°äº†,æ­£å¦‚æˆ‘è½»è½»çš„æ¥ï¼› æˆ‘è½»è½»çš„æ‹›æ‰‹,ä½œåˆ«è¥¿å¤©çš„äº‘å½©ã€‚ é‚£æ²³ç•”çš„é‡‘æŸ³,æ˜¯å¤•é˜³ä¸­çš„æ–°å¨˜ï¼› æ³¢å…‰é‡Œçš„è‰³å½±,åœ¨æˆ‘çš„å¿ƒå¤´è¡æ¼¾ã€‚ è½¯æ³¥ä¸Šçš„é’è‡,æ²¹æ²¹çš„åœ¨æ°´åº•æ‹›æ‘‡ï¼› åœ¨åº·æ²³çš„æŸ”æ³¢é‡Œ,æˆ‘ç”˜å¿ƒåšä¸€æ¡æ°´è‰ï¼ é‚£æ¦†è«ä¸‹çš„ä¸€æ½­,ä¸æ˜¯æ¸…æ³‰,æ˜¯å¤©ä¸Šè™¹ï¼› æ‰ç¢åœ¨æµ®è—»é—´,æ²‰æ·€ç€å½©è™¹ä¼¼çš„æ¢¦ã€‚ å¯»æ¢¦ï¼Ÿæ’‘ä¸€æ”¯é•¿ç¯™,å‘é’è‰æ›´é’å¤„æ¼«æº¯ï¼› æ»¡è½½ä¸€èˆ¹æ˜Ÿè¾‰,åœ¨æ˜Ÿè¾‰æ–‘æ–“é‡Œæ”¾æ­Œã€‚ ä½†æˆ‘ä¸èƒ½æ”¾æ­Œ,æ‚„æ‚„æ˜¯åˆ«ç¦»çš„ç¬™ç®«ï¼› å¤è™«ä¹Ÿä¸ºæˆ‘æ²‰é»˜,æ²‰é»˜æ˜¯ä»Šæ™šçš„åº·æ¡¥ï¼ * æ‚„æ‚„çš„æˆ‘èµ°äº†,æ­£å¦‚æˆ‘æ‚„æ‚„çš„æ¥ï¼› æˆ‘æŒ¥ä¸€æŒ¥è¡£è¢–,ä¸å¸¦èµ°ä¸€ç‰‡äº‘å½©ã€‚ å¦‚æœä½ æ¯è¡Œéƒ½æœ‰ç¼©è¿›, çœ‹èµ·æ¥ä¼šçœ‹å¥½å¾ˆå¤š, å½“ç„¶, å†æ¬¡åœ°, å¦‚æœä½ å¾ˆæ‡’æƒ°, Markdown ä¹Ÿå…è®¸:\nä»£ç :\n* è½»è½»çš„æˆ‘èµ°äº†,æ­£å¦‚æˆ‘è½»è½»çš„æ¥ï¼› æˆ‘è½»è½»çš„æ‹›æ‰‹,ä½œåˆ«è¥¿å¤©çš„äº‘å½©ã€‚ é‚£æ²³ç•”çš„é‡‘æŸ³,æ˜¯å¤•é˜³ä¸­çš„æ–°å¨˜ï¼› æ³¢å…‰é‡Œçš„è‰³å½±,åœ¨æˆ‘çš„å¿ƒå¤´è¡æ¼¾ã€‚ è½¯æ³¥ä¸Šçš„é’è‡,æ²¹æ²¹çš„åœ¨æ°´åº•æ‹›æ‘‡ï¼› åœ¨åº·æ²³çš„æŸ”æ³¢é‡Œ,æˆ‘ç”˜å¿ƒåšä¸€æ¡æ°´è‰ï¼ é‚£æ¦†è«ä¸‹çš„ä¸€æ½­,ä¸æ˜¯æ¸…æ³‰,æ˜¯å¤©ä¸Šè™¹ï¼› æ‰ç¢åœ¨æµ®è—»é—´,æ²‰æ·€ç€å½©è™¹ä¼¼çš„æ¢¦ã€‚ å¯»æ¢¦ï¼Ÿæ’‘ä¸€æ”¯é•¿ç¯™,å‘é’è‰æ›´é’å¤„æ¼«æº¯ï¼› æ»¡è½½ä¸€èˆ¹æ˜Ÿè¾‰,åœ¨æ˜Ÿè¾‰æ–‘æ–“é‡Œæ”¾æ­Œã€‚ ä½†æˆ‘ä¸èƒ½æ”¾æ­Œ,æ‚„æ‚„æ˜¯åˆ«ç¦»çš„ç¬™ç®«ï¼› å¤è™«ä¹Ÿä¸ºæˆ‘æ²‰é»˜,æ²‰é»˜æ˜¯ä»Šæ™šçš„åº·æ¡¥ï¼ * æ‚„æ‚„çš„æˆ‘èµ°äº†,æ­£å¦‚æˆ‘æ‚„æ‚„çš„æ¥ï¼› æˆ‘æŒ¥ä¸€æŒ¥è¡£è¢–,ä¸å¸¦èµ°ä¸€ç‰‡äº‘å½©ã€‚ æ˜¾ç¤ºæ•ˆæœ:\nè½»è½»çš„æˆ‘èµ°äº†,æ­£å¦‚æˆ‘è½»è½»çš„æ¥ï¼› æˆ‘è½»è½»çš„æ‹›æ‰‹,ä½œåˆ«è¥¿å¤©çš„äº‘å½©ã€‚ é‚£æ²³ç•”çš„é‡‘æŸ³,æ˜¯å¤•é˜³ä¸­çš„æ–°å¨˜ï¼› æ³¢å…‰é‡Œçš„è‰³å½±,åœ¨æˆ‘çš„å¿ƒå¤´è¡æ¼¾ã€‚ è½¯æ³¥ä¸Šçš„é’è‡,æ²¹æ²¹çš„åœ¨æ°´åº•æ‹›æ‘‡ï¼› åœ¨åº·æ²³çš„æŸ”æ³¢é‡Œ,æˆ‘ç”˜å¿ƒåšä¸€æ¡æ°´è‰ï¼ é‚£æ¦†è«ä¸‹çš„ä¸€æ½­,ä¸æ˜¯æ¸…æ³‰,æ˜¯å¤©ä¸Šè™¹ï¼› æ‰ç¢åœ¨æµ®è—»é—´,æ²‰æ·€ç€å½©è™¹ä¼¼çš„æ¢¦ã€‚ å¯»æ¢¦ï¼Ÿæ’‘ä¸€æ”¯é•¿ç¯™,å‘é’è‰æ›´é’å¤„æ¼«æº¯ï¼› æ»¡è½½ä¸€èˆ¹æ˜Ÿè¾‰,åœ¨æ˜Ÿè¾‰æ–‘æ–“é‡Œæ”¾æ­Œã€‚ ä½†æˆ‘ä¸èƒ½æ”¾æ­Œ,æ‚„æ‚„æ˜¯åˆ«ç¦»çš„ç¬™ç®«ï¼› å¤è™«ä¹Ÿä¸ºæˆ‘æ²‰é»˜,æ²‰é»˜æ˜¯ä»Šæ™šçš„åº·æ¡¥ï¼\næ‚„æ‚„çš„æˆ‘èµ°äº†,æ­£å¦‚æˆ‘æ‚„æ‚„çš„æ¥ï¼› æˆ‘æŒ¥ä¸€æŒ¥è¡£è¢–,ä¸å¸¦èµ°ä¸€ç‰‡äº‘å½©ã€‚ åŒ…å«å¼•ç”¨çš„åˆ—è¡¨ # è¯­æ³•è¯´æ˜:\nå¦‚æœè¦åœ¨åˆ—è¡¨é¡¹ç›®å†…æ”¾è¿›å¼•ç”¨, é‚£åœ¨ \u0026gt; å‰é¢éœ€è¦ç¼©è¿›:\nä»£ç :\n* é˜…è¯»çš„æ–¹æ³•: \u0026gt; æ‰“å¼€ä¹¦æœ¬ã€‚ \u0026gt; æ‰“å¼€ç”µç¯ã€‚ æ˜¾ç¤ºæ•ˆæœ:\né˜…è¯»çš„æ–¹æ³•: æ‰“å¼€ä¹¦æœ¬ã€‚ æ‰“å¼€ç”µç¯ã€‚\nåŒ…å«ä»£ç åŒºå—çš„å¼•ç”¨ # è¯­æ³•è¯´æ˜: å¦‚æœè¦æ”¾ä»£ç åŒºå—çš„è¯, è¯¥åŒºå—å°±éœ€è¦ç¼©è¿›ä¸¤æ¬¡, ä¹Ÿå°±æ˜¯ 8 ä¸ªç©ºæ ¼æˆ–æ˜¯ 2 ä¸ªåˆ¶è¡¨ç¬¦:\nä¸€åˆ—è¡¨é¡¹åŒ…å«ä¸€ä¸ªåˆ—è¡¨åŒºå—: \u0026lt;ä»£ç å†™åœ¨è¿™\u0026gt;\nä¸€ä¸ªç‰¹æ®Šæƒ…å†µ # åœ¨ç‰¹æ®Šæƒ…å†µä¸‹, é¡¹ç›®åˆ—è¡¨å¾ˆå¯èƒ½ä¼šä¸å°å¿ƒäº§ç”Ÿ, åƒæ˜¯ä¸‹é¢è¿™æ ·çš„å†™æ³•:\n1986. What a great season. ä¼šæ˜¾ç¤ºæˆ:\nWhat a great season. æ¢å¥è¯è¯´, ä¹Ÿå°±æ˜¯åœ¨è¡Œé¦–å‡ºç°æ•°å­—-å¥ç‚¹-ç©ºç™½, è¦é¿å…è¿™æ ·çš„çŠ¶å†µ, ä½ å¯ä»¥åœ¨å¥ç‚¹å‰é¢åŠ ä¸Šåæ–œæ :\n1986\\. What a great season. ä¼šæ˜¾ç¤ºæˆ:\n1986. What a great season.\nå¼•ç”¨ # è¯­æ³•è¯´æ˜:\nå¼•ç”¨éœ€è¦åœ¨è¢«å¼•ç”¨çš„æ–‡æœ¬å‰åŠ ä¸Š\u0026gt;ç¬¦å·ã€‚\nä»£ç :\n\u0026gt; è¿™æ˜¯ä¸€ä¸ªæœ‰ä¸¤æ®µæ–‡å­—çš„å¼•ç”¨, \u0026gt; æ— æ„ä¹‰çš„å è¡Œæ–‡å­—1. \u0026gt; æ— æ„ä¹‰çš„å è¡Œæ–‡å­—2. \u0026gt; \u0026gt; æ— æ„ä¹‰çš„å è¡Œæ–‡å­—3. \u0026gt; æ— æ„ä¹‰çš„å è¡Œæ–‡å­—4. æ˜¾ç¤ºæ•ˆæœ:\nè¿™æ˜¯ä¸€ä¸ªæœ‰ä¸¤æ®µæ–‡å­—çš„å¼•ç”¨, æ— æ„ä¹‰çš„å è¡Œæ–‡å­—1. æ— æ„ä¹‰çš„å è¡Œæ–‡å­—2.\næ— æ„ä¹‰çš„å è¡Œæ–‡å­—3. æ— æ„ä¹‰çš„å è¡Œæ–‡å­—4.\nMarkdown ä¹Ÿå…è®¸ä½ å·æ‡’åªåœ¨æ•´ä¸ªæ®µè½çš„ç¬¬ä¸€è¡Œæœ€å‰é¢åŠ ä¸Š \u0026gt; :\nä»£ç :\n\u0026gt; è¿™æ˜¯ä¸€ä¸ªæœ‰ä¸¤æ®µæ–‡å­—çš„å¼•ç”¨, æ— æ„ä¹‰çš„å è¡Œæ–‡å­—1. æ— æ„ä¹‰çš„å è¡Œæ–‡å­—2. \u0026gt; æ— æ„ä¹‰çš„å è¡Œæ–‡å­—3. æ— æ„ä¹‰çš„å è¡Œæ–‡å­—4. æ˜¾ç¤ºæ•ˆæœ:\nè¿™æ˜¯ä¸€ä¸ªæœ‰ä¸¤æ®µæ–‡å­—çš„å¼•ç”¨, æ— æ„ä¹‰çš„å è¡Œæ–‡å­—1. æ— æ„ä¹‰çš„å è¡Œæ–‡å­—2.\næ— æ„ä¹‰çš„å è¡Œæ–‡å­—3. æ— æ„ä¹‰çš„å è¡Œæ–‡å­—4.\nå¼•ç”¨çš„å¤šå±‚åµŒå¥— # åŒºå—å¼•ç”¨å¯ä»¥åµŒå¥—ï¼ˆä¾‹å¦‚:å¼•ç”¨å†…çš„å¼•ç”¨ï¼‰, åªè¦æ ¹æ®å±‚æ¬¡åŠ ä¸Šä¸åŒæ•°é‡çš„ \u0026gt; :\nä»£ç :\n\u0026gt;\u0026gt;\u0026gt; è¯·é—® Markdwon æ€ä¹ˆç”¨ï¼Ÿ - å°ç™½ \u0026gt;\u0026gt; è‡ªå·±çœ‹æ•™ç¨‹ï¼ - æ„¤é’ \u0026gt; æ•™ç¨‹åœ¨å“ªï¼Ÿ - å°ç™½ æ˜¾ç¤ºæ•ˆæœ:\nè¯·é—® Markdwon æ€ä¹ˆç”¨ï¼Ÿ - å°ç™½\nè‡ªå·±çœ‹æ•™ç¨‹ï¼ - æ„¤é’\næ•™ç¨‹åœ¨å“ªï¼Ÿ - å°ç™½\nå¼•ç”¨å…¶å®ƒè¦ç´  # å¼•ç”¨çš„åŒºå—å†…ä¹Ÿå¯ä»¥ä½¿ç”¨å…¶ä»–çš„ Markdown è¯­æ³•, åŒ…æ‹¬æ ‡é¢˜ã€åˆ—è¡¨ã€ä»£ç åŒºå—ç­‰:\nä»£ç :\n\u0026gt; 1. è¿™æ˜¯ç¬¬ä¸€è¡Œåˆ—è¡¨é¡¹ã€‚ \u0026gt; 2. è¿™æ˜¯ç¬¬äºŒè¡Œåˆ—è¡¨é¡¹ã€‚ \u0026gt; \u0026gt; ç»™å‡ºä¸€äº›ä¾‹å­ä»£ç : \u0026gt; \u0026gt; return shell_exec(\u0026#34;echo $input | $Markdown_script\u0026#34;); æ˜¾ç¤ºæ•ˆæœ:\nè¿™æ˜¯ç¬¬ä¸€è¡Œåˆ—è¡¨é¡¹ã€‚ è¿™æ˜¯ç¬¬äºŒè¡Œåˆ—è¡¨é¡¹ã€‚ ç»™å‡ºä¸€äº›ä¾‹å­ä»£ç :\nreturn shell_exec(\u0026ldquo;echo $input | $Markdown_script\u0026rdquo;);\næ’å…¥å›¾åƒ # å›¾ç‰‡çš„åˆ›å»ºæ–¹å¼ä¸è¶…é“¾æ¥ç›¸ä¼¼, è€Œä¸”å’Œè¶…é“¾æ¥ä¸€æ ·ä¹Ÿæœ‰ä¸¤ç§å†™æ³•, è¡Œå†…å¼å’Œå‚è€ƒå¼å†™æ³•ã€‚\nè¯­æ³•ä¸­å›¾ç‰‡Altçš„æ„æ€æ˜¯å¦‚æœå›¾ç‰‡å› ä¸ºæŸäº›åŸå› ä¸èƒ½æ˜¾ç¤º, å°±ç”¨å®šä¹‰çš„å›¾ç‰‡Altæ–‡å­—æ¥ä»£æ›¿å›¾ç‰‡ã€‚ å›¾ç‰‡Titleåˆ™å’Œé“¾æ¥ä¸­çš„Titleä¸€æ ·, è¡¨ç¤ºé¼ æ ‡æ‚¬åœä¸å›¾ç‰‡ä¸Šæ—¶å‡ºç°çš„æ–‡å­—ã€‚ Alt å’Œ Title éƒ½ä¸æ˜¯å¿…é¡»çš„, å¯ä»¥çœç•¥, ä½†å»ºè®®å†™ä¸Šã€‚\nè¡Œå†…å¼ # è¯­æ³•è¯´æ˜:![å›¾ç‰‡Alt](å›¾ç‰‡åœ°å€ \u0026ldquo;å›¾ç‰‡Title\u0026rdquo;)\nä»£ç :\nç¾ä¸½èŠ±å„¿: ![ç¾ä¸½èŠ±å„¿](https://raw.githubusercontent.com/HaoqiangChen/Hq-note/master/asset/Markdown/img/flower.jpg \u0026#34;ç¾ä¸½èŠ±å„¿\u0026#34;) æ˜¾ç¤ºæ•ˆæœ:\nç¾ä¸½èŠ±å„¿: ç¾ä¸½èŠ±å„¿ å‚è€ƒå¼ # è¯­æ³•è¯´æ˜:\nåœ¨æ–‡æ¡£è¦æ’å…¥å›¾ç‰‡çš„åœ°æ–¹å†™![å›¾ç‰‡Alt][æ ‡è®°]\nåœ¨æ–‡æ¡£çš„æœ€åå†™ä¸Š[æ ‡è®°]:å›¾ç‰‡åœ°å€ \u0026ldquo;Title\u0026rdquo;\nä»£ç :\nç¾ä¸½èŠ±å„¿: ![ç¾ä¸½èŠ±å„¿][flower] [flower]:https://raw.githubusercontent.com/HaoqiangChen/Hq-note/master/asset/Markdown/img/flower.jpg \u0026#34;ç¾ä¸½èŠ±å„¿\u0026#34; æ˜¾ç¤ºæ•ˆæœ:\nç¾ä¸½èŠ±å„¿: ç¾ä¸½èŠ±å„¿ åˆ†éš”çº¿å’Œé¢„æ ¼å¼åŒ– # åˆ†éš”çº¿ # ä½ å¯ä»¥åœ¨ä¸€è¡Œä¸­ç”¨ä¸‰ä¸ªä»¥ä¸Šçš„æ˜Ÿå·ã€å‡å·ã€åº•çº¿æ¥å»ºç«‹ä¸€ä¸ªåˆ†éš”çº¿, è¡Œå†…ä¸èƒ½æœ‰å…¶ä»–ä¸œè¥¿ã€‚ä½ ä¹Ÿå¯ä»¥åœ¨æ˜Ÿå·æˆ–æ˜¯å‡å·ä¸­é—´æ’å…¥ç©ºæ ¼ã€‚ä¸‹é¢æ¯ç§å†™æ³•éƒ½å¯ä»¥å»ºç«‹åˆ†éš”çº¿:\nä»£ç :\n* * * *** ***** - - - --------------------------------------- æ˜¾ç¤ºæ•ˆæœéƒ½ä¸€æ ·:\né¢„æ ¼å¼åŒ– # ç”¨```+ä¸­é—´ä½ æ‰€æƒ³æ³¨é‡Šçš„å†…å®¹æˆ–ä»£ç +```åŒ…è£¹:é¢„æ ¼å¼åŒ–, å¯ç”¨äºMarkdowné‡Œé¢çš„æ³¨é‡Š, è§£é‡Šè¯´æ˜ä»€ä¹ˆçš„ Markdownçš„é¢„æ ¼å¼åŒ– ç›¸å½“äºHTMLçš„\u0026lt;pre\u0026gt;\u0026lt;/pre\u0026gt;é¢„æ ¼å¼åŒ–, ä¸è¿‡Markdownè¿™ä¸ªé™¤äº†é¢„æ ¼å¼åŒ–ä¹‹å¤–è¿˜ä¼šæ·»åŠ äº†ä¸€ä¸ªèƒŒæ™¯è‰²ä¸å…¶ä»–å†…å®¹åŒºåˆ†å¼€, ç›¸å½“å¥½ç”¨ã€‚\nè¡¨æ ¼ # è¯­æ³•è¯´æ˜:\nä¸ç®¡æ˜¯å“ªç§æ–¹å¼, ç¬¬ä¸€è¡Œä¸ºè¡¨å¤´, ç¬¬äºŒè¡Œåˆ†éš”è¡¨å¤´å’Œä¸»ä½“éƒ¨åˆ†, ç¬¬ä¸‰è¡Œå¼€å§‹æ¯ä¸€è¡Œä¸ºä¸€ä¸ªè¡¨æ ¼è¡Œã€‚ åˆ—äºåˆ—ä¹‹é—´ç”¨ç®¡é“ç¬¦|éš”å¼€ã€‚åŸç”Ÿæ–¹å¼çš„è¡¨æ ¼æ¯ä¸€è¡Œçš„ä¸¤è¾¹ä¹Ÿè¦æœ‰ç®¡é“ç¬¦ã€‚ ç¬¬äºŒè¡Œè¿˜å¯ä»¥ä¸ºä¸åŒçš„åˆ—æŒ‡å®šå¯¹é½æ–¹å‘ã€‚é»˜è®¤ä¸ºå·¦å¯¹é½, åœ¨-ç¬¦å·å³è¾¹åŠ ä¸Šå†’å·: å°±ä¼šå³å¯¹é½ã€‚ ä»£ç :\nç®€å•æ–¹å¼å†™è¡¨æ ¼:\nå­¦å·|å§“å|åˆ†æ•° -|-|- å°æ˜|ç”·|75 å°çº¢|å¥³|79 å°é™†|ç”·|92 åŸç”Ÿæ–¹å¼å†™è¡¨æ ¼:\n|å­¦å·|å§“å|åˆ†æ•°| |-|-|-| |å°æ˜|ç”·|75| |å°çº¢|å¥³|79| |å°é™†|ç”·|92| ä¸ºè¡¨æ ¼ç¬¬äºŒåˆ—æŒ‡å®šæ–¹å‘:\näº§å“|ä»·æ ¼ -|-: Leanote é«˜çº§è´¦å·|60å…ƒ/å¹´ Leanote è¶…çº§è´¦å·|120å…ƒ/å¹´ æ˜¾ç¤ºæ•ˆæœ: ç®€å•æ–¹å¼å†™è¡¨æ ¼:\nå­¦å· å§“å åˆ†æ•° å°æ˜ ç”· 75 å°çº¢ å¥³ 79 å°é™† ç”· 92 åŸç”Ÿæ–¹å¼å†™è¡¨æ ¼:\nå­¦å· å§“å åˆ†æ•° å°æ˜ ç”· 75 å°çº¢ å¥³ 79 å°é™† ç”· 92 ä¸ºè¡¨æ ¼ç¬¬äºŒåˆ—æŒ‡å®šæ–¹å‘:\näº§å“ ä»·æ ¼ Leanote é«˜çº§è´¦å· 60å…ƒ/å¹´ Leanote è¶…çº§è´¦å· 120å…ƒ/å¹´ æ³¨è„š # è¯­æ³•è¯´æ˜:\nåœ¨éœ€è¦æ·»åŠ æ³¨è„šçš„æ–‡å­—ååŠ ä¸Šè„šæ³¨åå­—[^æ³¨è„šåå­—],ç§°ä¸ºåŠ æ³¨ã€‚ ç„¶ååœ¨æ–‡æœ¬çš„ä»»æ„ä½ç½®(ä¸€èˆ¬åœ¨æœ€å)æ·»åŠ è„šæ³¨, è„šæ³¨å‰å¿…é¡»æœ‰å¯¹åº”çš„è„šæ³¨åå­—ã€‚\næ³¨æ„:ç»æµ‹è¯•æ³¨è„šä¸æ³¨è„šä¹‹é—´å¿…é¡»ç©ºä¸€è¡Œ, ä¸ç„¶ä¼šå¤±æ•ˆã€‚æˆåŠŸåä¼šå‘ç°, å³ä½¿ä½ æ²¡æœ‰æŠŠæ³¨è„šå†™åœ¨æ–‡æœ«, ç»Markdownè½¬æ¢å, ä¹Ÿä¼šè‡ªåŠ¨å½’ç±»åˆ°æ–‡ç« çš„æœ€åã€‚\nä»£ç :\nä½¿ç”¨ Markdown[^1]å¯ä»¥æ•ˆç‡çš„ä¹¦å†™æ–‡æ¡£, ç›´æ¥è½¬æ¢æˆ HTML[^2], ä½ å¯ä»¥ä½¿ç”¨ Leanote[^Le] ç¼–è¾‘å™¨è¿›è¡Œä¹¦å†™ã€‚ [^1]:Markdownæ˜¯ä¸€ç§çº¯æ–‡æœ¬æ ‡è®°è¯­è¨€ [^2]:HyperText Markup Language è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€ [^Le]:å¼€æºç¬”è®°å¹³å°, æ”¯æŒMarkdownå’Œç¬”è®°ç›´æ¥å‘ä¸ºåšæ–‡ **æ³¨:è„šæ³¨è‡ªåŠ¨è¢«æ¬è¿åˆ°æœ€åé¢, è¯·åˆ°æ–‡ç« æœ«å°¾æŸ¥çœ‹, å¹¶ä¸”è„šæ³¨åæ–¹çš„é“¾æ¥å¯ä»¥ç›´æ¥è·³è½¬å›åˆ°åŠ æ³¨çš„åœ°æ–¹ã€‚** æ˜¾ç¤ºæ•ˆæœ:\næ³¨:å› ä¸ºMarkdownæ˜¯æ²¡æœ‰ä¸€ä¸ªæ‰€è°“çš„è§„èŒƒçš„(Markdownå®˜ç½‘éƒ½ä¸æ”¯æŒè¿™ä¹ˆåš), å› æ­¤å¯¼è‡´gitbookæ²¡æœ‰ç›®å½•[TOC]å’Œæ³¨è„šåŠŸèƒ½, æ‰€ä»¥æŸäº›ç‰¹æ€§åŠŸèƒ½éœ€è¦å†™ä½œå·¥å…·è‡ªå·±æ”¯æŒæ‰å¯ä»¥, åƒé©¬å…‹é£è±¡å’ŒLeanoteå°±å¯ä»¥ã€‚\nLaTeXå…¬å¼ # $è¡¨ç¤ºè¡Œå†…å…¬å¼ # ä»£ç :\nè´¨èƒ½å®ˆæ’æ–¹ç¨‹å¯ä»¥ç”¨ä¸€ä¸ªå¾ˆç®€æ´çš„æ–¹ç¨‹å¼ $E=mc^2$ æ¥è¡¨è¾¾ã€‚ æ˜¾ç¤ºæ•ˆæœï¼š\nè´¨èƒ½å®ˆæ’æ–¹ç¨‹å¯ä»¥ç”¨ä¸€ä¸ªå¾ˆç®€æ´çš„æ–¹ç¨‹å¼ E=mc2æ¥è¡¨è¾¾ã€‚\næ³¨: åŸç”Ÿä¸æ”¯æŒLaTeXå…¬å¼ã€‚å¯ä»¥ç”¨codecogsçš„äº‘æœåŠ¡, åœ¨çº¿LaTeXæ•°å­¦å…¬å¼ç¼–è¾‘å·¥å…·, api+ä¸€å¤§ä¸²LaTex, æ¯”å¦‚: å½“ç„¶è¿™ä¹ˆå¼ºå¤§çš„åœ¨çº¿å…¬å¼ç¼–è¾‘å™¨è‚¯å®šæä¾›äº†åœ¨çº¿GUIç»™å¤§å®¶, æ‰“å¼€ç½‘å€:\nhttp://www.codecogs.com/latex/eqneditor.php,\nä½ å°±å¯ä»¥éšå¿ƒæ‰€æ¬²çš„ç¼–è¾‘å…¬å¼äº†, å®ƒåŒæ ·æƒ³Mathtypeä¸€æ ·æä¾›äº†ä¸å°‘æ¨¡æ¿, ç›´æ¥ç¼–è¾‘, ä¹Ÿå¾ˆæ–¹ä¾¿ã€‚ç¼–è¾‘å®Œæˆä¹‹å, é¡µé¢ä¸Šå°±ä¼šå®æ—¶å¾—åˆ°ç¼–è¾‘çš„Latexæ ¼å¼å…¬å¼å›¾ç‰‡ã€‚\næˆ–è€…:http://latex.codecogs.com/\nè¿™ä¸ªç½‘å€çš„ä½¿ç”¨æ–¹æ³•:![](http://latex.codecogs.com/gif.latex?\\frac{1}{1+sin(x)})\n-\u0026gt;\næ‰€ä»¥, ä¸Šé¢çš„ä¾‹å­å¯ä»¥ä¿®æ”¹ä¸º\nè´¨èƒ½å®ˆæ’æ–¹ç¨‹å¯ä»¥ç”¨ä¸€ä¸ªå¾ˆç®€æ´çš„æ–¹ç¨‹å¼ ![](http://latex.codecogs.com/gif.latex?E=mc^2) æ¥è¡¨è¾¾ã€‚\næ˜¾ç¤ºæ•ˆæœ:\nè´¨èƒ½å®ˆæ’æ–¹ç¨‹å¯ä»¥ç”¨ä¸€ä¸ªå¾ˆç®€æ´çš„æ–¹ç¨‹å¼ æ¥è¡¨è¾¾ã€‚\n$$è¡¨ç¤ºæ•´è¡Œå…¬å¼ # ä»£ç :\n$$\\sum_{i=1}^n a_i=0$$ $$f(x_1,x_x,\\ldots,x_n) = x_1^2 + x_2^2 + \\cdots + x_n^2 $$ $$\\sum^{j-1}_{k=0}{\\widehat{\\gamma}_{kj} z_k}$$ åŒä¸Š, åŸç”Ÿä¸æ”¯æŒ, ä½¿ç”¨ä¸Šé¢çš„ç½‘ç«™å³å¯ã€‚\næ˜¾ç¤ºæ•ˆæœ:\n\\sum_{i=1}^n a_i=0 \\sum^{j-1}{k=0}{\\widehat{\\gamma}{kj} z_k} è®¿é—® MathJax å‚è€ƒæ›´å¤šä½¿ç”¨æ–¹æ³•ã€‚\næµç¨‹å›¾ # ä»£ç :\nflow st=\u0026gt;start: Start:\u0026gt;https://www.zybuluo.com io=\u0026gt;inputoutput: verification op=\u0026gt;operation: Your Operation cond=\u0026gt;condition: Yes or No? sub=\u0026gt;subroutine: Your Subroutine e=\u0026gt;end st-\u0026gt;io-\u0026gt;op-\u0026gt;cond cond(yes)-\u0026gt;e cond(no)-\u0026gt;sub-\u0026gt;io æ˜¾ç¤ºæ•ˆæœ:\nCreated with RaphaÃ«l 2.1.0https://www.zybuluo.comStarthttps://www.zybuluo.comverificationYour OperationYes or No?EndYour Subroutineyesno ä»ä¸Šé¢çš„ä¾‹å­å¯ä»¥çœ‹å‡ºåŸç”Ÿå¯¹æµç¨‹å›¾åŒæ ·ä¹Ÿæ˜¯ä¸æ”¯æŒ, æ‰€ä»¥åªèƒ½é‡‡å–è¿‚å›å–å·§æ–¹æ³•äº†, å°±æ˜¯ç”¨ä¸€äº›æ”¯æŒæµç¨‹å›¾çš„ç¼–è¾‘å™¨å…ˆç”»å‡ºæ¥, ç„¶åæˆªå›¾æ”¾åˆ°è¿™ä¸ªä¸æ”¯æŒçš„é¡µé¢ä¸Š\næ›´å¤šè¯­æ³•å‚è€ƒ:æµç¨‹å›¾è¯­æ³•å‚è€ƒ\nä»£ç  # å¯¹äºç¨‹åºå‘˜æ¥è¯´è¿™ä¸ªåŠŸèƒ½æ˜¯å¿…ä¸å¯å°‘çš„, æ’å…¥ç¨‹åºä»£ç çš„æ–¹å¼æœ‰ä¸¤ç§, ä¸€ç§æ˜¯åˆ©ç”¨ç¼©è¿›(Tab), å¦ä¸€ç§æ˜¯åˆ©ç”¨â€`â€ç¬¦å·ï¼ˆä¸€èˆ¬åœ¨ESCé”®ä¸‹æ–¹ï¼‰åŒ…è£¹ä»£ç ã€‚\nè¯­æ³•è¯´æ˜:\næ’å…¥è¡Œå†…ä»£ç , å³æ’å…¥ä¸€ä¸ªå•è¯æˆ–è€…ä¸€å¥ä»£ç çš„æƒ…å†µ, ä½¿ç”¨`code`è¿™æ ·çš„å½¢å¼æ’å…¥ã€‚ æ’å…¥å¤šè¡Œä»£ç , å¯ä»¥ä½¿ç”¨ç¼©è¿›æˆ–è€…â€œ` code â€œ`,å…·ä½“çœ‹ç¤ºä¾‹ã€‚ æ³¨æ„: ç¼©è¿›å¼æ’å…¥å‰æ–¹å¿…é¡»æœ‰ç©ºè¡Œ\nè¡Œå†…å¼ # ä»£ç :\nCè¯­è¨€é‡Œçš„å‡½æ•° `scanf()` æ€ä¹ˆä½¿ç”¨ï¼Ÿ æ˜¾ç¤ºæ•ˆæœ:\nCè¯­è¨€é‡Œçš„å‡½æ•° scanf() æ€ä¹ˆä½¿ç”¨ï¼Ÿ\nç¼©è¿›å¼å¤šè¡Œä»£ç  # ç¼©è¿› 4 ä¸ªç©ºæ ¼æˆ–æ˜¯ 1 ä¸ªåˆ¶è¡¨ç¬¦\nä¸€ä¸ªä»£ç åŒºå—ä¼šä¸€ç›´æŒç»­åˆ°æ²¡æœ‰ç¼©è¿›çš„é‚£ä¸€è¡Œï¼ˆæˆ–æ˜¯æ–‡ä»¶ç»“å°¾ï¼‰ã€‚\nä»£ç :\n# ç©ºä¸€è¡Œ #include \u0026lt;stdio.h\u0026gt; int main(void) { printf(\u0026#34;Hello world\\n\u0026#34;); } æ˜¾ç¤ºæ•ˆæœ:\n#include \u0026lt;stdio.h\u0026gt; int main(void) { printf(\u0026quot;Hello world\\n\u0026quot;); } åŒ…è£¹å¤šè¡Œä»£ç  # ä»£ç :\n#include \u0026lt;stdio.h\u0026gt;; int main(void) { printf(\u0026#34;Hello world\\n\u0026#34;); } æ˜¾ç¤ºæ•ˆæœ:\n#include \u0026lt;stdio.h\u0026gt;; int main(void) { printf(\u0026#34;Hello world\\n\u0026#34;); } HTMLåŸå§‹ç  # åœ¨ä»£ç åŒºå—é‡Œé¢,\u0026amp; ã€ \u0026lt; å’Œ \u0026gt; ä¼šè‡ªåŠ¨è½¬æˆ HTML å®ä½“, è¿™æ ·çš„æ–¹å¼è®©ä½ éå¸¸å®¹æ˜“ä½¿ç”¨ Markdown æ’å…¥èŒƒä¾‹ç”¨çš„ HTML åŸå§‹ç , åªéœ€è¦å¤åˆ¶è´´ä¸Š, å‰©ä¸‹çš„ Markdown éƒ½ä¼šå¸®ä½ å¤„ç†, ä¾‹å¦‚:\nTip: å€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒMarkdownå¯¹ç©ºæ ¼ã€ç©ºè¡Œå¾ˆæ•æ„Ÿï¼Œåœ¨è§£ææˆHTMLæ—¶ä¼šè‡ªåŠ¨æ·»åŠ ä¸€äº›\u0026lt;br\u0026gt;æ ‡ç­¾å¯¼è‡´å‡ºç°å¤§æ®µç©ºç™½ï¼Œæ‰€ä»¥HTMLå—è¦å°½é‡ç´§å‡‘ã€‚\nä»£ç :\nç¬¬ä¸€ä¸ªä¾‹å­:\n\u0026lt;div\u0026gt;\u0026amp;copy; 2007 Foo Corporation\u0026lt;/div\u0026gt; ç¬¬äºŒä¸ªä¾‹å­:\n\u0026lt;table\u0026gt;\u0026lt;tbody\u0026gt;\u0026lt;tr\u0026gt;\u0026lt;th rowspan=\u0026#34;2\u0026#34;\u0026gt;å€¼ç­äººå‘˜\u0026lt;/th\u0026gt;\u0026lt;th\u0026gt;æ˜ŸæœŸä¸€\u0026lt;/th\u0026gt;\u0026lt;th\u0026gt;æ˜ŸæœŸäºŒ\u0026lt;/th\u0026gt;\u0026lt;th\u0026gt;æ˜ŸæœŸä¸‰\u0026lt;/th\u0026gt;\u0026lt;/tr\u0026gt;\u0026lt;tr\u0026gt;\u0026lt;td\u0026gt;æå¼º\u0026lt;/td\u0026gt;\u0026lt;td\u0026gt;å¼ æ˜\u0026lt;/td\u0026gt;\u0026lt;td\u0026gt;ç‹å¹³\u0026lt;/td\u0026gt;\u0026lt;/tr\u0026gt;\u0026lt;/tbody\u0026gt;\u0026lt;/table\u0026gt; æ˜¾ç¤ºæ•ˆæœ:\nç¬¬ä¸€ä¸ªä¾‹å­:\n\u0026copy; 2007 Foo Corporation ç¬¬äºŒä¸ªä¾‹å­:\nå€¼ç­äººå‘˜æ˜ŸæœŸä¸€æ˜ŸæœŸäºŒæ˜ŸæœŸä¸‰æå¼ºå¼ æ˜ç‹å¹³ ","date":"October 12 2017","permalink":"/posts/2017/markdown-tutorial/","section":"ç¢è¯­é—²è¨€","summary":"é€ŸæŸ¥æ‰‹å†Œ # *æ–œä½“* ~\u0026gt; æ–œä½“","title":"Markdown å®Œå…¨æ‰‹å†Œ"},{"content":"å…³äº Hexo å¦‚ä½•ä½¿ç”¨ï¼Œç½‘ä¸Šå·²ç»æœ‰å¾ˆå¤šæ•™ç¨‹äº†ï¼Œä¸å†èµ˜è¿°ã€‚æ¶‰åŠçš„å‡ ä¸ªç›¸å…³å‘½ä»¤ä¹Ÿå°±æ˜¯:\n$ npm install -g hexo $ hexo init $ hexo generate (hexo g) $ hexo server (hexo s) $ hexo new [name] - æ–°å»ºæ–‡ç«  $ hexo new page [name] - æ–°å»ºé¡µé¢ æ­£å¸¸æƒ…å†µä¸‹ï¼Œè¿™æ ·å°±ä¼šå¯åŠ¨æœ¬åœ°çš„æœåŠ¡:http://localhost:4000ï¼Œä½†ç°å®æ€»æ˜¯æ®‹é…·çš„ï¼Œ\nç”±äºå›½å†…XXXçš„ç½‘ç»œç¯å¢ƒï¼Œæ€»ä¼šé‡åˆ°å„ç§å„æ ·çš„é—®é¢˜ï¼Œ\nä¸‹é¢æ€»ç»“ä¸€ä¸‹æœ¬åšå®¢è¿ç§»åˆ°Hexoè¿‡ç¨‹ä¸­é‡åˆ°çš„ä¸€äº›é—®é¢˜ã€‚\nNPM æº # nodeçš„åŒ…ç®¡ç†å·¥å…·npmï¼Œé»˜è®¤ä½¿ç”¨å›½å¤–çš„æºï¼Œè®¿é—®æ¯”è¾ƒæ…¢ï¼Œå»ºè®®æ¢æˆå›½å†…æºï¼Œæ¯”å¦‚ æ·˜å®npm:\n$ npm install -g cnpm --registry=https://registry.npm.taobao.org è¿™æ ·å°±å¯ä»¥ä½¿ç”¨cnpmä»£æ›¿npmè¿›è¡Œæ¨¡å—å®‰è£…äº†:\n$ cnpm install [name] æˆ–è€…ï¼Œä½¿ç”¨nrm (npmçš„æºç®¡ç†å·¥å…·):\n$ npm install nrm $ nrm ls * npm ---- https://registry.npmjs.org/ cnpm --- http://r.cnpmjs.org/ taobao - https://registry.npm.taobao.org/ nj ----- https://registry.nodejitsu.com/ rednpm - http://registry.mirror.cqupt.edu.cn/ npmMirror https://skimdb.npmjs.com/registry/ edunpm - http://registry.enpmjs.org/ $ nrm use taobao $ nrm test taobao Hexo å®‰è£… # hexo-server # hexo serveræ‰§è¡Œå¤±è´¥:\nERROR Plugin load filed: hexo-server éœ€è¦å•ç‹¬å®‰è£…hexo-server:\n$ npm install hexo-server --save node-sass # $ npm install node-sass --save å¦‚æœå‡ºç°å¦‚ä¸‹æƒ…å†µ:\n$ node scripts/install.js Cannot download \u0026#34;https://github.com/sass/node-sass/releases/download/v4.5.3/darwin-x64-51_binding.node\u0026#34;: read ECONNRESET Hint: If github.com is not accessible in your location try setting a proxy via HTTP_PROXY, e.g. export HTTP_PROXY=http://example.com:1234 or configure npm proxy via npm config set proxy http://example.com:8080 $ node-sass@4.5.3 postinstall /private/tmp/node_modules/node-sass $ node scripts/build.js è¯´æ˜ github è®¿é—®æ¯”è¾ƒæ…¢ï¼Œä¸¤ç§æ–¹æ³•ï¼š\nä¿®æ”¹ host: http://tool.chinaz.com/dns?type=1\u0026amp;host=github.com\u0026amp;ip=\næ‰¾ä¸€ä¸ªTTLæ¯”è¾ƒå°çš„hostï¼Œå¦‚:\n192.30.255.112 github.com ç›´æ¥å»githubä¸‹è½½ https://github.com/sass/node-sass/releases/download/v4.5.3/darwin-x64-51_binding.node\nç„¶åå°†è¯¥æ–‡ä»¶æ”¾åˆ°ç›®å½•:~/.npm/node-sass/4.5.3/darwin-x64-51_binding.node\nå†æ‰§è¡Œå®‰è£…å‘½ä»¤\n$ npm intall node-sass --save hexo-renderer-scss # æœ‰äº›ä¸»é¢˜éœ€è¦å®‰è£…hexo-renderer-scss:\n$ npm install hexo-renderer-scss --save ä¼šå‡ºç°é”™è¯¯:\nERROR Plugin load failed: hexo-renderer-scss Error: ENOENT: no such file or directory, scandir \u0026#39;xxx/node_modules/node-sass/vendor\u0026#39; at Object.fs.readdirSync (fs.js:914:18) ... æç¤ºè¿™ä¸ªç›®å½•æ‰¾ä¸åˆ°ï¼Œé‚£æˆ‘ä»¬æ‰‹åŠ¨åˆ›å»ºå¥½äº†:\n$ mkdir xxx/node_modules/node-sass/vendor $ mkdir xxx/node_modules/hexo-renderer-scss/node_modules/node-sass/vendor æ¥ä¸‹æ¥è¿˜æ˜¯æŠ¥é”™:\nERROR Plugin load failed: hexo-renderer-scss Error: Missing binding xxx/node_modules/hexo-renderer-scss/node_modules/node-sass/vendor/darwin-x64-51/binding.node Node Sass could not find a binding for your current environment: OS X 64-bit with Node.js 7.x Found bindings for the following environments: åˆ°è¿™ä¸ªç›®å½•ä¸‹ï¼ŒæŠŠåˆšåˆšä¸‹è½½çš„darwin-x64-51_binding.nodeé‡å‘½åå¤åˆ¶è¿›å»å¥½äº†:\n$ mkdir xxx/node_modules/hexo-renderer-scss/node_modules/node-sass/vendor/darwin-x64-51/ $ cp darwin-x64-51_binding.node xxx/node_modules/hexo-renderer-scss/node_modules/node-sass/vendor/darwin-x64-51/binding.node é¡µé¢ç©ºç™½ # æœ‰æ—¶æ‰§è¡Œhexo såæ˜¾ç¤ºæœåŠ¡å¯åŠ¨ï¼Œä½†é¡µé¢æ‰“å¼€ç©ºç™½ï¼Œæ˜¾ç¤ºCannot GET /ï¼Œè¿™ç§æƒ…å†µæœ‰å¾ˆå¤šåŸå› ï¼Œ\nå¯ä»¥å°è¯•:\n$ npm install $ hexo cl $ hexo g $ hexo s å¦‚æœè¿˜æœ‰é—®é¢˜ï¼ŒæŸ¥çœ‹ä¸€ä¸‹npmæ’ä»¶æ˜¯å¦å®‰è£…æ­£å¸¸:\n$ npm ls --depth 0 hexo-site@0.0.0 xxx â”œâ”€â”€ hexo@3.3.9 â”œâ”€â”€ hexo-deployer-git@0.3.1 â”œâ”€â”€ hexo-generator-archive@0.1.4 â”œâ”€â”€ hexo-generator-baidu-sitemap@0.1.2 â”œâ”€â”€ hexo-generator-category@0.1.3 â”œâ”€â”€ hexo-generator-feed@1.2.2 â”œâ”€â”€ hexo-generator-index@0.2.1 â”œâ”€â”€ hexo-generator-sitemap@1.2.0 â”œâ”€â”€ hexo-generator-tag@0.2.0 â”œâ”€â”€ hexo-renderer-ejs@0.3.1 â”œâ”€â”€ hexo-renderer-marked@0.3.0 â”œâ”€â”€ hexo-renderer-scss@1.0.3 â”œâ”€â”€ hexo-renderer-stylus@0.3.3 â”œâ”€â”€ hexo-server@0.2.2 â””â”€â”€ node-sass@4.5.3 npm ERR! invalid: hexo-generator-baidu-sitemap@0.0.8 xxx/node_modules/hexo-generator-baidu-sitemap/node_modules/hexo-generator-baidu-sitemap å¯ä»¥çœ‹åˆ°hexo-generator-baidu-sitemapè¿™ä¸ªæ’ä»¶å®‰è£…å¤±è´¥äº†ï¼Œå°è¯•é‡æ–°å®‰è£…æˆ–è€…åˆ é™¤å®ƒ:\n$ npm install hexo-generator-baidu-sitemap --save $ npm uninstall hexo-generator-baidu-sitemap æˆ–è€…åœ¨package.jsonä¸­å°†å®ƒåˆ é™¤æ‰ã€‚\n","date":"September 27 2017","permalink":"/posts/2017/hexo-workflow/","section":"ç¢è¯­é—²è¨€","summary":"\u003cp\u003eå…³äº Hexo å¦‚ä½•ä½¿ç”¨ï¼Œç½‘ä¸Šå·²ç»æœ‰å¾ˆå¤šæ•™ç¨‹äº†ï¼Œä¸å†èµ˜è¿°ã€‚æ¶‰åŠçš„å‡ ä¸ªç›¸å…³å‘½ä»¤ä¹Ÿå°±æ˜¯:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e$ npm install -g hexo\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e$ hexo init\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e$ hexo generate \u003cspan class=\"o\"\u003e(\u003c/span\u003ehexo g\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e$ hexo server \u003cspan class=\"o\"\u003e(\u003c/span\u003ehexo s\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e$ hexo new \u003cspan class=\"o\"\u003e[\u003c/span\u003ename\u003cspan class=\"o\"\u003e]\u003c/span\u003e - æ–°å»ºæ–‡ç« \n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e$ hexo new page \u003cspan class=\"o\"\u003e[\u003c/span\u003ename\u003cspan class=\"o\"\u003e]\u003c/span\u003e - æ–°å»ºé¡µé¢\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","title":"ä½¿ç”¨ Hexo é‡åˆ°çš„ä¸€äº›é—®é¢˜"},{"content":" æ¥è‡ªä¸€ä¸ªç¥å¥‡çš„åŸŸå: http://fuckingblocksyntax.com/\nä½¿ç”¨æ–¹æ³• # å±€éƒ¨å˜é‡ # returnType (^blockName)(parameterTypes) = ^returnType(parameters) {...}; ä¾‹å¦‚ï¼š\ndouble (^multiply)(double, double) = ^double(double a, double b) { return a * b; }; // å…¶ä¸­è¿”å›å€¼å¯ä»¥çœç•¥ double (^multiply)(double, double) = ^(double a, double b) { return a * b; }; // å¦‚æœå‚æ•°ä¸ºç©ºï¼Œå¯ä»¥ç»§ç»­çœç•¥ void (^voidBlock)(void) = ^{ }; å±æ€§ property # @property (nonatomic, copy, nullability) returnType (^blockName)(parameterTypes); ä¾‹å¦‚ï¼š\n@property (nonatomic, copy) double (^multiply)(double, double); @property (nonatomic, copy) void (^voidBlock)(void); æ–¹æ³•å‚æ•° # - (void)someMethodThatTakesABlock:(returnType (^nullability)(parameterTypes))blockName; ä¾‹å¦‚ï¼š\n- (void)someMethodCallBlock:(double (^_Nonnull)(double, double))multiply { } è¿™é‡Œ _Nonnull ä¿®é¥°çš„æ˜¯ block æœ¬èº«ï¼Œä¹Ÿå°±æ˜¯ä¼ ä¸€ä¸ª nil çš„ blockï¼Œä¼šæœ‰ warning\nNull passed to a callee that requires a non-null argument\nå‚æ•°è°ƒç”¨ # [someObject someMethodThatTakesABlock:^returnType (parameters) {...}]; ä¾‹å¦‚ï¼š\n[self someMethodCallBlock:^(double a, double b) { return a * b; }]; è¿™é‡Œçš„è¿”å›å€¼ä¹Ÿå¯ä»¥å¿½ç•¥ã€‚\ntypedef å®šä¹‰ # typedef returnType (^TypeName)(parameterTypes); TypeName blockName = ^returnType(parameters) {...}; ä¾‹å¦‚ï¼š\ntypedef double (^Multiplier)(double, double); @property (nonatomic, copy) Multiplier multiply; Hint # block åœ¨ ARC ä¸‹æ˜¯å¦å£°æ˜ä¸º copy å±æ€§ It is still a good idea to declare block properties as having copy semantics since a block assigned to a strong property will in fact be copied.\nApple recommends this as well:\nYou should specify copy as the property attribute, because a block needs to be copied to keep track of its captured state outside of the original scope. This isnâ€™t something you need to worry about when using Automatic Reference Counting, as it will happen automatically, but itâ€™s best practice for the property attribute to show the resultant behavior.\n","date":"May 31 2017","permalink":"/posts/2017/how-to-declare-block-in-oc/","section":"ç¢è¯­é—²è¨€","summary":"æ¥è‡ªä¸€ä¸ªç¥å¥‡çš„åŸŸå: http://fuckingblocksyntax.","title":"åœ¨ ObjC ä¸­å¦‚ä½•å®šä¹‰ Block"},{"content":"æœ€è¿‘å¼€å‘çš„ä¸€ä¸ªç¨‹åºï¼Œç”¨æˆ·åé¦ˆ CPU å ç”¨éå¸¸é«˜ï¼ŒåŸºæœ¬æŠŠä¸€ä¸ªå†…æ ¸å ç”¨æ»¡äº†ã€‚\næˆ‘è‡ªå·±åœ¨è™šæ‹Ÿæœºä¸­è¯•äº†ä¸‹ï¼Œç¡®å®è¿™æ ·ï¼\nåœ¨ç”¨æˆ·æœºå™¨ä¸­è·å–äº† DUMPï¼Œåªçœ‹åˆ°æœ‰å‡ ä¸ªçº¿ç¨‹ä¸€ç›´åœ¨è·‘ï¼Œè°ƒç”¨å †æ ˆä¸­ä¹Ÿçœ‹ä¸åˆ°å¤ªå¤šä¿¡æ¯ï¼ˆä¸»è¦æ˜¯æ²¡æœ‰çº¿ç¨‹ CPU å ç”¨ä¿¡æ¯ï¼‰ï¼Œä¸€æ—¶æ²¡æœ‰æ–¹æ³•ã€‚\nä»Šå¤©çªç„¶æƒ³åˆ° VS2013ï¼Œæ–°ç‰ˆæœ¬å¢åŠ äº†ä¸€äº›åŠŸèƒ½ï¼Œè²Œä¼¼æœ‰æ€§èƒ½åˆ†æç›¸å…³çš„ã€‚\næ‰¾äº†ä¸€ä¸‹ï¼Œæœç„¶åœ¨è°ƒè¯•èœå•ä¸‹å‘ç°äº†æ€§èƒ½ä¸è¯Šæ–­ï¼š\né€‰æ‹© CPUä½¿ç”¨ç‡ï¼Œå°±å¼€å§‹åˆ†æå•¦ï¼\nå¾ˆå¿«å°±ç»™å‡ºäº†åˆ†æç»“æœï¼š\nå“ˆå“ˆï¼ç¬é—´å®šä½ CPU å ç”¨å…ƒå‡¶ï¼ŒåŸæ¥æ˜¯ä¸€ä¸ªåå°çº¿ç¨‹ä¸€ç›´åœ¨è·‘ï¼ˆç©ºè½¬ï¼‰ï¼Œè®¾è®¡ä¸åˆç†ã€‚è¿™ä¸ªçº¿ç¨‹æœ€æ—©è®¾è®¡æˆè‡ªé©±åŠ¨çš„ï¼Œæ‰¾åˆ°åŸå› å°±å¥½åŠäº†ï¼Œæ”¹æˆè¢«é©±åŠ¨å¼å°±è¡Œäº†ï¼\n","date":"August 8 2016","permalink":"/posts/2016/detect-cpu-usage-with-vs2013/","section":"ç¢è¯­é—²è¨€","summary":"\u003cp\u003eæœ€è¿‘å¼€å‘çš„ä¸€ä¸ªç¨‹åºï¼Œç”¨æˆ·åé¦ˆ CPU å ç”¨éå¸¸é«˜ï¼ŒåŸºæœ¬æŠŠä¸€ä¸ªå†…æ ¸å ç”¨æ»¡äº†ã€‚\u003c/p\u003e","title":"VS2013 æ£€æµ‹ CPU å ç”¨ç‡"},{"content":" å®‰è£… Ruby å’Œ Ruby DevKit\nRuby 2.2.4 Ruby DevKit åˆ‡æ¢åˆ°å®‰è£…ç›®å½•ï¼š\n$ cd C:\\RubyDevKit $ ruby dk.rb init $ ruby dk.rb install å®‰è£…Jekyll\n$ gem install jekyll $ gem install wdm åˆ‡æ¢åˆ°åšå®¢ç›®å½•è¿è¡Œ\n$ jekyll build [--watch/-w] $ jekyll serve [--watch/-w] ç”¨æµè§ˆå™¨æ‰“å¼€http://127.0.0.1:4000ï¼Œå³å¯çœ‹åˆ°æ•ˆæœï¼Œè€Œä¸”åœ¨ä¿®æ”¹æ–‡ä»¶çš„åŒæ—¶åˆ·æ–°é¡µé¢å³å¯å®æ—¶æ›´æ–°ã€‚\nå¯ä»¥é€šè¿‡\u0026ndash;port 888æŒ‡å®šç«¯å£å·ï¼Œæ›´å¤šå‘½ä»¤è¡Œå‚æ•°å‚è€ƒ[å®˜æ–¹æ‰‹å†Œ]1\nå®‰è£…æœ‰é—®é¢˜ï¼Œå¯ä»¥å‚è€ƒæ›´å¤šæ–‡æ¡£ï¼š\n[Running Jekyll on Windows]2\n[Jekyll Windows]3\n[Setup Jekyll on Windows]4\nhttp://jekyll.bootcss.com/docs/configuration/ \u0026ldquo;é…ç½®\u0026rdquo;\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttp://www.madhur.co.in/blog/2011/09/01/runningjekyllwindows.html\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttp://jekyll-windows.juthilo.com/\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttp://yizeng.me/2013/05/10/setup-jekyll-on-windows/\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"June 5 2016","permalink":"/posts/2016/install-jekyll-locally/","section":"ç¢è¯­é—²è¨€","summary":"\u003cp\u003e\n\n\n\n  \u003cfigure\u003e\n    \u003cimg class=\"my-0 rounded-md\" src=\"https://ryder-1252249141.cos.ap-shanghai.myqcloud.com/uPic/2022-04-07-jekyll.jpg\" alt=\"\" /\u003e\n    \n  \u003c/figure\u003e\n\n\u003c/p\u003e\n\u003cp\u003eå®‰è£… Ruby å’Œ Ruby DevKit\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"http://dl.bintray.com/oneclick/rubyinstaller/rubyinstaller-2.2.4.exe\"\u003eRuby 2.2.4\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"http://dl.bintray.com/oneclick/rubyinstaller/DevKit-mingw64-32-4.7.2-20130224-1151-sfx.exe\"\u003eRuby DevKit\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e","title":"Jekyll æœ¬åœ°å®‰è£…"}]